(this.webpackJsonpbimplan=this.webpackJsonpbimplan||[]).push([[0],{218:function(t,e,n){},220:function(t,e,n){},354:function(t,e,n){},363:function(t,e,n){},374:function(t,e,n){},375:function(t,e,n){},376:function(t,e,n){},377:function(t,e,n){},378:function(t,e,n){},379:function(t,e,n){},380:function(t,e,n){},381:function(t,e,n){},382:function(t,e,n){},384:function(t,e,n){},385:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(0),r=n.n(s),c=n(31),a=n.n(c),u=(n(218),n(3)),o=n(4),h=n(12),d=n(11),l=(n(219),n(220),n(2)),f=n(53),m=n.n(f),I=n(90),v=n(189),p=n.n(v),b=n(390),k=function(t){return p.a.create({baseURL:"https://api.bimdev.vn/api",Accept:"application/json","Content-Type":"application/json",timeout:t})},_=function(t,e){return e&&b.b.error("Error sending request: ".concat(t)),{data:void 0}},O=function(t){return{success:t.status>=200&&t.status<300,data:t.data,message:t.statusText}},j=function(){var t=Object(I.a)(m.a.mark((function t(e,n){var i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return i=t.sent,t.abrupt("return",O(i));case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",_(t.t0,n));case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,7,11,13]])})));return function(e,n){return t.apply(this,arguments)}}(),g=2e4,D=function(){var t=Object(I.a)(m.a.mark((function t(e,n,i,s){var r,c=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!(c.length>4&&void 0!==c[4])||c[4],s=s||g,t.next=4,j(k(s).put(e,n,i));case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),y=function(){var t=Object(I.a)(m.a.mark((function t(e,n,i,s){var r,c=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!(c.length>4&&void 0!==c[4])||c[4],s=s||g,t.next=4,j(k(s).post(e,n,i));case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),S=(new Intl.DateTimeFormat("en-GB"),function(){return Math.random().toString(36).substr(2,9)}),w=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},x=function(t,e,n,i){var s=[];return t.forEach((function(t){var r=t[e],c=void 0,a=s.findIndex((function(t){return r===t.Key}));-1===a?(n?(c=n(r)).Items||(c.Items=[]):c={Key:r,Items:[]},s.push(c)):c=s[a];var u=i?i(t,c):t;c.Items.push(u)})),s},V=function(t,e){var n=t.findIndex((function(t){return t.Key===e}));if(0!==n)return t.splice(n,1)},C=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.push({Key:w(),Value:e,IsDelete:n})},F=function(t,e){t.forEach((function(t){return t.Value()})),e(t=t.filter((function(t){return!t.IsDelete})))},M=function(t,e,n){var i=t.ApiData,s=!i._id;(s?y("".concat(e,"/add"),i):D("".concat(e,"/edit"),i)).then((function(t){return t.data})).then((function(e){s&&(t._id=e._id),n(e,s)}))},R=function(t,e,n){var i={_id:t._id};D("".concat(e,"/delete"),i).then((function(t){return t.data})).then((function(t){n(t)}))},N=function(t,e,n){var i=t.findIndex(e);if(void 0===(s=-1!==i?t[i]:void 0)&&n){var s=n();t.push(s)}return s},T="https://api.bimdev.vn/api/hbmt_cb",P=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,T,(function(){t&&b.b.success("save successfully!"),n&&n()}))},this.Save=function(t){},this.Delete=function(){e.CurrentList.splice(e.Index,1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,T,(function(){t&&b.b.success("delete successfully!"),n&&n()}))}}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Plan",get:function(){return this.plan||(this.plan=zt(this)),this.plan}},{key:"IsOwner",get:function(){return Xt(this)}},{key:"ApiData",get:function(){return{_id:this._id,code:this.Code,name:this.Name}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),G=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"id",get:function(){return this.Dict.id}},{key:"TaskDict",get:function(){return this.taskDict||(this.taskDict=Ut(this)),this.taskDict}}]),t}(),W=n(208),A="https://api.bimdev.vn/api/hbp_task",E=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.disciplineId=void 0,this.bimuseId=void 0,this.categoryId=void 0,this.startDate=void 0,this.finishDate=void 0,this.BaselineFinish=void 0,this.planwork=void 0,this.BaselineWork=void 0,this.assignId=void 0,this.OnSet_SupItem_Func=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,A,(function(){t&&b.b.success("save successfully!"),n&&n()}))},this.Insert=function(t,n){At(e,t,n)},this.On_Save_Func=[],this.ForceSave=function(t){Et(e,t)},this.Save=function(t){Bt(e,t)},this.Delete=function(){Ht(e)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,A,(function(){t&&b.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{__id:l.l,startDate:l.l,finishDate:l.l,BaselineFinish:l.l,planwork:l.l,BaselineWork:l.l,assignId:l.l,disciplineId:l.l,bimuseId:l.l,categoryId:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"IsNew",get:function(){return!this._id}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Discipline",get:function(){return this.discipline},set:function(t){this.discipline=t,this.disciplineId=null===t||void 0===t?void 0:t._id}},{key:"BIMUse",get:function(){return this.bimuse},set:function(t){this.bimuse=t,this.bimuseId=null===t||void 0===t?void 0:t._id}},{key:"Category",get:function(){return this.category},set:function(t){this.category=t,this.categoryId=null===t||void 0===t?void 0:t._id}},{key:"StartDate",get:function(){return this.startDate||(this.startDate=new Date),this.startDate},set:function(t){this.startDate=t}},{key:"FinishDate",get:function(){return this.finishDate||(this.finishDate=new Date),this.finishDate},set:function(t){this.finishDate=t}},{key:"Duration",get:function(){return void 0===this.duration&&(this.duration=Vt(this)),this.duration},set:function(t){this.duration=t}},{key:"Planwork",get:function(){return void 0===this.planwork&&(this.planwork=0),this.planwork},set:function(t){this.planwork=t}},{key:"Manage",get:function(){return this.manage},set:function(t){this.manage=t,this.manageId=null===t||void 0===t?void 0:t._id}},{key:"ownerIds",get:function(){return Mt(this)}},{key:"IsOwner",get:function(){return Rt(this)}},{key:"IsManage",get:function(){return Nt(this)}},{key:"Assign",get:function(){return this.assign},set:function(t){this.assign=t,this.assignId=null===t||void 0===t?void 0:t._id}},{key:"IsAssign",get:function(){return Tt(this)}},{key:"IsVisible",get:function(){return Pt(this)}},{key:"PredecessorData",get:function(){return this.predecessorData||(this.predecessorData=Ct(this)),this.predecessorData}},{key:"ReportDict",get:function(){return this.reportDict||(this.reportDict=Ft(this)),this.reportDict}},{key:"SupItem",get:function(){return void 0===this.supItem&&Gt(this),this.supItem},set:function(t){var e=this;this.supItem=t,F(this.OnSet_SupItem_Func,(function(t){return e.OnSet_SupItem_Func=t}))}},{key:"SubItems",get:function(){return Wt(this)}},{key:"ApiData",get:function(){var t;return{_id:this._id,projectId:this.Dict.Dict.Dict._id,supId:null===(t=this.SupItem)||void 0===t?void 0:t._id,order:this.Index,name:this.Name,disciplineId:this.disciplineId,bimuseId:this.bimuseId,categoryId:this.categoryId,startDate:this.StartDate,finishDate:this.FinishDate,planwork:this.Planwork,manageId:this.manageId,assignId:this.assignId,predecessor:this.PredecessorData.ApiData}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),B=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"Data",get:function(){return this.data||(this.data=[]),this.data},set:function(t){this.data=t}},{key:"ApiData",get:function(){return this.Items.map((function(t){return t.ApiData}))}}]),t}(),H="FS",K=function(){function t(){var e=this;Object(u.a)(this,t),this.AsString=function(){return"".concat(e.Task.Index+1).concat((t=e.Type)===H?"":t);var t}}return Object(o.a)(t,[{key:"StartDate",get:function(){return Y(this)}},{key:"FinishDate",get:function(){return z(this)}},{key:"ApiData",get:function(){return{_id:this.Task.id,type:this.Type}}}]),t}(),L=function(t,e){var n=U(e);return(n.Task=t.task).DependedTasks.push(e.Dict),n.Type=t.type,n},U=function(t){var e=new K;return e.Dict=t,e},Y=function(t){var e=t.Task;switch(t.Type){case H:return e.FinishDate;case"SS":return e.StartDate;case"FF":case"SF":return}},z=function(t){var e=t.Task;switch(t.Type){case H:case"SS":return;case"FF":return e.FinishDate;case"SF":return e.StartDate}},X=n(15),$=n.n(X),q=function(t,e){for(var n=$()(t),i=$()(e),s=n.week(),r=i.week(),c=0,a=s;a<r+1;a++){var u=1;a===s&&(u=n.day()),u=0!==u?6!==u?u:5.5:1;var o=5.5;a===r&&(o=i.day()),o=6!==o?o:5.5,c+=5.5!==u?o-u+1:.5}return c},J="https://api.bimdev.vn/api/hbp_report",Q=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.submitWork=void 0,this.Assessment=3,this.owner=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,J,(function(){t&&b.b.success("save successfully!"),n&&n()}))},this.Save=function(t){var n=function(){t&&t()};e.OnSave?n():(e.OnSave=!0,e.SaveDatabase(!1,(function(){e.OnSave=!1,n()})))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,J,(function(){t&&b.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{submitWork:l.l,owner:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"SubmitWork",get:function(){return void 0===this.submitWork&&(this.submitWork=kt(this)),this.submitWork},set:function(t){this.submitWork=t}},{key:"ActualWork",get:function(){return void 0===this.actualWork&&(this.actualWork=this.SubmitWork),this.actualWork},set:function(t){this.actualWork=t}},{key:"ownerId",get:function(){return this._ownerId||(this._ownerId=jt(this)),this._ownerId},set:function(t){this._ownerId=t}},{key:"Owner",get:function(){return this.owner||gt(this),this.owner},set:function(t){this.owner=t}},{key:"IsOwner",get:function(){return Dt(this)}},{key:"ApproveDict",get:function(){return this.approveDict||(this.approveDict=_t(this)),this.approveDict}},{key:"Status",get:function(){return this.status||(this.status=Ot(this)),this.status}},{key:"ApiData",get:function(){return{_id:this._id,ownerId:this.ownerId,taskId:this.Dict.Dict._id,submitwork:this.SubmitWork,actualwork:this.ActualWork,assessment:this.Assessment,note:this.Note,rebarweight:this.RebarWeight,state:this.Status.State}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Z="https://api.bimdev.vn/api/hbp_reportapprove",tt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.owner=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,Z,(function(){t&&b.b.success("save successfully!"),n&&n()}))},this.Save=function(t){var n=function(){t&&t()};e.OnSave?n():(e.OnSave=!0,e.SaveDatabase(!1,(function(){e.OnSave=!1,n()})))},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,Z,(function(){t&&b.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{owner:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"SubmitWork",get:function(){return void 0===this.submitWork&&(this.submitWork=at(this,"SubmitWork")),this.submitWork},set:function(t){this.submitWork=t}},{key:"ActualWork",get:function(){return void 0===this.actualWork&&(this.actualWork=at(this,"ActualWork")),this.actualWork},set:function(t){this.actualWork=t}},{key:"Assessment",get:function(){return void 0===this.assessment&&(this.assessment=at(this,"Assessment")),this.assessment},set:function(t){this.assessment=t}},{key:"Note",get:function(){return void 0===this.note&&(this.note=at(this,"Note")),this.note},set:function(t){this.note=t}},{key:"RebarWeight",get:function(){return void 0===this.rebarWeight&&(this.rebarWeight=at(this,"RebarWeight")),this.rebarWeight},set:function(t){this.rebarWeight=t}},{key:"Level",get:function(){return this.level||(this.level=ot(this)),this.level}},{key:"Status",get:function(){return this.status||(this.status=ut(this)),this.status}},{key:"HostOwner",get:function(){return this.hostOwner||(this.hostOwner=ht(this)),this.hostOwner}},{key:"ownerId",get:function(){return this._ownerId||(this._ownerId=dt(this)),this._ownerId},set:function(t){this._ownerId=t}},{key:"Owner",get:function(){return this.owner||ft(this),this.owner},set:function(t){this.owner=t}},{key:"IsOwner",get:function(){return lt(this)}},{key:"ApiData",get:function(){return{_id:this._id,reportId:this.Dict.Dict._id,submitwork:this.SubmitWork,actualwork:this.ActualWork,assessment:this.Assessment,note:this.Note,rebarweight:this.RebarWeight}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),et="draft",nt="done",it=function(){function t(){Object(u.a)(this,t),this.state=void 0,Object(l.k)(this,{state:l.l})}return Object(o.a)(t,[{key:"State",get:function(){return this.state||(this.state=st(this)),this.state},set:function(t){this.state=t}}]),t}(),st=function(t){var e=t.Dict,n=e.Dict.Items;return e.Dict.Dict.Status.State===nt||e.Index!==n.length-1?nt:et},rt=function(){return Ee.Instance},ct=function(t){var e=new tt;return e.Dict=t,e},at=function(t,e){return(0===t.Index?t.Dict.Dict:t.Dict.Items[t.Index-1])[e]},ut=function(t){return function(t){var e=new it;return e.Dict=t,e}(t)},ot=function(t){return t.HostOwner instanceof E?"task":"project"},ht=function(t){var e,n,i=t.Index;if(0===i)n=(e=t.Dict.Dict.Dict.Dict).Dict.Dict.Dict;else{var s=t.Dict.Items[i-1].HostOwner;n=s.Dict.Dict.Dict,e=s.SupItem}for(;e;){if(e.manageId)return e;e=e.SupItem}return n},dt=function(t){var e=t.HostOwner;return e instanceof E?e.manageId:e.ownerId},lt=function(t){return t.ownerId===rt().UserDict.loginId},ft=function(t){if(!t.IsGet_Owner){t.IsGet_Owner=!0;rt().UserDict.GetItem(t.ownerId,(function(e){return n=e,t.Owner=n,void(t.IsGet_Owner=!1);var n}))}},mt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=ct(e);return e.Items.push(t),t},Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||It(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),It=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=ct(e);return n._id=t._id,n.ownerId=t.ownerId,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork,n.Assessment=t.assessment,n.Note=t.note,n.RebarWeight=t.rebarweight,n}(e,t)})),t.IsGet_Items=!1},n=t.Dict;n._id?function(){t={reportId:n._id},i=function(t){e(t)},t=t||{},y("".concat(Z,"/list"),t).then((function(t){return t.data})).then((function(t){i&&i(t)}));var t,i}():n.Save((function(){return e([])}))}},vt=function t(){Object(u.a)(this,t),this.State=et,Object(l.k)(this,{State:l.l})},pt=function(){return Ee.Instance},bt=function(t){var e=new Q;return e.Dict=t,e},kt=function(t){var e=t.Dict;return e.Dict.Planwork-e.Items.filter((function(e){return e!==t})).reduce((function(t,e){return t+e.SubmitWork}),0)},_t=function(t){return function(t){var e=new mt;return e.Dict=t,e}(t)},Ot=function(t){return function(t){var e=new vt;return e.Dict=t,e}(t)},jt=function(t){return t.Dict.Dict.assignId},gt=function(t){if(!t.IsGet_Owner){t.IsGet_Owner=!0;pt().UserDict.GetItem(t.ownerId,(function(e){return n=e,t.Owner=n,void(t.IsGet_Owner=!1);var n}))}},Dt=function(t){return t.ownerId===pt().UserDict.loginId},yt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=bt(e);return e.Items.push(t),t},Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||St(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"SubmitWork",get:function(){return this.Items?this.Items.reduce((function(t,e){return t+e.SubmitWork}),0):0}}]),t}(),St=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=bt(e);return n._id=t._id,n.ownerId=t.ownerId,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork,n.Assessment=t.assessment,n.Note=t.note,n.RebarWeight=t.rebarweight,n.Status.State=t.state,n}(e,t)})),t.IsGet_Items=!1},n=t.Dict;n._id?function(){t={taskId:n._id},i=function(t){e(t)},t=t||{},y("".concat(J,"/list"),t).then((function(t){return t.data})).then((function(t){i&&i(t)}));var t,i}():n.IsNew?e([]):n.Save((function(){return e([])}))}},wt=function(){return Ee.Instance},xt=function(t){var e=new E;return e.Dict=t,e},Vt=function(t){return q(t.StartDate,t.FinishDate)},Ct=function(t){return function(t){var e=new B;return e.Dict=t,e}(t)},Ft=function(t){return function(t){var e=new yt;return e.Dict=t,e}(t)},Mt=function(t){var e=t.SupItem,n=e?Object(W.a)(e.ownerIds):[t.Dict.Dict.Dict.ownerId];return e&&e.manageId&&n.push(e.manageId),n},Rt=function(t){return t.ownerIds.includes(wt().UserDict.loginId)},Nt=function(t){return t.manageId===wt().UserDict.loginId},Tt=function(t){return t.assignId===wt().UserDict.loginId},Pt=function(t){return t.IsOwner||t.IsAssign||0!==t.SubItems.filter((function(t){return t.IsVisible})).length},Gt=function(t){t.IsGet_SupItem||(t.IsGet_SupItem=!0,t.supId&&(t.SupItem=N(t.Dict.Items,(function(e){return e._id===t.supId}))))},Wt=function(t){var e=t.Index;return t.Dict.Items.filter((function(n,i){return i>e&&n.SupItem===t}))},At=function(t,e,n){var i=e.location,s=t.Dict.Items;i<s.length?s.splice(i,0,t):s.push(t);for(var r=function(t,e){var n=0;return 0===t&&e(),function(){++n===t&&e()}}(s.length-i-1,(function(){n&&n()})),c=i+1;c<s.length;c++)s[c].Save(r)},Et=function(t,e){t.OnSave?C(t.On_Save_Func,(function(){return t.Save(e)})):t.Save(e)},Bt=function(t,e){var n=function(){e&&e()};t.OnSave?n():(t.OnSave=!0,console.log(t.Name,"save"),t.SaveDatabase(!1,(function(){t.OnSave=!1,F(t.On_Save_Func,(function(e){return t.On_Save_Func=e})),n()})))},Ht=function(t){var e=t.Index,n=t.Dict.Items;n.splice(e,1),t.DeleteDatabase(!1),t.SubItems.forEach((function(t){return t.Delete()}));for(var i=e;i<n.length;i++)n[i].Save()},Kt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(){var t=xt(e);return e.Items.push(t),t}}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Lt(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Lt=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=xt(e);return n._id=t._id,n.projectId=t.projectId,n.supId=t.supId,n.Name=t.name,n.disciplineId=t.disciplineId,n.bimuseId=t.bimuseId,n.categoryId=t.categoryId,n.StartDate=t.startDate,n.FinishDate=t.finishDate,n.Planwork=t.planwork,n.manageId=t.manageId,n.assignId=t.assignId,n.PredecessorData.Data=t.predecessor,n}(e,t)})),t.IsGet_Items=!1};e={projectId:t.Dict.Dict._id},n=function(t){i(t)},e=e||{},y("".concat(A,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Ut=function(t){return function(t){var e=new Kt;return e.Dict=t,e}(t)},Yt=function(t){var e=new P;return e.Dict=t,e},zt=function(t){return function(t){var e=new G;return e.Dict=t,e}(t)},Xt=function(t){return t.ownerId===Ee.Instance.UserDict.loginId},$t=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(){var t=Yt(e);return e.Items.push(t),t}}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||qt(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),qt=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e;e=[{_id:1,code:"01",name:"Test-Tai",ownerId:145},{_id:2,code:"02",name:"Test-ATuan",ownerId:118},{_id:3,code:"03",name:"Test-Hoa",ownerId:3201},{_id:4,code:"04",name:"Test-4",ownerId:145}],t.Items=e.map((function(e){return function(t,e){var n=Yt(e);return n._id=t._id,n.Code=t.code,n.Name=t.name,n.ownerId=t.ownerId,n}(e,t)})),t.IsGet_Items=!1}},Jt="https://api.bimdev.vn/api/hbp_user",Qt=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Zt=function(t,e){var n=te(e);return n._id=t._id,n.Name=t.name,n},te=function(t){var e=new Qt;return e.Dict=t,e},ee=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.loginId=145,this.GetItem=function(t,n){ie(e,t,n)},Object(l.k)(this,{items:l.l,loginId:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||ne(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"LoginUser",get:function(){return this.loginUser},set:function(t){this.loginUser=t,this.loginId=null===t||void 0===t?void 0:t._id}}]),t}(),ne=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n;n=function(e){!function(e){t.Items=e.map((function(e){return Zt(e,t)})),t.IsGet_Items=!1}(e)},e=(e={})||{},y("".concat(Jt,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},ie=function(t,e,n){var i={userId:e};y("".concat(Jt,"/get"),i).then((function(t){return t.data})).then((function(t){n&&n(t)}))},se=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.BIMUses=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),re=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return"".concat(this.Dict.id,"-").concat(this._id)}}]),t}(),ce=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return"".concat(this.Dict.id,"-").concat(this._id)}}]),t}(),ae=function(t){var e=new ce;return e.Dict=t,e},ue=function(t,e){var n=oe(e);return n._id=t._id,n.Name=t.name,n.Categories=t.categories?t.categories.map((function(t){return function(t,e){var n=ae(e);return n._id=t._id,n.Name=t.name,n}(t,n)})):[],n},oe=function(t){var e=new re;return e.Dict=t,e},he=function(t){var e=new se;return e.Dict=t,e},de=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||le(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),le=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e;e=[{_id:2,name:"Structural",bimuses:[{_id:1,name:"Ph\u1ed1i h\u1ee3p 3D",categories:[{_id:1,name:"Ph\xf4\u0301i h\u01a1\u0323p, x\u01b0\u0309 li\u0301 th\xf4ng tin"},{_id:2,name:"Ki\xea\u0309m tra xung \u0111\xf4\u0323t"}]},{_id:2,name:"D\u1ef1ng m\xf4 h\xecnh 3D",categories:[{_id:1,name:"C\u1ed9t v\xe1ch"},{_id:2,name:"K\u1ebft c\u1ea5u th\xe9p"}]}]},{_id:3,name:"Architect",bimuses:[{_id:1,name:"D\u1ef1ng m\xf4 h\xecnh 3D",categories:[{_id:1,name:"C\u1ed1t th\xe9p"},{_id:2,name:"\u0110\xe0o/ \u0111\u1eafp \u0111\u1ea5t"}]},{_id:2,name:"Th\u01b0\u0323c hi\xea\u0323n ba\u0309n ve\u0303",categories:[{_id:1,name:"BV Ho\xe0n thi\u1ec7n T\u01b0\u1eddng"},{_id:2,name:"BV Ho\xe0n thi\u1ec7n m\u1eb7t ngo\xe0i"}]}]}],t.Items=e.map((function(e){return function(t,e){var n=he(e);return n._id=t._id,n.Name=t.name,n.BIMUses=t.bimuses?t.bimuses.map((function(t){return ue(t,n)})):[],n}(e,t)})),t.IsGet_Items=!1}},fe=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||ve(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),me=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Ie=function(t){var e=new me;return e.Dict=t,e},ve=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Ie(e);n._id=t._id,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork,n.Assessment=t.assessment;var i=t.task;return n.TaskName=i.name,n.Planwork=i.planwork,n}(e,t)})),t.IsGet_Items=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_reportdata","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},pe=function(){function t(){Object(u.a)(this,t),this.GroupField="assignId",this.OnSet_Tasks_Func=[],this.tasks=void 0,this.OnSet_WeekDicts_Func=[]}return Object(o.a)(t,[{key:"Tasks",get:function(){return this.tasks||Re(this),this.tasks},set:function(t){var e=this;this.tasks=t,F(this.OnSet_Tasks_Func,(function(t){return e.OnSet_Tasks_Func=t}))}},{key:"WeekDicts",get:function(){return this.weekDicts||Ne(this),this.weekDicts},set:function(t){var e=this;this.weekDicts=t,F(this.OnSet_WeekDicts_Func,(function(t){return e.OnSet_WeekDicts_Func=t}))}}]),t}(),be=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"WeekItems",get:function(){return this.weekItems||(this.weekItems=ye(this)),this.weekItems}}]),t}(),ke=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Duration",get:function(){return this.duration||(this.duration=je(this)),this.duration}},{key:"Planwork",get:function(){return this.planwork||(this.planwork=ge(this)),this.planwork}},{key:"CurrentList",get:function(){return this.Dict.WeekItems}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),_e=function(t,e){var n=Oe(e);return n._id=t._id,n.Week=t.week,n},Oe=function(t){var e=new ke;return e.Dict=t,e},je=function(t){var e=t.Dict,n=t.CurrentList.length,i=t.Index,s=1;0===i&&(s=$()(e.StartDate).day()),s=0!==s?s:1;var r=5.5;return i===n-1&&(r=$()(e.FinishDate).day()),(r=6!==r?r:5.5)-s+1},ge=function(t){var e=t.Dict,n=t.CurrentList.reduce((function(t,e){return t+e.Duration}),0);return e.Planwork/n*t.Duration},De=function(t){var e=new be;return e.Dict=t,e},ye=function(t){for(var e=$()(t.StartDate).week(),n=$()(t.FinishDate).week(),i=[],s=e;s<n+1;s++){var r=_e({_id:s,week:s},t);i.push(r)}return i},Se=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.Items=[],this.OnSet_Weeks_Func=[],this.weeks=void 0}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Weeks",get:function(){return this.weeks||Me(this),this.weeks},set:function(t){var e=this;this.weeks=t,console.log(t),F(this.OnSet_Weeks_Func,(function(t){return e.OnSet_Weeks_Func=t}))}},{key:"View",get:function(){var t;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:this.id}),null===(t=this.Weeks)||void 0===t?void 0:t.map((function(t){return t.View}))]},this.id)}}]),t}(),we=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.Items=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Planwork",get:function(){return this.planwork||(this.planwork=Ve(this)),this.planwork}},{key:"View",get:function(){return Ce(this)}}]),t}(),xe=function(t){var e=new we;return e.Dict=t,e},Ve=function(t){return t.Items.reduce((function(t,e){return t+e.Planwork}),0)},Ce=function(t){return Object(i.jsx)("td",{children:t.Planwork.toFixed(0)},t.id)},Fe=function(t){var e=new Se;return e.Dict=t,e},Me=function(t){if(!t.IsGet_Weeks){t.IsGet_Weeks=!0;!function(e){var n=[];e.forEach((function(t){return n.push.apply(n,t.WeekItems)})),t.Weeks=x(n,"Week",(function(e){return function(t,e){var n=xe(e);return n._id=t._id,n.Week=t.week,n}({_id:e,week:e},t)})),t.IsGet_Weeks=!1}(t.Items)}},Re=function(t){if(!t.IsGet_Tasks){t.IsGet_Tasks=!0;var e,n,i=function(e){t.Tasks=e.map((function(e){return function(t,e){var n=De(e);return n._id=t._id,n.StartDate=t.startDate,n.FinishDate=t.finishDate,n.Planwork=t.planwork,n.assignId=t.assignId,n}(e,t)})),t.IsGet_Tasks=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_taskdata","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Ne=function(t){if(!t.IsGet_WeekDicts){t.IsGet_WeekDicts=!0;var e=function(e){t.WeekDicts=x(e,t.GroupField,(function(e){return function(t,e){var n=Fe(e);return n._id=t._id,n}({_id:e},t)})),t.IsGet_WeekDicts=!1},n=t;n.Tasks?e(n.Tasks):C(n.OnSet_Tasks_Func,(function(){return e(n.Tasks)}))}},Te=function(t){return new $t},Pe=function(t){return new ee},Ge=function(t){return new de},We=function(t){return function(t){var e=new fe;return e.Dict=t,e}()},Ae=function(t){return function(t){var e=new pe;return e.Dict=t,e}()},Ee=function(){function t(){Object(u.a)(this,t),this.IsPublish=!1}return Object(o.a)(t,[{key:"ProjectDict",get:function(){return this.projectDict||(this.projectDict=Te()),this.projectDict}},{key:"UserDict",get:function(){return this.userDict||(this.userDict=Pe()),this.userDict}},{key:"DisciplineDict",get:function(){return this.disciplineDict||(this.disciplineDict=Ge()),this.disciplineDict}},{key:"ReportData_Dict",get:function(){return this.reportData_Dict||(this.reportData_Dict=We()),this.reportData_Dict}},{key:"TaskweekData_Dict",get:function(){return this.taskweekData_Dict||(this.taskweekData_Dict=Ae()),this.taskweekData_Dict}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new Ee),this.instance},set:function(t){this.instance=t}}]),t}(),Be=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Header",get:function(){return this.header||(this.header=mn(this)),this.header}},{key:"Body",get:function(){return this.body||(this.body=In(this)),this.body}},{key:"Footer",get:function(){return this.footer||(this.footer=vn(this)),this.footer}}]),t}(),He=n(14),Ke=function(){function t(){Object(u.a)(this,t),this.Source=void 0,this.Alt=void 0,this.Width=void 0,this.Height=void 0,Object(l.k)(this,{Source:l.l,Alt:l.l,Width:l.l,Height:l.l})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Le=function(t,e,n,i){var s=new Ke;return s.Source=t,s.Alt=e,s.Width=n,s.Height=i,s},Ue=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||Le("https://raw.githubusercontent.com/bimtaiht/bimdev-source/master/Image/hello.png","test-image",200,200),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.style?this.props.style:t.Style,n=this.props.className?this.props.className:t.ClassName,s=this.props.onClick,r=this.props.onDoubleClick,c=this.props.onMouseEnter,a=this.props.onMouseLeave;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("img",{className:n,style:e,src:t.Source,alt:t.Alt,width:t.Width,height:t.Height,onClick:s,onDoubleClick:r,onMouseEnter:c,onMouseLeave:a})})}}]),n}(s.Component),Ye=Object(He.a)(Ue),ze=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"MainMenu",get:function(){return fa.Instance.MainMenu}},{key:"LogoView",get:function(){var t=Le("https://bimdev.vn/wp-content/uploads/2020/01/logo.jpg");return Object(i.jsx)(Ye,{className:"header__logo",store:t})}}]),t}(),Xe=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"UserSelect",get:function(){return this.userSelect||(this.userSelect=hn(this)),this.userSelect}},{key:"MainView",get:function(){return ln(this)}}]),t}(),$e=(n(259),"plan"),qe=function(t,e,n){fa.instance.RouteData=[t||$e,n]},Je=n(388),Qe=n(209),Ze=function t(){var e=this;Object(u.a)(this,t),this.getClassName=function(){return e.className||(e.className="float ".concat(e.location)),e.className}},tn=function(t){var e=new Ze;return e.location=t,e},en=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||tn("top right"),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("span",{className:t.getClassName(),children:this.getWrapperContent()})})}}]),n}(s.Component),nn=Object(He.a)(en),sn=(n(354),Je.a.Option),rn=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||new an,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.className?this.props.className:"",n=this.props.style?this.props.style:{width:"100%"},s=t.Placeholder,r=t.Items,c=t.SelectedIndex,a=t.InitialIndex;-1===c&&(c=a,t.InitialIndex=-1);var u=r?r.map((function(e,n){var s=t.TitleRender(e),r=void 0;return r=t.IdRender?t.IdRender(e):void 0===e?S():"string"!==typeof e&&isNaN(e)?e._id?e._id:e.id:e,Object(i.jsx)(sn,{value:n,children:s},r)})):"",o="";if(t.CanClear){var h=tn("right");h.wrapper=Object(i.jsx)(Qe.a,{size:"small",type:"primary",onClick:t.Clear,children:"x"}),o=Object(i.jsx)(nn,{store:h})}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"select__wrapper ".concat(e),style:t.DivStyle,children:[o,Object(i.jsx)(Je.a,{className:"select__main",style:n,showSearch:!0,placeholder:s,optionFilterProp:"children",onChange:this.onValueChange,value:c,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},open:t.CanOpen&&t.Open,onDropdownVisibleChange:this.onDropdownVisibleChange,disabled:t.Disabled||t.IsDisabled,onFocus:t.OnFocus,children:u})]})})}}]),n}(s.Component),cn=Object(He.a)(rn),an=function(){function t(){var e=this;Object(u.a)(this,t),this.items=void 0,this.initialItem=void 0,this.GetInitialIndex=function(){var t=e.Items.indexOf(e.InitialItem);return-1!==t?t:null},this.selectedIndex=void 0,this.selectedItem=void 0,this.SetValue=function(t){e.InitialItem=e.SelectedItem=t},this.GetSelectedItem=function(){var t=e.SelectedIndex;if(-1!==t)return e.Items[t]},this.CanClear=!1,this.Clear=function(){e.SelectedIndex=null},this.open=!1,this.canOpen=!0,this.isDisabled=!1,this.disabled=!1,Object(l.k)(this,{items:l.l,selectedIndex:l.l,selectedItem:l.l,CanClear:l.l,open:l.l,canOpen:l.l,isDisabled:l.l,disabled:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[]),this.items},set:function(t){this.items=t}},{key:"InitialItem",get:function(){return this.initialItem},set:function(t){this.IsSet_InitialItem=!0,this.initialItem=t,this.InitialIndex=this.GetInitialIndex(),this.SelectedIndex=this.InitialIndex}},{key:"InitialIndex",get:function(){return this.initialIndex||(this.initialIndex=this.GetInitialIndex()),this.initialIndex},set:function(t){this.initialIndex=t}},{key:"SelectedIndex",get:function(){return this.selectedIndex},set:function(t){this.selectedIndex=t,this.SelectedItem=this.GetSelectedItem()}},{key:"SelectedItem",get:function(){return this.selectedItem||(this.selectedItem=this.GetSelectedItem()),this.selectedItem},set:function(t){var e=this.SelectedItem;this.selectedItem=t,this.IsSet_InitialItem?this.IsSet_InitialItem=!1:this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t,e)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"DivStyle",get:function(){return this.CanClear?{position:"relative",padding:"0 22px 0 0"}:{}}},{key:"TitleRender",get:function(){return this.titleRender||(this.titleRender=function(t){return t.DisplayContent?t.DisplayContent:"".concat(t)}),this.titleRender},set:function(t){this.titleRender=t}},{key:"Open",get:function(){return this.open},set:function(t){this.open=t,this.OnSetOpen&&this.OnSetOpen(t)}},{key:"CanOpen",get:function(){return this.canOpen},set:function(t){this.canOpen=t}},{key:"IsDisabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t}},{key:"Disabled",get:function(){return this.GetDisabled_Func?this.GetDisabled_Func():this.disabled},set:function(t){this.disabled=t}},{key:"View",get:function(){return Object(i.jsx)(cn,{store:this})}}]),t}(),un=function(){return fa.Instance},on=function(){return Ee.Instance},hn=function(t){var e=new an;e.TitleRender=function(t){return t.Name};var n=e.Items=[{_id:145,name:"taiht53641"},{_id:118,name:"tuandh52660"},{_id:3201,name:"hoavt59366"}].map((function(t){return Zt(t)}));return e.OnSelectedItemChanged=function(t){return on().UserDict.LoginUser=t},e.SetValue(n[0]),e},dn=function(t){var e;switch(un().RouteData[0]){case $e:return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"float-right w-40",children:t.UserSelect.View}),un().ProjectDict.Select.View,Object(i.jsx)("div",{className:"mt-4",children:null===(e=un().ProjectDict.CurrentItem)||void 0===e?void 0:e.PlanView})]});case"reportdata":return un().ReportData_Dict.View;case"taskdata":return un().TaskweekData_Dict.View}},ln=function(t){return on().IsPublish?dn(t):Object(i.jsx)("div",{className:"m-10",children:dn(t)})},fn=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),mn=function(t){return function(t){var e=new ze;return e.Dict=t,e}(t)},In=function(t){return function(t){var e=new Xe;return e.Dict=t,e}(t)},vn=function(t){return function(t){var e=new fn;return e.Dict=t,e}(t)},pn=(n(363),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Cc,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"",children:"Ti\xeau \u0111\u1ec1"}),Object(i.jsx)("th",{className:"w-12"})]})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return t.RowView}))})]})})}}]),n}(s.Component)),bn=Object(He.a)(pn),kn=n(57),_n=n(389),On="text",jn="password",gn=function(){function t(){Object(u.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",this.State=On,this.ClassName=void 0,Object(l.k)(this,{content:l.l,placeholder:l.l,State:l.l,ClassName:l.l})}return Object(o.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t),this.OnSetContent&&this.OnSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Style",get:function(){return this.style||(this.style=this.inputStyle?this.inputStyle:{},this.wrapper&&(this.style.position="relative")),this.style}}]),t}(),Dn=function(t,e){var n=new gn;return n.content=t,n.placeholder=e,n},yn=n(202),Sn=n.n(yn),wn=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).handleChange=function(t){i.state.Content=t.target.value},i.OnPaste=function(t){t.preventDefault();var e,n=((e=t).originalEvent||e).clipboardData.getData("text/plain");i.state.Content=n},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown?e.OnKeyDown(t):(t.ctrlKey&&66==t.which||t.ctrlKey&&73==t.which||13==t.keyCode)&&t.preventDefault()},i.contentEditable=r.a.createRef();var s=i.props.store;if(s)i.state=s;else{i.state=Dn("N\u1ed9i dung input")}return i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state,n=e.Content,s=this.props.className?this.props.className:"",r=this.props.style,c=this.props.onFocus?this.props.onFocus:e.OnFocus;return Object(i.jsxs)(i.Fragment,{children:[e.State===On?Object(i.jsx)(Sn.a,(t={ref:e.Ref,className:"ant-input ".concat(s),style:r,innerRef:this.contentEditable,placeholder:e.Placeholder},Object(kn.a)(t,"style",r),Object(kn.a)(t,"html",n||""),Object(kn.a)(t,"onChange",this.handleChange),Object(kn.a)(t,"onPaste",this.OnPaste),Object(kn.a)(t,"onKeyDown",this.OnKeyDown),Object(kn.a)(t,"onFocus",c),t)):"",e.State===jn?Object(i.jsx)(_n.a.Password,{value:n,onChange:this.handleChange,className:s,style:r}):""]})}}]),n}(s.Component),xn=(Object(He.a)(wn),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).onChange=function(t){var e=t.target.value,n=i.state;""!==e&&n.InputRegex&&!n.InputRegex.test(e)||(i.state.Content=e)},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown&&e.OnKeyDown(t)};var s=i.props.store;if(s)i.state=s;else{i.state=Dn("N\u1ed9i dung input")}return i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.content,n=t.placeholder,s=this.props.style,r=this.props.className,c=this.props.onFocus?this.props.onFocus:t.OnFocus;return Object(i.jsxs)(i.Fragment,{children:[t.State===On?Object(i.jsx)(_n.a,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onKeyDown:this.OnKeyDown,onFocus:c,placeholder:n}):"",t.State===jn?Object(i.jsx)(_n.a.Password,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onFocus:c,onKeyDown:this.OnKeyDown}):""]})}}]),n}(s.Component)),Vn=Object(He.a)(xn),Cn="default",Fn="edit",Mn=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"Render",get:function(){return this.render||(this.render=Rn(this)),this.render},set:function(t){this.render=t}}]),t}(),Rn=function(t){switch(t.State){case Cn:return function(t,e){var n=e.ClassName,s=e.Style,r=e.OnDoubleClick,c=e.OnClick;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"".concat(n," input_wrapper view"),style:s,onDoubleClick:r,onClick:c,children:t}),e.Is_Tool_Visible&&e.Is_Edit_Visible?Object(i.jsx)(Qe.a,{type:"primary",size:"small",className:"left10 btn-warning",onClick:e.Edit,children:"e"}):""]})};case"ready":case Fn:return function(t,e){var n,s=e.ClassName,r=e.Style,c=e.OnFocus;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"input__wrapper edit ".concat(s),children:[Object(i.jsx)(Vn,(n={ref:e.Ref,className:"input__main",style:r,store:e},Object(kn.a)(n,"ref",e.Ref),Object(kn.a)(n,"onFocus",(function(){e.Edit(),c&&c()})),n)),e.Is_Tool_Visible&&e.Is_OK_Visible?Object(i.jsx)(Qe.a,{type:"primary",size:"small",onClick:e.EditOK,children:"ok"}):""]})})};default:return}},Nn=function t(){var e=this;Object(u.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=function(t,e){var n=new Mn;return n.State=t,n.Render=e,n}(t);return n.push(s),s}return n[i]}},Tn=(n(374),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Gn,i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=this.props.className?this.props.className:"",t.Style=this.props.style,t.OnFocus=t.OnFocus?t.OnFocus:this.props.onFocus,t.OnDoubleClick=t.OnDoubleClick?t.OnDoubleClick:this.props.onDoubleClick,t.OnClick=t.OnClick?t.OnClick:this.props.onClick,Object(i.jsx)(i.Fragment,{children:t.Render()})}}]),n}(s.Component)),Pn=Object(He.a)(Tn),Gn=function(){function t(){var e=this;Object(u.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",this.State=On,this.IsEditing=!1,this.OnSet_RenderState_Func_Dict=[],this.renderState=Cn,this.CanChange_RenderState=!0,this.Is_Tool_Visible=!0,this.Is_Edit_Visible=!0,this.Is_OK_Visible=!0,this.Ready=function(){e.RenderState!==Fn&&(e.RenderState="ready")},this.NotReady=function(){e.RenderState!==Fn&&(e.RenderState=Cn)},this.Edit=function(){return e.RenderState=Fn},this.EditOK=function(){return e.RenderState=Cn},this.Render=function(){return e.Render_Dict.GetRender(e.RenderState).Render(e.Content,e)},this.OnSet_Ref_Func_Dict=[],this.Focus=function(){var t=function(){var t;null===(t=e.Ref_Element)||void 0===t||t.focus()};e.Ref?t():C(e.OnSet_Ref_Func_Dict,(function(){return t()}))},Object(l.k)(this,{content:l.l,placeholder:l.l,State:l.l,IsEditing:l.l,renderState:l.l,Is_Tool_Visible:l.l,Is_Edit_Visible:l.l,Is_OK_Visible:l.l,CanChange_RenderState:l.l})}return Object(o.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"TitleFunc",get:function(){var t=this;return this.titleFunc||(this.titleFunc=function(){return t.Content}),this.titleFunc},set:function(t){this.titleFunc=t}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=new Nn),this.render_Dict},set:function(t){this.render_Dict=t}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.CanChange_RenderState&&(this.Old_RenderState=this.RenderState,this.renderState=t,this.OnSet_RenderState_Func_Dict.forEach((function(t){return t.Value()})))}},{key:"Ref",get:function(){return this.ref},set:function(t){var e=this;this.ref=t,F(this.OnSet_Ref_Func_Dict,(function(t){return e.OnSet_Ref_Func_Dict=t}))}},{key:"Ref_Element",get:function(){if(!this.ref_Element){var t=this.Ref.current;t&&t.getEl&&(t=t.getEl()),this.ref_Element=t}return this.ref_Element}},{key:"View",get:function(){return Object(i.jsx)(Pn,{store:this})}}]),t}(),Wn="enter",An=function(t,e,n){(!e||e())&&("edit"!==t.RenderState&&(t.RenderState="ready"),n&&n())},En=function(t){"edit"!==t.RenderState&&(t.RenderState="default")},Bn=function(t,e,n){(!e||e())&&"default"===t.RenderState&&(t.RenderState="edit",n&&n())},Hn=function(t,e){t.RenderState="default",e&&e()},Kn=function(t,e,n){var i=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=new Gn;return i.Content=t,i.CanChange_RenderState=e,void 0===n&&(n=e),i.Is_Tool_Visible=n,i}(t[e]),s=function(){return Hn(i)};return i.Is_Tool_Visible=!1,i.OnKeyDown=function(t){var e=function(t){var e;return t.altKey&&13==t.keyCode?e="alt_enter":t.ctrlKey&&66==t.which?e="ctrl_b":t.ctrlKey&&73==t.which?e="ctrl_i":t.ctrlKey?e="ctrl":t.altKey?e="alt":13==t.keyCode?e=Wn:9==t.keyCode?e="tab":8==t.keyCode?e="backspace":46==t.keyCode?e="del":27==t.keyCode&&(e="esc"),{key:e,value:t.key}}(t),n=e.key;e.value;switch(n){case Wn:s();break;case"esc":i.IsEscape=!0,s()}},function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=w(),s=function(){e(),n&&V(t,i)};t.push({Key:i,Value:s})}(i.OnSet_RenderState_Func_Dict,(function(){if("default"===i.RenderState&&"edit"===i.Old_RenderState){var s=function(){n&&n()};if(i.IsEscape)return i.Content=t[e],i.IsEscape=!1,void s();if(i.Content===t[e])return void s();t[e]=i.Content,s()}}),!1),i},Ln=function(){function t(){var e=this;Object(u.a)(this,t),this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name}},{key:"Plan",get:function(){return this.plan||(this.plan=Vc(this)),this.plan}},{key:"IsOwner",get:function(){return this.ModelItem.IsOwner}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=xc(this)),this.deleteVM}},{key:"PlanView",get:function(){return Object(i.jsx)("div",{children:this.Plan.View},this.id)}}]),t}(),Un="manual",Yn="mobx",zn="style",Xn=n(391),$n=(n(375),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Jn,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=t.ClassName?t.ClassName:this.props.className?this.props.className:"",t.Style=t.Style?t.Style:this.props.style,Object(i.jsx)(i.Fragment,{children:t.UseType===zn||t.Is_Visible?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:t.WrapperStyle,children:[t.WrapperView,t.AdditionElement]})}):"hidden"===t.VisibleType?Object(i.jsx)("div",{className:t.BlankStyle}):""})}}]),n}(s.Component)),qn=Object(He.a)($n),Jn=function(){function t(){var e=this;Object(u.a)(this,t),this.is_Visible=void 0,this.ToggleType=Un,this.VisibleType="collapse",this.is_Hover_Visible=void 0,this.Show_Hover=function(t){t&&t.stopPropagation(),e.OnPre_ShowHover&&e.OnPre_ShowHover(),e.Is_Hover_Visible=!0},this.Toggle_Hover=function(t){e.Is_Hover_Visible=t},this.PreRun=function(t){t.stopPropagation(),e.IsRun_Cancel=!1,e.OnPreRun&&e.OnPreRun(),e.IsRun_Cancel||e.Run()},this.PreCancel=function(t){t.stopPropagation(),e.Cancel()},this.Show=function(){e.Is_Visible=!0},this.Hide=function(){e.IsRun_Cancel=!1,e.OnPreHide&&e.OnPreHide(),e.IsRun_Cancel||e.Is_Hover_Visible||(e.Is_Visible=!1)},this.ClassName=void 0,this.Style=void 0,this.AdditionElement="",this.BlankStyle="delete__blank",this.Title="X\xe1c nh\u1eadn l\u1ec7nh?",this.UseType=Yn,Object(l.k)(this,{is_Visible:l.l,is_Hover_Visible:l.l,VisibleType:l.l,UseType:l.l,ClassName:l.l,Style:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this._id||(this._id=w()),this._id},set:function(t){this._id=t}},{key:"Is_Visible",get:function(){return this.is_Visible||(this.is_Visible=this.ToggleType===Un),this.is_Visible},set:function(t){this.is_Visible=t}},{key:"Is_Hover_Visible",get:function(){return this.is_Hover_Visible},set:function(t){this.is_Hover_Visible=t,"mouseEvent"===this.ToggleType&&(t||(this.Is_Visible=!1)),this.OnSet_Is_Hover_Visible&&this.OnSet_Is_Hover_Visible(t)}},{key:"Run",get:function(){var t;return this.run||(this.run=(t=this,function(){t.Is_Hover_Visible=!1,t.OnRun&&t.OnRun()})),this.run},set:function(t){this.run=t}},{key:"Cancel",get:function(){var t;return this.cancel||(this.cancel=(t=this,function(){t.Is_Hover_Visible=!1,t.OnCancel&&t.OnCancel()})),this.cancel},set:function(t){this.cancel=t}},{key:"ShowHover_Button",get:function(){return this.showHover_Button?this.showHover_Button:this.Retrieve_ShowHover_Button()},set:function(t){this.showHover_Button=t}},{key:"Retrieve_ShowHover_Button",get:function(){var t;return this.retrieve_ShowHover_Button||(this.retrieve_ShowHover_Button=(t=this,function(){return Object(i.jsx)(Qe.a,{type:"primary",size:"small",className:"btn_delete ".concat(t.ClassName),style:t.Style,onClick:t.Show_Hover,children:"x"})})),this.retrieve_ShowHover_Button},set:function(t){this.retrieve_ShowHover_Button=t}},{key:"View",get:function(){return Object(i.jsx)(qn,{store:this},this.id)}},{key:"WrapperView",get:function(){return this.Retrieve_WrapperView()}},{key:"Retrieve_WrapperView",get:function(){var t;return this.retrieve_WrapperView||(this.retrieve_WrapperView=(t=this,function(){return Object(i.jsx)(Xn.a,{content:Object(i.jsx)(i.Fragment,{children:t.Modal_ContentView}),title:t.Title,trigger:"click",visible:t.Is_Hover_Visible,onVisibleChange:t.Toggle_Hover,children:t.ShowHover_Button})})),this.retrieve_WrapperView},set:function(t){this.retrieve_WrapperView=t}},{key:"Modal_ButtonView",get:function(){var t;return this.modal_ButtonView||(this.modal_ButtonView=(t=this,Object(i.jsxs)("div",{className:"delete__btn-group",children:[Object(i.jsx)(Qe.a,{type:"primary",size:"small",onClick:t.PreRun,children:"ok"}),Object(i.jsx)(Qe.a,{type:"text",size:"small",className:"btn_blank",onClick:t.PreCancel,children:"cancel"})]}))),this.modal_ButtonView},set:function(t){this.modal_ButtonView=t}},{key:"Modal_InfoView",get:function(){return this.modal_InfoView||(this.modal_InfoView=""),this.modal_InfoView},set:function(t){this.modal_InfoView=t}},{key:"Modal_ContentView",get:function(){var t;return this.modal_ContentView||(this.modal_ContentView=(t=this,Object(i.jsxs)(i.Fragment,{children:[t.Modal_InfoView,t.Modal_ButtonView]}))),this.modal_ContentView},set:function(t){this.modal_ContentView=t}},{key:"WrapperStyle",get:function(){switch(this.UseType){case Yn:return;case zn:return this.Is_Visible?void 0:{display:"none"}}}}]),t}(),Qn=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"View",get:function(){return Sc(this)}},{key:"TaskDict",get:function(){return this.taskDict||(this.taskDict=yc(this)),this.taskDict}}]),t}(),Zn="name",ti="discipline",ei="bimuse",ni="category",ii="startdate",si="finishdate",ri="baselinefinish",ci="planwork",ai="baselinework",ui="predecessors",oi="manage",hi="assign",di="duration",li=function(){return[Zn,ti,ei,ni,ii,si,di,ri,ci,ai,ui,oi,hi]},fi=function(t){var e;switch(t){case Zn:e="Name";break;case ti:e="Discipline";break;case ei:e="BIMUse";break;case ni:e="Category";break;case ii:e="StartDate";break;case si:e="FinishDate";break;case di:e="Duration";break;case ri:e="BaselineFinish";break;case ci:e="Planwork";break;case ai:e="BaselineWork";break;case ui:e="Predecessors";break;case oi:e="Manage";break;case hi:e="Assign"}return e},mi=function(t){var e;switch(t){case Zn:e="Name";break;case ti:e="Discipline";break;case ei:e="BIMUse";break;case ni:e="H\u1ea1ng m\u1ee5c";break;case ii:e="Start";break;case si:e="Finish";break;case di:e="Duration";break;case ri:e="Baseline Finish";break;case ci:e="Planwork";break;case ai:e="Baseline Work";break;case ui:e="Predecessors";break;case oi:e="Manage by";break;case hi:e="Assign to"}return e},Ii=function(t){var e;switch(t){case Zn:e="t\xean task";break;case ti:e="discipline";break;case ei:e="bim use";break;case ni:e="category";break;case ii:e="start";break;case si:e="finish";break;case di:e="duration";break;case ri:e="baseline finish";break;case ci:e="plan work";break;case ai:e="baseline work";break;case ui:e="predecessors";break;case oi:e="manage";break;case hi:e="assign"}return e},vi=function(t){var e;switch(t){case Zn:e="w-24";break;case ti:e="w-12";break;case ei:case ni:e="w-14";break;case ii:case si:e="w-14";break;case ri:e="w-12";break;case di:case ci:e="w-10";break;default:e="w-12"}return"".concat(e)},pi=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new nc,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"w-5"}),Object(i.jsx)("th",{className:"w-12"}),e.Columns.map((function(t){return t.View}))]})}),Object(i.jsx)("tbody",{children:null===(t=e.AllItems)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),bi=Object(He.a)(pi),ki=n(399),_i=n(400),Oi=n(401),ji=function(){function t(){var e=this;Object(u.a)(this,t),this.GetField=function(t){return N(e.Fields,(function(e){return e.Key===t}))},this.GetValue=function(t){return e.GetField(t).Value},this.Is_SetPlanwork_ByDuration=!0,this.RefreshPlanwork=function(){yr(e)},this.RefreshDate=function(){Mr(e)},this.RefreshDuration=function(){Rr(e)},this.DependedTasks=[],this.GetInfo=function(t){return Tr(e,t)},this.RefreshInfo=function(t){Pr(e,t)},this.supItem=void 0,this.GetSup=function(t){return Jr(e,t)},this.IsShowSub=!1,this.SetCurrent=function(t){if(e.ModelItem.IsOwner){var n=e.Dict;n.CurrentItem===e?n.CurrentItem=void 0:n.CurrentItem=e}},this.Insert=function(t,n){Xr(e,t,n)},this.ForceSave=function(t){e.ModelItem.ForceSave(t)},this.Save=function(t){$r(e,t)},this.Delete=function(){jr(e),e.ModelItem.Delete()},Object(l.k)(this,{supItem:l.l,IsShowSub:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"_id",get:function(){return this.ModelItem._id}},{key:"IsNew",get:function(){return this.ModelItem.IsNew}},{key:"Fields",get:function(){return this.fields||(this.fields=gr(this)),this.fields}},{key:"Planwork",get:function(){return Dr(this)}},{key:"BaselineWork",get:function(){return this.ModelItem.BaselineWork}},{key:"StartDate",get:function(){return Sr(this)}},{key:"Depened_StartDate",get:function(){return wr(this)}},{key:"DepenedDict_StartDate",get:function(){return xr(this)}},{key:"CanInput_StartDate",get:function(){return Vr(this)}},{key:"FinishDate",get:function(){return Cr(this)}},{key:"CanInput_EndDate",get:function(){return Fr(this)}},{key:"BaselineFinish",get:function(){return this.ModelItem.BaselineFinish}},{key:"IsOwner",get:function(){return this.ModelItem.IsOwner}},{key:"IsManage",get:function(){return this.ModelItem.IsManage}},{key:"IsAssign",get:function(){return this.ModelItem.IsAssign}},{key:"PredecessorData",get:function(){return this.predecessorData||(this.predecessorData=Nr(this)),this.predecessorData}},{key:"Status",get:function(){return this.status||(this.status=Gr(this)),this.status}},{key:"ReportDict",get:function(){return this.reportDict||(this.reportDict=Wr(this)),this.reportDict}},{key:"CanOutdent",get:function(){return Ar(this)}},{key:"SupItem",get:function(){return void 0===this.supItem&&Er(this),this.supItem},set:function(t){this.supItem=t,this.StopPropagation?this.StopPropagation=!1:(this.ModelItem.SupItem=null===t||void 0===t?void 0:t.ModelItem,this.RefreshInfo(),t&&(t.RefreshDate(),t.RefreshPlanwork()))}},{key:"SupList",get:function(){return Br(this)}},{key:"ToggleSub_View",get:function(){return Hr(this)}},{key:"SubItems",get:function(){return Kr(this)}},{key:"NotSup_Items",get:function(){return Lr(this)}},{key:"CurrentList",get:function(){return Ur(this)}},{key:"Rank",get:function(){return Yr(this)}},{key:"IsVisible_ByUser",get:function(){return this.ModelItem.IsVisible}},{key:"IsVisible_BySup",get:function(){return!this.SupItem||this.SupItem.IsVisible_BySup&&this.SupItem.IsShowSub}},{key:"Css",get:function(){return zr(this)}},{key:"Index",get:function(){return this.Dict.SavedItems.indexOf(this)}},{key:"NewIndex",get:function(){return this.Dict.NewItems.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Or(this)),this.deleteVM}},{key:"View",get:function(){return Zr(this)}},{key:"Indent_View",get:function(){return Qr(this)}},{key:"TaskView",get:function(){return tc(this)}},{key:"ReportView",get:function(){return ec(this)}}]),t}(),gi=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ji,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[t.TaskView,t.ReportView]})}}]),n}(s.Component),Di=Object(He.a)(gi),yi=(n(376),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).onCheckedChange=function(t){var e=i.state,n=t.target.checked;e.OnCheckChanging&&e.OnCheckChanging(n),e.Cancel||(e.Ischecked=n)};var s=i.props.store;return i.state=s||function(t,e){var n=new wi;return n.ischecked=e,n.name=t,n}(!1),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ischecked,n=t.name,s=t.isDisabled,r=this.props.className,c=this.props.style;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{className:r,style:c,children:[Object(i.jsx)("input",{type:"checkbox",checked:e,onChange:this.onCheckedChange,disabled:s}),Object(i.jsx)("span",{className:"checkbox__title",children:n})]})})}}]),n}(s.Component)),Si=Object(He.a)(yi),wi=function(){function t(){Object(u.a)(this,t),this.Cancel=!1,this.ischecked=void 0,this.isDisabled=!1,Object(l.k)(this,{ischecked:l.l,isDisabled:l.l,Cancel:l.l})}return Object(o.a)(t,[{key:"Name",get:function(){return this.name},set:function(t){return this.name}},{key:"Ischecked",set:function(t){this.ischecked=t,this.onCheckChanged&&this.onCheckChanged(t),this.OnCheckChanged&&this.OnCheckChanged(t)}},{key:"IsDisabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t}},{key:"View",get:function(){return Object(i.jsx)(Si,{store:this})}}]),t}(),xi=function(){function t(){var e=this;Object(u.a)(this,t),this.Items=[],this.GetItem=function(t){return function(t,e){var n=t.Items,i=N(n,(function(t){return t.key===e}));return i||(i={key:e,value:r.a.createRef()},n.push(i)),i}(e,t)},this.GetRef=function(t){return e.GetItem(t).value}}return Object(o.a)(t,[{key:"Target",get:function(){return this.GetRef("Target")}}]),t}(),Vi=function(t,e){return t.Target_RefData||(t.Target_RefData=new xi),t.Target_RefData.GetItem(e)},Ci=function(t,e){try{return e&&e.current&&!e.current.contains(t.target)}catch(n){throw console.log(e.current),500}},Fi=function(t,e,n){var i=Vi(t,e);i.Events||(i.Events=[]);var s=i.value;i.Events.push({key:"mousedown",func:function(t){Ci(t,s)&&n(t)}})},Mi=function(t,e){t.Target_RefData&&t.Target_RefData.Items.forEach((function(t){t.Events&&t.Events.forEach((function(t){"mount"===e&&document.addEventListener(t.key,t.func),"unmount"===e&&document.removeEventListener(t.key,t.func)}))}))},Ri=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ti,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Mi(this.state,"mount")}},{key:"componentWillUnmount",value:function(){Mi(this.state,"unmount")}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{ref:t.RefData.GetRef("Target"),children:t.ValueVM.View})})}}]),n}(s.Component),Ni=Object(He.a)(Ri),Ti=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.Ready=function(){e.PreReady&&!e.PreReady()||An(e.ValueVM)},this.NotReady=function(){e.PreNotReady&&!e.PreNotReady()||En(e.ValueVM)},this.Edit=function(){e.PreEdit&&!e.PreEdit()||Bn(e.ValueVM)},this.EditOK=function(){e.PreEditOK&&!e.PreEditOK()||Hn(e.ValueVM)}}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Key_id",get:function(){return this.Key?this.Key:this.id}},{key:"RefData",get:function(){return this.refData||(this.refData=Gi(this)),this.refData},set:function(t){this.refData=t}},{key:"ValueGet",get:function(){return this.valueGet||(this.valueGet=Wi(this)),this.valueGet},set:function(t){this.valueGet=t}},{key:"ValueSet",get:function(){return this.valueSet||(this.valueSet=Ai(this)),this.valueSet},set:function(t){this.valueSet=t}},{key:"Value",get:function(){return this.ValueGet()},set:function(t){if(this.RefineValue){if(!this.IsRefinedValue)return this.IsRefinedValue=!0,void(this.ValueVM.Content=this.RefineValue(t));this.IsRefinedValue=!1}!this.PreValueSet||this.PreValueSet(t)?(this.ValueSet(t),this.OnSetValue&&this.OnSetValue(t)):this.ValueVM.Content=this.Value}},{key:"ValueVM",get:function(){if(!this.valueVM){var t=this.valueVM=Kn(this,"Value",this.ValueSet_OK);t.InputRegex=this.InputRegex,this.ValueVM_Render&&this.ValueVM_Render(t)}return this.valueVM}},{key:"ViewRender",get:function(){return this.viewRender||(this.viewRender=Ei(this)),this.viewRender},set:function(t){this.viewRender=t}},{key:"View",get:function(){return this.ViewRender()}}]),t}(),Pi=function(t,e,n){var i=new Ti;return i.ValueGet=t,i.ValueSet=e,i.ValueSet_OK=n,i},Gi=function(t){return Fi(t,"Target",(function(e){t.EditOK()})),t.Target_RefData},Wi=function(t){return t.value},Ai=function(t,e){return t.value=e},Ei=function(t){return function(){return Object(i.jsx)(Ni,{store:t},t.Key_id)}},Bi=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.RenderState="default",this.SetItems=function(t,n){var i=e.ValueVM;return n&&(i.TitleRender=n),i.Items=t,i.InitialItem=e.Value,i},this.Ready=function(){e.PreReady&&!e.PreReady()||"edit"!==e.RenderState&&(e.RenderState="ready")},this.NotReady=function(){e.PreNotReady&&!e.PreNotReady()||"edit"!==e.RenderState&&(e.RenderState="default")},this.Edit=function(){e.PreEdit&&!e.PreEdit()||(e.RenderState="edit")},this.EditOK=function(){e.PreEditOK&&!e.PreEditOK()||(e.RenderState="default")},Object(l.k)(this,{RenderState:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Key_id",get:function(){return this.Key?this.Key:this.id}},{key:"ValueGet",get:function(){return this.valueGet||(this.valueGet=Li(this)),this.valueGet},set:function(t){this.valueGet=t}},{key:"ValueSet",get:function(){return this.valueSet||(this.valueSet=Ui(this)),this.valueSet},set:function(t){this.valueSet=t}},{key:"Value",get:function(){return this.ValueGet()},set:function(t){this.ValueSet(t),this.OnSetValue&&this.OnSetValue(t)}},{key:"ValueVM",get:function(){if(!this.valueVM){var t=this.valueVM=Yi(this);this.ValueVM_Render&&this.ValueVM_Render(t)}return this.valueVM}},{key:"ViewRender",get:function(){return this.viewRender||(this.viewRender=zi(this)),this.viewRender},set:function(t){this.viewRender=t}},{key:"View",get:function(){return this.ViewRender()}}]),t}(),Hi=(n(377),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Bi,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Mi(this.state,"mount")}},{key:"componentWillUnmount",value:function(){Mi(this.state,"unmount")}},{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"fieldselect__wrapper",children:"default"===e.RenderState?Object(i.jsx)("div",{className:"view",children:null===(t=e.ValueVM.SelectedItem)||void 0===t?void 0:t.Name}):Object(i.jsx)("div",{className:"edit",children:e.ValueVM.View})})})}}]),n}(s.Component)),Ki=Object(He.a)(Hi),Li=function(t){return t.value},Ui=function(t,e){return t.value=e},Yi=function(t){var e=new an;return e.OnSetOpen=function(e){e?t.Edit():t.RenderState="ready"},e.Placeholder=t.Placeholder?t.Placeholder:"select",e.OnSelectedItemChanged=function(e){return t.Value=e},e},zi=function(t){return function(){return Object(i.jsx)(Ki,{store:t},t.Key_id)}},Xi=(n(378),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Ji,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Style,n=e.width,s=e.item_height;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"calendar",style:{width:n},children:[Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("div",{className:"previous",onClick:t.PreviousMonth,children:String.fromCharCode(171)}),Object(i.jsxs)("div",{className:"current",children:[t.CurrentMonth," ",t.CurrentYear]}),Object(i.jsx)("div",{className:"next",onClick:t.NextMonth,children:String.fromCharCode(187)})]}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(t,e){return Object(i.jsx)("div",{className:"item week",style:{height:s,lineHeight:s},children:t},e)}))}),Object(i.jsx)("div",{className:"days",children:t.CalendarDict.calendar.map((function(e){return Object(i.jsx)("div",{children:e.map((function(e){return Object(i.jsx)("div",{className:"item day ".concat(t.GetDayCss(e)),onClick:function(){return t.SetCurrentDay(e)},style:{height:s,lineHeight:s},children:e.format("D")},S())}))},S())}))})]})]},t.id)})}}]),n}(s.Component)),$i=Object(He.a)(Xi),qi=function(t){var e=function(){for(var e=t.CurrentDay,n=e.format("M"),i=e.format("YYYY"),s=e.clone().startOf("month").startOf("week"),r=e.clone().endOf("month").endOf("week"),c=s.clone().subtract(1,"day"),a=[];c.isBefore(r,"day");)a.push(Array(7).fill(0).map((function(){return c.add(1,"day").clone()})));t.CalendarDict={year:i,month:n,calendar:a},t.IsGet_Calendar=!1},n=t.calendarDict;n&&n.month===t.CurrentDay.format("M")&&n.year===t.CurrentDay.format("YYYY")||e()},Ji=function(){function t(){var e=this;Object(u.a)(this,t),this.currentDay=void 0,this.SetCurrentDay=function(t){e.CurrentDay=t},this.PreviousMonth=function(){e.CurrentDay=e.CurrentDay.clone().subtract(1,"month")},this.NextMonth=function(){e.CurrentDay=e.CurrentDay.clone().add(1,"month")},this.calendarDict=void 0,this.GetDayCss=function(t){return t.isSame(e.CurrentDay,"day")?"selected":function(t){return t.isSame(new Date,"day")}(t)?"today":t.isBefore(e.CurrentDay,"month")||t.isAfter(e.CurrentDay,"month")?"notsame-month":""},Object(l.k)(this,{currentDay:l.l,calendarDict:l.l})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=w()),this.tempId}},{key:"id",get:function(){return this.TempId}},{key:"CurrentDay",get:function(){return this.currentDay||(this.currentDay=$()()),this.currentDay},set:function(t){this.currentDay=t,qi(this),this.OnSet_CurrentDay&&this.OnSet_CurrentDay(t)}},{key:"CurrentMonth",get:function(){return this.CurrentDay.format("MMMM")}},{key:"CurrentYear",get:function(){return this.CurrentDay.format("YYYY")}},{key:"CalendarDict",get:function(){return this.calendarDict||qi(this),this.calendarDict},set:function(t){this.calendarDict=t}},{key:"Style",get:function(){return this.style||(this.style={width:"250px",item_height:"35px"}),this.style},set:function(t){this.style=t}},{key:"View",get:function(){return Object(i.jsx)($i,{store:this},this.id)}}]),t}(),Qi=function(t){return t.PickedDate_Moment?t.PickedDate_Moment.format("DD/MM/YYYY"):void 0},Zi=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new es,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Mi(this.state,"mount")}},{key:"componentWillUnmount",value:function(){Mi(this.state,"unmount")}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{ref:t.RefData.GetRef("Target"),children:Object(i.jsx)(Xn.a,{content:Object(i.jsx)("div",{ref:t.RefData.GetRef("Calendar"),children:t.Calendar.View}),visible:t.IsFocus,placement:"bottomLeft",children:Object(i.jsx)("div",{ref:t.RefData.GetRef("Input"),children:t.PickedDate_TextVM.View})})})})}}]),n}(s.Component),ts=Object(He.a)(Zi),es=function(){function t(){var e=this;Object(u.a)(this,t),this.IsFocus=void 0,this.pickedDate=new Date,this.pickedDate_Moment=void 0,this.Set_PickedDate=function(t){e.PickedDate_Moment=t,e.Set_ByInput?e.Set_ByInput=!1:e.PickedDate_TextVM.Content=Qi(e)},this.Set_PickedDate_Text=function(t){var n=e.Temp_PickedDate_Text;return t===n||(e.PickedDate_TextVM.Content=n,!1)},this.Ready=this.PickedDate_TextVM.Ready,this.NotReady=this.PickedDate_TextVM.NotReady,this.Edit=this.PickedDate_TextVM.Edit,this.EditOK=function(){e.IsFocus=!1,e.PickedDate_TextVM.EditOK()},Object(l.k)(this,{IsFocus:l.l,pickedDate_Moment:l.l})}return Object(o.a)(t,[{key:"RefData",get:function(){return this.refData||(this.refData=function(t){var e=Vi(t,"Input").value,n=Vi(t,"Calendar").value;return Fi(t,"Calendar",(function(n){Ci(n,e)&&(t.IsFocus=!1)})),t.ClickOutside&&Fi(t,"Calendar",(function(i){Ci(i,n)&&Ci(i,e)&&t.ClickOutside()})),t.Target_RefData}(this)),this.refData}},{key:"PickedDate",get:function(){return this.pickedDate},set:function(t){this.Calendar.CurrentDay=t?$()(t):t}},{key:"PickedDate_Moment",get:function(){return this.pickedDate_Moment||(this.pickedDate_Moment=this.PickedDate?$()(this.PickedDate):void 0),this.pickedDate_Moment},set:function(t){this.pickedDate_Moment=t;var e=this.pickedDate=t?t.toDate():t;this.OnSet_PickedDate&&this.OnSet_PickedDate(e),this.OnSetValue&&this.OnSetValue(e)}},{key:"PickedDate_Text",get:function(){return this.pickedDate_Text||(this.pickedDate_Text=Qi(this)),this.pickedDate_Text},set:function(t){this.Set_PickedDate_Text(t)&&(this.pickedDate_Text=t)}},{key:"PickedDate_TextVM",get:function(){return this.pickedDate_TextVM||(this.pickedDate_TextVM=function(t){t.Temp_PickedDate_Text=t.PickedDate_Text;var e=Kn(t,"PickedDate_Text",(function(){t.IsFocus=!1}));return e.Placeholder=t.Placeholder?t.Placeholder:"pick date",e.OnFocus=function(){return t.IsFocus=!0},e.onSetContent=function(e){var n;if(e&&0!==e.length){if(!(n=$()(e,["D/M/YYYY","D/MM/YYYY","DD/M/YYYY","DD/MM/YYYY"],!0))._isValid)return}else if(!t.IsAllowUndefined)return;t.Temp_PickedDate_Text=e,t.Set_ByInput=!0,t.Calendar.CurrentDay=n},e}(this)),this.pickedDate_TextVM}},{key:"Calendar",get:function(){return this.calendar||(this.calendar=function(t){var e=new Ji;return e.Dict=t,e.CurrentDay=t.PickedDate_Moment,e.OnSet_CurrentDay=function(e){return t.Set_PickedDate(e)},e}(this)),this.calendar}},{key:"View",get:function(){return Object(i.jsx)(ts,{store:this},this.id)}}]),t}(),ns=n(393),is=n(210),ss=function(){function t(){Object(u.a)(this,t),this.isValid=!0,this.Message=void 0,Object(l.k)(this,{isValid:l.l,Message:l.l})}return Object(o.a)(t,[{key:"IsValid_Render",get:function(){var t;return this.isValid_Render||(this.isValid_Render=(t=this,function(){return t.isValid})),this.isValid_Render},set:function(t){this.isValid_Render=t}},{key:"IsValid",get:function(){return this.IsValid_Render(this)},set:function(t){this.isValid=t}},{key:"View",get:function(){return(t=this).IsValid?void 0:Object(i.jsx)(is.a,{title:t.Message,children:Object(i.jsx)("div",{className:"text-[#ff4d4f]",children:Object(i.jsx)(ns.a,{})})});var t}}]),t}(),rs=function(){function t(){var e=this;Object(u.a)(this,t),this.items=void 0,this.Ready=function(){return An(e.ItemsStringVM)},this.NotReady=function(){return En(e.ItemsStringVM)},this.Edit=function(){return Bn(e.ItemsStringVM)},this.EditOK=function(){return Hn(e.ItemsStringVM)},this.Validate=function(t){fs(e,t)},Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"InvalidIndice",get:function(){return as(this)}},{key:"RefData",get:function(){return this.refData||(this.refData=cs(this)),this.refData},set:function(t){this.refData=t}},{key:"Items",get:function(){return this.items||us(this),this.items},set:function(t){this.items=t,this.ModelItem.Items=t,this.IsValidated=!0,this.ItemsStringVM.Content=os(this),this.IsValidated=!1,this.OnHandle_Items?this.OnHandle_Items=!1:0!==t.length&&this.Dict.RefreshDate()}},{key:"ItemsString",get:function(){return this.itemsString},set:function(t){this.IsValidated?this.itemsString=t:this.Validate(t)}},{key:"ItemsStringVM",get:function(){return this.itemsStringVM||(this.itemsStringVM=hs(this)),this.itemsStringVM}},{key:"StartDate",get:function(){return ds(this)}},{key:"FinishDate",get:function(){return ls(this)}},{key:"View",get:function(){return Object(i.jsx)("div",{ref:this.RefData.GetRef("Target"),children:this.ItemsStringVM.View})}}]),t}(),cs=function(t){return Fi(t,"Target",(function(e){t.EditOK()})),Mi(t,"mount"),t.Target_RefData},as=function(t){var e=t.Dict,n=[e.Index];return n.push.apply(n,e.SupList.map((function(t){return t.Index}))),n},us=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){var n=e;t.OnHandle_Items=!0,t.Items=t.ModelItem.Data.map((function(e){var i=N(n,(function(t){return t.id===e._id}));return L({task:i,type:e.type},t)})),t.IsGet_Items=!1},n=t.Dict.Dict;n.SavedItems?e(n.SavedItems):C(n.OnSet_SavedItems_Func,(function(){return e(n.SavedItems)}))}},os=function(t){return t.Items.map((function(t){return t.AsString()})).join(",")},hs=function(t){var e=Kn(t,"ItemsString");return e.Placeholder="predecessor",e},ds=function(t){var e;if(e=t.Items)return 0!==(e=e.map((function(t){return t.StartDate})).filter((function(t){return t}))).length?$.a.max(e.map((function(t){return $()(t)}))).toDate():void 0},ls=function(t){var e;if(e=t.Items)return 0!==(e=e.map((function(t){return t.FinishDate})).filter((function(t){return t}))).length?$.a.min(e.map((function(t){return $()(t)}))).toDate():void 0},fs=function(t,e){var n=e.match(/\b\d+(FS)?(SS)?(FF)?(SF)?\b/g),i=t.Dict;t.Items.map((function(t){return t.Task})).forEach((function(t){var e=t.DependedTasks;e.splice(e.indexOf(i),1)}));var s=t.Dict.Dict.SavedItems,r=n?n.map((function(t){var e=t.match(/\d+|[FS]+/g);return{index:Number.parseInt(e[0])-1,type:2===e.length?e[1]:"FS"}})).filter((function(e){var n=e.index;return n<s.length&&!t.InvalidIndice.includes(n)})):[];t.Items=r.map((function(e){return L({task:s[e.index],type:e.type},t)}))},ms=n(394),Is=n(395),vs=function(){function t(){var e=this;Object(u.a)(this,t),this.Is_ShowReport=!1,this.AddReport=function(){var t=e.Task;e.ReportMessage?b.b.warn(e.ReportMessage):t.ReportDict.AddItem()},Object(l.k)(this,{Is_ShowReport:l.l})}return Object(o.a)(t,[{key:"Task",get:function(){return this.Dict}},{key:"HaveReports",get:function(){var t=this.Task.ReportDict.Items;return t&&0!==t.length}},{key:"IsValid_AddReport",get:function(){var t=this.Task;if(t.IsNew)return!1;if(0!==t.SubItems.length)return this.ReportMessage="Kh\xf4ng th\u1ec3 report Task cha",!1;var e=t.ModelItem.Planwork;if(0===e)return this.ReportMessage="Planwork ph\u1ea3i kh\xe1c 0",!1;if(!t.ModelItem.assignId)return this.ReportMessage="Task ch\u01b0a \u0111\u01b0\u1ee3c Assign ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",!1;var n=t.ReportDict,i=n.Items;if(!i||n.ModelItem.SubmitWork===e)return this.ReportMessage="Planwork hi\u1ec7n \u0111ang b\u1eb1ng t\u1ed5ng s\u1ed1 SubmitWork trong Report",!1;if(0!==i.length&&"done"!==i[i.length-1].ModelItem.Status.State)return this.ReportMessage="Report tr\u01b0\u1edbc c\u1ee7a b\u1ea1n ch\u01b0a \u0111\u01b0\u1ee3c duy\u1ec7t",!1;return this.ReportMessage=void 0,!0}},{key:"AddReport_Css",get:function(){var t=this.Dict;return 0===t.SubItems.length&&t.ModelItem.IsAssign?this.IsValid_AddReport?"text-[#1890ff]":"text-gray-500":"invisible"}},{key:"View",get:function(){return ps(this)}}]),t}(),ps=function(t){var e=t.Dict.ModelItem;return Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:t.Dict.ModelItem.IsOwner?"":"invisible",children:t.Dict.IsNew?"":t.Dict.DeleteVM.View}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"ml-2 cursor-pointer ".concat(t.AddReport_Css," ").concat(t.Dict.IsNew?"invisible":""),onClick:t.AddReport,children:Object(i.jsx)(ms.a,{})}),Object(i.jsx)("div",{className:"ml-2 cursor-pointer \n        ".concat((e.IsOwner||e.IsAssign)&&t.HaveReports?"":"invisible"),onClick:function(){return t.Is_ShowReport=!t.Is_ShowReport},children:Object(i.jsx)(Is.a,{})})]})]})},bs=function(){function t(){var e=this;Object(u.a)(this,t),this.GetField=function(t){return N(e.Fields,(function(e){return e.Key===t}))},this.SetCurrent=function(){var t=e.Dict;t.CurrentItem===e?t.CurrentItem=void 0:t.CurrentItem=e},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Fields",get:function(){return this.fields||(this.fields=ur(this)),this.fields}},{key:"ApproveDict",get:function(){return this.approveDict||(this.approveDict=hr(this)),this.approveDict}},{key:"Status",get:function(){return this.status||(this.status=dr(this)),this.status}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=or(this)),this.deleteVM}},{key:"View",get:function(){return lr(this)}},{key:"BaseView",get:function(){return fr(this)}},{key:"ApproveView",get:function(){return mr(this)}}]),t}(),ks=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new bs,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[t.BaseView,t.ApproveView]})}}]),n}(s.Component),_s=Object(He.a)(ks),Os="startdate",js="finishdate",gs="submitwork",Ds="actualwork",ys="assessment",Ss="note",ws="rebarweight",xs="owner",Vs=function(){return[gs,Ds,ys,Ss,ws]},Cs=function(t){var e;switch(t){case Os:e="Start";break;case js:e="Finish";break;case gs:e="Submit";break;case Ds:e="Actual";break;case ys:e="Assessment";break;case Ss:e="Note";break;case ws:e="Rebar (kg)";break;case xs:e="Responsibility"}return e},Fs=function(t){var e;switch(t){case Os:e="start";break;case js:e="finish";break;case gs:e="submit";break;case Ds:e="actual";break;case ys:e="assessment";break;case Ss:e="l\u01b0u \xfd";break;case ws:e="rebar kg"}return e},Ms=function(t){var e;switch(t){case Os:case js:e="w-14";break;default:e="w-12"}return"".concat(e)},Rs=function(){function t(){var e=this;Object(u.a)(this,t),this.GetField=function(t){return N(e.Fields,(function(e){return e.Key===t}))},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Fields",get:function(){return this.fields||(this.fields=Xs(this)),this.fields}},{key:"Level",get:function(){return this.ModelItem.Level}},{key:"Status",get:function(){return this.status||(this.status=qs(this)),this.status}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=$s(this)),this.deleteVM}},{key:"View",get:function(){return Js(this)}},{key:"RowView",get:function(){return Qs(this)}}]),t}(),Ns="startdate",Ts="finishdate",Ps="submitwork",Gs="actualwork",Ws="assessment",As="note",Es="rebarweight",Bs=n(396),Hs=n(397),Ks=n(398),Ls=function(){function t(){var e=this;Object(u.a)(this,t),this.Get_StateCss=function(t){return t===e.State?"":"invisible"},this.Send=function(){var t=e.Dict;if(t.ModelItem.IsOwner){var n=t.Dict;if("project"!==e.Dict.Level)n.AddItem();else{var i=n.Dict;[Ps,Gs,Ws,As,Es].forEach((function(e){var n=i.GetField(e);n.ValueVM.Content=t.GetField(e).ValueVM.Content,n.EditOK()})),i.ModelItem.Status.State=nt,i.Save()}}},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"State",get:function(){return Us(this)}},{key:"DeleteCss",get:function(){return this.Dict.ModelItem.IsOwner&&this.State===et?"":"invisible"}},{key:"View",get:function(){return Ys(this)}}]),t}(),Us=function(t){var e=t.Dict,n=e.Dict.Items;return e.Dict.Dict.Status.State===nt||e.Index!==n.length-1?nt:et},Ys=function(t){return Object(i.jsxs)("div",{className:"flex",children:[t.Dict.DeleteVM.View,Object(i.jsxs)("div",{className:"ml-3 flex",children:[Object(i.jsx)("div",{className:"cursor-pointer ".concat(t.Get_StateCss(et)),onClick:t.Send,children:Object(i.jsx)(Bs.a,{})}),Object(i.jsx)("div",{className:"ml-2 cursor-pointer ".concat(t.Get_StateCss("process")),children:Object(i.jsx)(Hs.a,{})}),Object(i.jsx)("div",{className:"ml-2 cursor-pointer ".concat(t.Get_StateCss(nt)),children:Object(i.jsx)(Ks.a,{})})]})]})},zs=function(t,e){var n=new Rs;return n.ModelItem=t,n.Dict=e,n},Xs=function(t){var e=[Ps,Gs,Ws,As,Es],n=t.ModelItem,i=[];return e.forEach((function(e,s){var r,c=function(t){var e;switch(t){case Ns:e="StartDate";break;case Ts:e="FinishDate";break;case Ps:e="SubmitWork";break;case Gs:e="ActualWork";break;case Ws:e="Assessment";break;case As:e="Note";break;case Es:e="RebarWeight"}return e}(e);(r=Pi((function(){return n[c]}),(function(t){n[c]=t}),t.Save)).PreReady=function(){return t.ModelItem.IsOwner&&"draft"===t.Status.State},r.Key=e,i.push(r)})),i},$s=function(t){var e=new Jn;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.Status.DeleteCss),onClick:e.Show_Hover,children:Object(i.jsx)(ki.a,{})})},e.OnRun=function(){t.Delete()},e},qs=function(t){return function(t,e){var n=new Ls;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Status,t)},Js=function(t){return t.RowView},Qs=function(t){var e,n=function(t){var e=t.Key,n=function(){(0,t.Ready)()},s=t.NotReady,r=function(e,n){return!(t.Value&&0!==t.Value.length)&&e(n)},c=Object(i.jsx)("div",{className:"flex",children:Object(i.jsx)("div",{className:"flex-1",onMouseEnter:n,onMouseLeave:s,children:t.View})});return Object(i.jsx)("td",{onMouseEnter:function(){return r(n)},onMouseLeave:function(){return r(s)},children:c},e)};return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"non-input",children:"A".concat(t.Index+1)}),Object(i.jsx)("td",{className:"non-input",children:t.Status.View}),t.Fields.map((function(t){return n(t)})),Object(i.jsx)("td",{className:"non-input",children:null===(e=t.ModelItem.Owner)||void 0===e?void 0:e.Name})]},t.id)},Zs=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=function(){var t=e.ModelItem.AddItem(),n=zs(t,e);return e.Items.push(n),n.Save(),e.Dict.Status.Is_ShowApprove=!0,n};if(e.Items)return t();C(e.OnSet_Items_Func,t)},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||tr(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return t.View}))}},{key:"View",get:function(){return this.ItemsView}}]),t}(),tr=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return zs(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),C(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},er="draft",nr="process",ir="done",sr=function(){function t(){var e=this;Object(u.a)(this,t),this.Get_StateCss=function(t){return t===e.State?"":"invisible"},this.Send=function(){var t=e.Dict;t.ModelItem.IsOwner&&t.ApproveDict.AddItem()},this.Is_ShowApprove=!1,Object(l.k)(this,{Is_ShowApprove:l.l})}return Object(o.a)(t,[{key:"State",get:function(){return rr(this)}},{key:"HaveReports",get:function(){var t=this.Dict.ApproveDict.Items;return t&&0!==t.length}},{key:"DeleteCss",get:function(){return this.Dict.ModelItem.IsOwner&&this.State===er?"":"invisible"}},{key:"View",get:function(){return cr(this)}}]),t}(),rr=function(t){if(t.ModelItem.State===ir)return ir;var e=t.Dict.ApproveDict.Items;return e&&0!==e.length?nr:er},cr=function(t){return Object(i.jsxs)("div",{className:"flex",children:[t.Dict.DeleteVM.View,Object(i.jsxs)("div",{className:"ml-3 flex",children:[Object(i.jsx)("div",{className:"cursor-pointer ".concat(t.Get_StateCss(er)),onClick:t.Send,children:Object(i.jsx)(Bs.a,{})}),Object(i.jsx)("div",{className:"ml-2 cursor-pointer ".concat(t.Get_StateCss(nr)),children:Object(i.jsx)(Hs.a,{})}),Object(i.jsx)("div",{className:"ml-2 cursor-pointer ".concat(t.Get_StateCss(ir)),children:Object(i.jsx)(Ks.a,{})})]}),Object(i.jsx)("div",{className:"ml-3",children:Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.HaveReports?"":"invisible"),onClick:function(){return t.Is_ShowApprove=!t.Is_ShowApprove},children:Object(i.jsx)(Is.a,{})})})]})},ar=function(t,e){var n=new bs;return n.ModelItem=t,n.Dict=e,n},ur=function(t){var e=Vs(),n=t.ModelItem,i=[];return e.forEach((function(e,s){var r,c=function(t){var e;switch(t){case Os:e="StartDate";break;case js:e="FinishDate";break;case gs:e="SubmitWork";break;case Ds:e="ActualWork";break;case ys:e="Assessment";break;case Ss:e="Note";break;case ws:e="RebarWeight";break;case xs:e="Owner"}return e}(e);switch(e){case Os:case js:r=new es;var a=n;r.Placeholder=Fs(e),r.PickedDate=a[c],r.OnSet_PickedDate=function(t){n[c]=t},r.ClickOutside=r.EditOK;break;default:var u=n;switch(r=Pi((function(){return u[c]}),(function(t){switch(e){case gs:case Ds:case ws:t=Number.parseInt(t)}u[c]=t}),t.Save),e){case gs:case Ds:r.InputRegex=/^([1-9]\d{0,2})$/;break;case ws:r.InputRegex=/^([1-9]\d{0,2}(\.\d{0,2})?)$/}switch(r.ValueVM_Render=function(t){t.Placeholder=Fs(e)},e){case gs:case Ds:case ws:r.OnSetValue=function(t){t&&0!==t.length||(r.ValueVM.Content="0")}}}r.PreReady=function(){return t.ModelItem.IsOwner&&"draft"===t.Status.State},r.Key=e,i.push(r)})),i},or=function(t){var e=new Jn;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.Status.DeleteCss),onClick:e.Show_Hover,children:Object(i.jsx)(ki.a,{})})},e.OnRun=function(){t.Delete()},e},hr=function(t){return function(t,e){var n=new Zs;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ApproveDict,t)},dr=function(t){return function(t,e){var n=new sr;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Status,t)},lr=function(t){return Object(i.jsx)(_s,{store:t},t.id)},fr=function(t){var e,n=function(t){var e=t.Key,n=function(){(0,t.Ready)()},s=t.NotReady,r=function(e,n){return!(t.Value&&0!==t.Value.length)&&e(n)},c=Object(i.jsx)("div",{className:"flex",children:Object(i.jsx)("div",{className:"flex-1",onMouseEnter:n,onMouseLeave:s,children:t.View})});return Object(i.jsx)("td",{onMouseEnter:function(){return r(n)},onMouseLeave:function(){return r(s)},children:c},e)};return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"non-input",children:t.Index+1}),Object(i.jsx)("td",{className:"non-input",children:t.Status.View}),t.Fields.map((function(t){return n(t)})),Object(i.jsx)("td",{className:"non-input",children:null===(e=t.ModelItem.Owner)||void 0===e?void 0:e.Name})]},t.id)},mr=function(t){return t.Status.Is_ShowApprove?t.ApproveDict.View:void 0},Ir=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new pr,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"w-5"}),Object(i.jsx)("th",{className:"w-12"}),Vs().map((function(t){return Object(i.jsx)("th",{className:Ms(t),children:Cs(t)},t)})),Object(i.jsx)("th",{className:Ms(xs),children:Cs(xs)})]})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),vr=Object(He.a)(Ir),pr=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=function(){var t=e.ModelItem.AddItem(),n=ar(t,e);return e.Items.push(n),n.Save(),e.Dict.Status.Is_ShowReport=!0,n};if(e.Items)return t();C(e.OnSet_Items_Func,t)},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"ColSpan",get:function(){return this.Dict.Dict.Parameters.length+2}},{key:"Items",get:function(){return this.items||br(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t,e=this;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:e.ColSpan,children:t.View})},t.id)}))}},{key:"View",get:function(){var t;return this.Items&&0!==(null===(t=this.Items)||void 0===t?void 0:t.length)?Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:this.ColSpan,children:Object(i.jsx)("div",{className:"flex mt-3 mx-3",children:Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)(vr,{store:this})})})})}):void 0}}]),t}(),br=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return ar(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),C(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},kr=function(){return Ee.Instance},_r=function(t,e){var n=new ji;return n.ModelItem=t,n.Dict=e,n},Or=function(t){var e=new Jn;return e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("span",{})},e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.Status.DeleteCss),onClick:e.Show_Hover,children:Object(i.jsx)(ki.a,{})})},e.OnRun=function(){t.Delete()},e},jr=function(t){var e=t.Dict.SavedItems;e.splice(e.indexOf(t),1),t.SubItems.forEach((function(t){return t.Delete()}))},gr=function(t){var e=li(),n=t.ModelItem,s=[];return e.forEach((function(e,r){var c,a=fi(e);switch(e){case ii:case si:case ri:c=new es;var u=e!==ri?t:n;e===ri&&(c.PickedDate=void 0,c.IsAllowUndefined=!0),c.Placeholder=Ii(e),c.PickedDate=u[a],c.OnSet_PickedDate=function(i){n[a]=i,t.Save();var s=function(){t.SupItem&&t.SupItem.RefreshDate()},r=t.RefreshDuration;switch(e){case ii:s(),r();break;case si:s(),r(),t.DependedTasks.forEach((function(t){return t.NotSup_Items.forEach((function(t){return t.RefreshDate()}))}))}},c.ClickOutside=c.EditOK;break;case ui:c=t.PredecessorData;break;case ti:case ei:case ni:case oi:case hi:var o=n;(c=function(t,e,n){var i=new Bi;return i.ValueGet=t,i.ValueSet=e,i.ValueSet_OK=n,i}((function(){return o[a]}),(function(t){return o[a]=t}))).Placeholder=Ii(e),c.ValueVM.CanClear=!0;var h=function(n){if(c.SetItems(n,(function(t){return t.Name})),!t.IsNew){var i=t.ModelItem["".concat(e,"Id")];if(i){var s=c.ValueVM;t.ModelItem[fi(e)]=s.InitialItem=N(n,(function(t){return t._id===i}))}}};switch(e){case ti:case ei:case ni:var d=c.ValidateSelect=new Jn;d.ToggleType="manual",d.Title="X\xe1c nh\u1eadn ghi \u0111\xe8 th\xf4ng tin?",d.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("span",{})};var l=c.ValueVM;d.OnRun=function(){c.Value=l.SelectedItem},d.OnCancel=function(){l.InitialItem=l.TempItem},l.OnSelectedItemChanged=function(n,i){!n||function(){var i=t.SubItems,s=i.length;return 0===s||i.filter((function(t){var i=t.ModelItem[fi(e)];return!i||i===n})).length===s}()?c.Value=n:(l.TempItem=i,d.Show_Hover())}}switch(c.OnSetValue=function(n){switch(e){case ti:case ei:var i=n?n instanceof se?n.BIMUses:n.Categories:[],c=s[r+1],a=c.ValueVM;a.Items=i;var u=N(i,(function(t){var e;return t.Name===(null===(e=c.Value)||void 0===e?void 0:e.Name)}));c.Value=a.InitialItem=u}switch(e){case ti:case ei:case ni:case hi:t.SubItems.forEach((function(t){t.RefreshInfo(e)}))}switch(e){case ni:case oi:case hi:t.Save()}},e){case ti:case oi:case hi:var f=e===ti?kr().DisciplineDict:kr().UserDict;f.Items?h(f.Items):C(f.OnSet_Items_Func,(function(){return h(f.Items)}));break;case ei:case ni:var m=e===ei?"BIMUses":"Categories",I=s[r-1].ValueVM.InitialItem;h(I?I[m]:[])}break;default:o=n;switch(c=Pi((function(){return o[a]}),(function(t){switch(e){case ci:t=Number.parseInt(t);break;case di:t=Number.parseFloat(t);break;case ai:t=t&&0!==t.length?Number.parseInt(t):void 0}o[a]=t}),(function(){t.IsNew&&e===Zn?t.Insert():t.Save()})),e){case ci:c.PreValueSet=function(e){return!((e=Number.parseInt(e))<t.ModelItem.ReportDict.SubmitWork)||(b.b.warn("Planwork kh\xf4ng \u0111\u01b0\u1ee3c b\xe9 h\u01a1n t\u1ed5ng s\u1ed1 SubmitWork trong Report"),!1)}}switch(e){case ci:c.InputRegex=/^(0|[1-9]\d{0,2})$/;break;case ai:c.InputRegex=/^([1-9]\d{0,3})$/;break;case di:c.InputRegex=/^([1-9]\d{0,2}(\.?5?))$/}switch(c.ValueVM_Render=function(t){t.Placeholder=Ii(e)},c.OnSetValue=function(n){switch(e){case ci:if(!n||0===n.length)return void(c.ValueVM.Content="0");t.SupItem&&t.SupItem.RefreshPlanwork();break;case di:if(t.Is_SetPlanwork_ByDuration){var i=t.GetField(ci).ValueVM;i.Content=8*n,i.RenderState="edit",i.RenderState="default",t.ForceSave()}t.OnRefresh_Duration?t.OnRefresh_Duration=!1:(t.OnSet_Duration=!0,t.GetField(si).PickedDate=function(t,e){var n=$()(t),i=n.day();i=0!==i?6!==i?i:5.5:1,i-=5.5!==i?1:.5,n=n.startOf("week");var s=e+i,r=s/5.5,c=Math.floor(r),a=s-5.5*c,u=7*c+(a>=1?a:-1);return n.add(u,"d").toDate()}(t.GetField(ii).PickedDate,t.GetField(di).Value))}},e){case ci:var v=c.Addition=new wi;v.Ischecked=t.Is_SetPlanwork_ByDuration,v.OnCheckChanged=function(e){return t.Is_SetPlanwork_ByDuration=e}}}switch((c.ValidateData=new ss).IsValid_Render=function(n){var i=!0,s=[];switch(e){case ii:t.DepenedDict_StartDate&&!$()(t.StartDate).isAfter($()(t.DepenedDict_StartDate))&&(s.push("Ng\xe0y b\u1eaft \u0111\u1ea7u nh\u1ecf h\u01a1n ng\xe0y r\xe0ng bu\u1ed9c"),i=!1);break;case si:$()(t.FinishDate).isBefore($()(t.StartDate),"day")&&(s.push("Ng\xe0y k\u1ebft th\xfac b\xe9 h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u"),i=!1),t.BaselineFinish&&$()(t.FinishDate).isAfter($()(t.BaselineFinish),"day")&&(s.push("Ng\xe0y k\u1ebft th\xfac v\u01b0\u1ee3t qu\xe1 Baseline"),i=!1);break;case ci:t.BaselineWork&&t.BaselineWork<t.Planwork&&(s.push("Gi\u1edd k\u1ebf ho\u1ea1ch v\u01b0\u1ee3t qu\xe1 Baseline"),i=!1)}return n.Message=s.join("\n"),i},e){case hi:c.PreReady=function(){var e=t.ReportDict.Items;return!e||0===e.length};break;case oi:c.PreReady=function(){var e=t.ReportDict.Items;return!e||0===e.length||"done"===e[e.length-1].Status.State}}c.Key=e,c.Dict=t,s.push(c)})),s},Dr=function(t){return 0===t.SubItems.length?t.ModelItem.Planwork:t.SubItems.reduce((function(t,e){return t+e.Planwork}),0)},yr=function(t){var e=t.GetField(ci);e.ValueVM.Content=Dr(t),e.ValueVM.RenderState="edit",e.EditOK(),t.Save(),t.SupItem&&t.SupItem.RefreshPlanwork()},Sr=function(t){var e=t.SupList.map((function(t){return t.Depened_StartDate}));e.push(t.Depened_StartDate);var n=e.filter((function(t){return t})),i=0!==n.length?$.a.max(n.map((function(t){return $()(t)}))).toDate():void 0;return i?$()(i).add(1,"day").toDate():0===t.SubItems.length?t.ModelItem.StartDate:$.a.min(t.SubItems.map((function(t){return $()(t.StartDate)}))).toDate()},wr=function(t){return t.PredecessorData.StartDate},xr=function(t){var e;return t.Depened_StartDate?t.Depened_StartDate:null===(e=t.SupItem)||void 0===e?void 0:e.Depened_StartDate},Vr=function(t){return 0===t.SubItems.length&&!t.Depened_StartDate},Cr=function(t){return 0===t.SubItems.length?t.ModelItem.FinishDate:$.a.max(t.SubItems.map((function(t){return $()(t.FinishDate)}))).toDate()},Fr=function(t){return 0===t.SubItems.length},Mr=function(t){t.GetField(ii).PickedDate=Sr(t),t.GetField(si).PickedDate=Cr(t),t.SupItem&&t.SupItem.RefreshDate()},Rr=function(t){if(t.OnSet_Duration)t.OnSet_Duration=!1;else{t.OnRefresh_Duration=!0;var e=t.GetField(ii).PickedDate,n=t.GetField(si).PickedDate,i=t.GetField(di).ValueVM;i.Content=q(e,n),i.RenderState="edit",i.RenderState="default"}},Nr=function(t){return function(t,e){var n=new rs;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.PredecessorData,t)},Tr=function(t,e){var n,i=fi(e),s=t.ModelItem[i];return s||(null===(n=t.SupItem)||void 0===n?void 0:n.GetInfo(e))},Pr=function(t,e){e||(e=[ti,ei,ni,hi]),"string"===typeof e&&(e=[e]);e.forEach((function(e){var n=!0;switch(e){case hi:var i=t.ReportDict.Items;n=!i||0===i.length}if(n){var s=t.GetField(e);s.Value=s.ValueVM.InitialItem=function(e){var n,i=fi(e),s=t.ModelItem[i],r=null===(n=t.SupItem)||void 0===n?void 0:n.GetInfo(e);return e===hi?s||r:r||s}(e)}}));var n=t.ModelItem;n.OnSave?C(n.On_Save_Func,n.Save):n.Save()},Gr=function(t){return function(t){var e=new vs;return e.Dict=t,e}(t)},Wr=function(t){return function(t,e){var n=new pr;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ReportDict,t)},Ar=function(t){return!t.SupItem||t.SupItem.IsOwner},Er=function(t){if(!t.IsGet_SupItem){t.IsGet_SupItem=!0;var e=function(e){t.StopPropagation=!0,t.SupItem=N(t.Dict.SavedItems,(function(t){return t.id===e.id}))},n=t.ModelItem;n.SupItem?e(n.SupItem):C(n.OnSet_SupItem_Func,(function(){return e(n.SupItem)}))}},Br=function(t){for(var e=[],n=t.SupItem;n;)e.push(n),n=n.SupItem;return e},Hr=function(t){return Object(i.jsx)("div",{className:"cursor-pointer mt-1 mr-1 ml-2\n    ".concat(t.Dict.IsFilter||0===t.SubItems.length?"invisible":""),children:t.IsShowSub?Object(i.jsx)(_i.a,{onClick:function(){return t.IsShowSub=!1}}):Object(i.jsx)(Oi.a,{onClick:function(){return t.IsShowSub=!0}})})},Kr=function(t){var e=t.Index;return t.Dict.SavedItems.filter((function(n,i){return i>e&&n.SupItem===t}))},Lr=function(t){var e=[];return function t(n){0===n.SubItems.length&&e.push(n),n.SubItems.forEach((function(e){return t(e)}))}(t),e},Ur=function(t){return t.SupItem?t.SupItem.SubItems:t.Dict.SavedItems.filter((function(t){return!t.SupItem}))},Yr=function(t){return t.SupItem?t.SupItem.Rank+1:0},zr=function(t){return t===t.Dict.CurrentItem?"bg-[#faad1490]":t.IsNew||t.ModelItem.IsOwner?"":"bg-gray-300"},Xr=function(t,e,n){var i=t.GetField(Zn).Value;if(i&&0!==i.length){var s,r=t.Dict,c=r.Dict.Dict.IsOwner;if(e)s=0===e.SubItems.length?e.SupItem:e;else{var a=c?r.SavedItems:r.Filter_SavedItems;0!==a.length&&(e=a[a.length-1])}var u=e?e.Index+1:0,o={location:u},h=r.SavedItems,d=r.NewItems;d.splice(0,1),u<h.length?h.splice(u,0,t):h.push(t);var l=_r(xt(r.ModelItem),r);d.push(l);t.ModelItem.Insert(o,(function(){if(c)t.Save();else{if(!s){s=function t(e){return e.IsManage?e:t(e.SupItem)}(e)}t.SupItem=s,"mine"===r.ViewMode&&(r.ViewMode="all",r.ViewMode="mine")}}))}else n&&n()},$r=function(t,e){if(!qr(t))return!1;t.ModelItem.Save((function(){e&&e()}))},qr=function(t){var e=t.GetField(Zn).Value;return!(!e||0===e.length)&&!(t.IsNew&&t.NewIndex>0)},Jr=function(t,e){for(var n=t,i=n.Rank-e,s=0;s<i;s++)n=n.SupItem;return n},Qr=function(t){var e="".concat(15*t.Rank,"px");return Object(i.jsx)("div",{style:{width:e}})},Zr=function(t){return Object(i.jsx)(Di,{store:t},t.id)},tc=function(t){var e=function(e){var n,s=e.Key,r=s===Zn,c=t.IsNew,a=function(){var e=t.IsNew&&function(){if(t.NewIndex>0)return!1;var e=t.Dict;if(e.IsFilter)return!1;var n=e.Filter_SavedItems;if(!n)return!1;if(0===n.length)return t.Dict.Dict.Dict.IsOwner;var i=n[n.length-1];return i.IsOwner||i.IsManage}()||!t.IsNew&&t.ModelItem.IsOwner;if(!e)return!1;switch(s){case ii:e=t.CanInput_StartDate;break;case si:e=t.CanInput_EndDate;break;case di:e=t.CanInput_StartDate||t.CanInput_EndDate;break;case ci:e=0===t.SubItems.length;break;case ti:case ei:case ni:e=!t.SupItem||!t.SupItem.ModelItem["".concat(s,"Id")];break;case hi:e=!(n=t.ReportDict.Items)||0===n.length;break;case oi:var n;e=!(n=t.ReportDict.Items)||0===n.length||"done"===n[n.length-1].Status.State}return e},u=function(){return function(t){var e=t;a()&&e()}(e.Ready)},o=e.NotReady,h=function(t,n){return!function(){switch(s){case ii:return e.PickedDate;default:return e.Value&&0!==e.Value.length}}()&&t(n)},d=e.ValidateData.IsValid?"":"py-2 pr-1",l=Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"flex-1",onMouseEnter:u,onMouseLeave:o,children:e.View}),null===(n=e.ValidateSelect)||void 0===n?void 0:n.View,a()&&e.Addition?Object(i.jsx)("div",{className:"ml-1 mt-2",children:e.Addition.View}):"",Object(i.jsx)("div",{className:d,children:e.ValidateData.View})]}),f=Object(i.jsx)("td",{onMouseEnter:function(){return h(u)},onMouseLeave:function(){return h(o)},className:"".concat(t.ModelItem.IsOwner&&!a()?"text-gray-300":""),children:r?Object(i.jsxs)("div",{className:"flex",children:[t.Indent_View,t.ToggleSub_View,Object(i.jsx)("div",{className:"flex-1",children:l})]}):l},s);return!c||r?f:Object(i.jsx)("td",{},s)};return Object(i.jsxs)("tr",{className:"".concat(t.Css),children:[Object(i.jsx)("td",{className:"non-input cursor-pointer",onClick:t.SetCurrent,children:t.IsNew?void 0:t.Index+1}),Object(i.jsx)("td",{className:"non-input",children:t.Status.View}),t.Fields.map((function(t){return e(t)}))]})},ec=function(t){return t.Status.Is_ShowReport?t.ReportDict.View:void 0},nc=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_SavedItems_Func=[],this.savedItems=void 0,this.newItems=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=_r(t,e);return e.Items.push(n),n},this.CurrentItem=void 0,this.ViewMode="all",this.parameters=void 0,this.Outdent=function(){pc(e)},this.Indent=function(){bc(e)},this.Insert=function(){kc(e)},this.Delete=function(){Oc(e)},this.CreateReport=function(){jc(e)},Object(l.k)(this,{savedItems:l.l,newItems:l.l,CurrentItem:l.l,parameters:l.l,ViewMode:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"SavedItems",get:function(){return this.savedItems||dc(this),this.savedItems},set:function(t){var e=this;this.savedItems=t,F(this.OnSet_SavedItems_Func,(function(t){return e.OnSet_SavedItems_Func=t}))}},{key:"Filter_SavedItems",get:function(){return lc(this)}},{key:"NewItems",get:function(){return this.newItems||(this.newItems=fc(this)),this.newItems}},{key:"AllItems",get:function(){return mc(this)}},{key:"FilterColumns",get:function(){return this.Columns.filter((function(t){return void 0!==t.FilterValue}))}},{key:"IsFilter",get:function(){return 0!==this.FilterColumns.length}},{key:"Parameters",get:function(){return this.parameters||(this.parameters=Ic(this)),this.parameters}},{key:"Columns",get:function(){return this.columns||(this.columns=vc(this)),this.columns}},{key:"DisableOutdent",get:function(){return this.DisableHandle||!this.CurrentItem.CanOutdent}},{key:"DisableHandle",get:function(){return!this.CurrentItem||this.CurrentItem.IsNew}},{key:"TableView",get:function(){return Object(i.jsx)(bi,{store:this})}},{key:"View",get:function(){return Object(i.jsx)("div",{className:"flex",children:Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)(bi,{store:this})})})}},{key:"Toggle_TaskLevel_View",get:function(){return gc(this)}}]),t}(),ic=n(402),sc=function(){function t(){Object(u.a)(this,t),this.filterValue=void 0,Object(l.k)(this,{filterValue:l.l})}return Object(o.a)(t,[{key:"FilterValue",get:function(){return this.filterValue},set:function(t){this.filterValue=t}},{key:"FilterValueVM",get:function(){return this.filterValueVM||(this.filterValueVM=cc(this)),this.filterValueVM}},{key:"id",get:function(){return this.Parameter}},{key:"Css",get:function(){return ac(this)}},{key:"Style",get:function(){return uc(this)}},{key:"View",get:function(){return oc(this)}},{key:"FilterView",get:function(){return hc(this)}}]),t}(),rc=function(t){var e=new sc;return e.Dict=t,e},cc=function(t){var e=new gn;return e.Placeholder="t\xecm ki\u1ebfm ...",e.Content=t.TempFilterValue,e.OnSetContent=function(e){t.TempFilterValue=e},e},ac=function(t){},uc=function(t){},oc=function(t){return Object(i.jsx)("th",{className:vi(t.Parameter),children:Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"text-center items-center flex-1",children:mi(t.Parameter)}),t.FilterView]})},t.id)},hc=function(t){switch(t.Parameter){case Zn:case oi:case hi:return Object(i.jsx)("div",{className:"mr-2",children:Object(i.jsx)(Xn.a,{trigger:"click",placement:"bottomLeft",content:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("div",{className:"flex-1 w-36",children:Object(i.jsx)(Vn,{store:t.FilterValueVM})}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)(Qe.a,{type:"primary",size:"small",onClick:function(){return t.FilterValue=t.FilterValueVM.Content},children:"ok"}),Object(i.jsx)(Qe.a,{type:"primary",size:"small",className:"btn-danger",onClick:function(){return t.FilterValue=t.FilterValueVM.Content=void 0},children:"x"})]})]}),children:Object(i.jsx)(ic.a,{})})});default:return""}},dc=function(t){if(!t.IsGet_SavedItems){t.IsGet_SavedItems=!0;var e=function(e){t.SavedItems=e.map((function(e){return _r(e,t)})),t.IsGet_SavedItems=!1},n=t.ModelItem;n.Items&&e(n.Items),C(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},lc=function(t){if(!(e=t.SavedItems))return e;var e="all"===t.ViewMode?t.SavedItems:t.SavedItems.filter((function(t){return t.IsVisible_ByUser}));if(t.IsFilter){var n=t.FilterColumns;e=e.filter((function(t){var e=!0;return n.forEach((function(n){if(e){var i,s=n.Parameter,r=t.ModelItem[fi(s)];r="string"===typeof r?r:null===(i=r)||void 0===i?void 0:i.Name,e=r&&r.includes(n.FilterValue)}})),e}))}else e=e.filter((function(t){return t.IsVisible_BySup}));return e},fc=function(t){for(var e=[],n=0;n<50;n++)e.push(_r(xt(t.ModelItem),t));return e},mc=function(t){var e=[],n=t.Filter_SavedItems;return n?(e.push.apply(e,n),e.push.apply(e,t.NewItems),e):e},Ic=function(t){return li()},vc=function(t){return t.Parameters.map((function(e){return function(t,e){var n=rc(e);return n.Parameter=t,n}(e,t)}))},pc=function(t){var e;if(_c(t)){var n=t.CurrentItem,i=n.Index,s=n.CurrentList.filter((function(t){return t.Index>i}));0!==s.length||n.SupItem?(s.forEach((function(t){return t.SupItem=n})),n.SupItem=null===(e=n.SupItem)||void 0===e?void 0:e.SupItem):b.b.warn("D\xf2ng Task n\xe0y kh\xf4ng th\u1ec3 outdent!")}},bc=function(t){if(_c(t)){var e=t.CurrentItem,n=e.Index;if(0!==n){var i=t.SavedItems[n-1],s=e.Rank;if(s>i.Rank)b.b.warn("Kh\xf4ng th\u1ec3 Indent task th\xeam n\u1eefa!");else(e.SupItem=i.GetSup(s)).IsShowSub=!0}else b.b.warn("D\xf2ng Task n\xe0y kh\xf4ng th\u1ec3 indent!")}},kc=function(t){if(_c(t)){var e=t.CurrentItem,n=(e.Index,_r(xt(t.ModelItem),t));n.ModelItem.Name="<t\xean task>",n.Insert(e)}},_c=function(t){var e=t.CurrentItem;return e?!e.IsNew||(b.b.warn("D\xf2ng d\u1eef li\u1ec7u ch\u01b0a \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!"),!1):(b.b.warn("Vui l\xf2ng ch\u1ecdn d\xf2ng d\u1eef li\u1ec7u!"),!1)},Oc=function(t){var e=t.CurrentItem;if(!e)return b.b.warn("Vui l\xf2ng ch\u1ecdn d\xf2ng d\u1eef li\u1ec7u!"),!1;e.DeleteVM.Show_Hover()},jc=function(t){t.CurrentItem.ReportDict.AddItem()},gc=function(t){if(!t.SavedItems)return"";for(var e=t.SavedItems.reduce((function(t,e){return Math.max(t,e.Rank)}),0),n=[],s=function(e){n.push(Object(i.jsx)(Qe.a,{onClick:function(){return function(e){t.SavedItems.forEach((function(t){t.Rank<e&&(t.IsShowSub=!0),t.Rank===e&&(t.IsShowSub=!1)}))}(e)},children:e+1},e))},r=0;r<e+1;r++)s(r);return Object(i.jsx)("div",{children:n})},Dc=n(392),yc=function(t){return function(t,e){var n=new nc;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.TaskDict,t)},Sc=function(t){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"flex sticky top-1 mb-3",children:[Object(i.jsx)(Qe.a,{type:"primary",size:"small",onClick:t.TaskDict.Outdent,disabled:t.TaskDict.DisableOutdent,children:"<- Outdent"}),Object(i.jsx)(Qe.a,{type:"primary",size:"small",onClick:t.TaskDict.Indent,disabled:t.TaskDict.DisableHandle,children:"Indent ->"}),Object(i.jsx)(Qe.a,{type:"primary",size:"small",onClick:t.TaskDict.Insert,disabled:t.TaskDict.DisableHandle,children:"Insert"}),Object(i.jsx)("div",{className:"ml-2",children:t.TaskDict.Toggle_TaskLevel_View}),Object(i.jsx)(Dc.a,{className:"ml-1",checkedChildren:"my tasks only",unCheckedChildren:"my tasks only",checked:"mine"===t.TaskDict.ViewMode,onChange:function(e){return t.TaskDict.ViewMode=e?"mine":"all"}})]},t.Dict.id),t.TaskDict.View]})},wc=function(t,e){var n=new Ln;return n.ModelItem=t,n.Dict=e,n},xc=function(t){var e=new Jn;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Vc=function(t){return function(t,e){var n=new Qn;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Plan,t)},Cc=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=wc(t,e);return e.Items.push(n),n},this.OnSet_CurrentItem_Func=[],this.currentItem=void 0,Object(l.k)(this,{items:l.l,currentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Fc(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"CurrentItem",get:function(){return this.currentItem||Mc(this),this.currentItem},set:function(t){var e=this;this.currentItem=t,F(this.OnSet_CurrentItem_Func,(function(t){return e.OnSet_CurrentItem_Func=t}))}},{key:"Select",get:function(){return this.select||(this.select=Rc(this)),this.select}},{key:"TableView",get:function(){return Object(i.jsx)(bn,{store:this})}},{key:"View",get:function(){return Object(i.jsxs)("div",{className:"mt__wrapper",children:[Object(i.jsx)("div",{className:"flex justify-center mb-3",children:Object(i.jsx)("span",{className:"text-xl font-normal",children:"CHIA S\u1eba B\xc0I VI\u1ebeT"})}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"mt-2 mr-2",children:Object(i.jsx)(Qe.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"})}),Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)(bn,{store:this})})]})]})}}]),t}(),Fc=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return wc(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),C(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Mc=function(t){if(!t.IsGet_CurrentItem){t.IsGet_CurrentItem=!0;var e=function(e){t.CurrentItem=0!==e.length?e[0]:void 0,t.IsGet_CurrentItem=!1},n=t;n.Items?e(n.Items):C(n.OnSet_Items_Func,(function(){return e(n.Items)}))}},Rc=function(t){var e=new an;e.Placeholder="ch\u1ecdn d\u1ef1 \xe1n",e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){t.CurrentItem=e};var n=function(t){e.Items=t},i=function(t){e.InitialItem=t},s=t;return s.Items?n(s.Items):C(s.OnSet_Items_Func,(function(){return n(s.Items)})),s.CurrentItem?i(s.CurrentItem):C(s.OnSet_CurrentItem_Func,(function(){return i(s.CurrentItem)})),e},Nc=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"View",get:function(){return Kc(this)}}]),t}(),Tc="taskname",Pc="planwork",Gc="submitwork",Wc="actualwork",Ac="assessment",Ec=function(){return[Tc,Pc,Gc,Wc,Ac]},Bc=function(t){var e;switch(t){case Tc:e="TaskName";break;case Pc:e="Planwork";break;case Gc:e="SubmitWork";break;case Wc:e="ActualWork";break;case Ac:e="Assessment"}return e},Hc=function(t){var e;switch(t){case Tc:e="Name";break;case Pc:e="Planwork";break;case Gc:e="Submit Work";break;case Wc:e="Actual Work";break;case Ac:e="Assessment"}return e},Kc=function(t){return Object(i.jsx)("tr",{children:Ec().map((function(e){return Object(i.jsx)("td",{className:"non-input",children:t.ModelItem[Bc(e)]},e)}))},t.id)},Lc=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Yc,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsx)("tr",{children:Ec().map((function(t){return Object(i.jsx)("th",{className:"".concat("w-16"),children:Hc(t)},t)}))})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),Uc=Object(He.a)(Lc),Yc=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"ColSpan",get:function(){return this.Dict.Dict.Parameters.length+2}},{key:"Items",get:function(){return this.items||zc(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t,e=this;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:e.ColSpan,children:t.View})},t.id)}))}},{key:"View",get:function(){return Object(i.jsx)(Uc,{store:this})}}]),t}(),zc=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=new Nc;return n.ModelItem=t,n.Dict=e,n}(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),C(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Xc=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new qc,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{}),e.WeekDicts?e.WeekDicts[0].Weeks.map((function(t){return Object(i.jsx)("th",{children:"W".concat(t.Week)},t.id)})):void 0]})}),Object(i.jsx)("tbody",{children:null===(t=e.WeekDicts)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),$c=Object(He.a)(Xc),qc=function(){function t(){Object(u.a)(this,t),this.OnSet_WeekDicts_Func=[],this.weekDicts=void 0,Object(l.k)(this,{weekDicts:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"WeekDicts",get:function(){return this.weekDicts||Jc(this),this.weekDicts},set:function(t){var e=this;this.weekDicts=t,F(this.OnSet_WeekDicts_Func,(function(t){return e.OnSet_WeekDicts_Func=t}))}},{key:"View",get:function(){return Object(i.jsx)($c,{store:this})}}]),t}(),Jc=function(t){if(!t.IsGet_WeekDicts){t.IsGet_WeekDicts=!0;var e=function(e){t.WeekDicts=e,t.IsGet_WeekDicts=!1},n=t.ModelItem;n.WeekDicts&&e(n.WeekDicts),C(n.OnSet_WeekDicts_Func,(function(){return e(n.WeekDicts)}),!1)}},Qc=function(){return Ee.Instance},Zc=function(t){return new Be},ta=function(t){return function(t,e){var n=new Cc;return n.ModelItem=t,n.Dict=e,n}(Qc().ProjectDict)},ea=function(t){return function(t,e){var n=new Yc;return n.ModelItem=t,n.Dict=e,n}(Qc().ReportData_Dict,t)},na=function(t){return function(t,e){var n=new qc;return n.ModelItem=t,n.Dict=e,n}(Qc().TaskweekData_Dict,t)},ia=n(75),sa=n(22),ra=(n(379),n(380),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ze,i}return Object(o.a)(n,[{key:"render",value:function(){this.state;return Object(i.jsx)(i.Fragment,{})}}]),n}(s.Component)),ca=(Object(He.a)(ra),n(381),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Xe,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"body__wrapper",children:t.MainView})})}}]),n}(s.Component)),aa=Object(He.a)(ca),ua=(n(382),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new fn,i}return Object(o.a)(n,[{key:"render",value:function(){this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"footer__wrapper",children:"Footer"})})}}]),n}(s.Component)),oa=(Object(He.a)(ua),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Be,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state;var t=this.props.match.params,e=t.type,n=(t.meta,t.type2);qe(e,0,n)}},{key:"componentDidUpdate",value:function(){this.state;var t=this.props.match.params,e=t.type,n=(t.meta,t.type2);qe(e,0,n)}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"layout__wrapper",children:Object(i.jsx)(aa,{store:t.Body})})})}}]),n}(s.Component)),ha=Object(sa.f)(Object(He.a)(oa)),da=(n(384),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){this.data;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(ia.b,{basename:"/BIMPlan",children:Object(i.jsx)(sa.a,{path:"/:type?/:meta?/:type2?",exact:!0,component:ha})})})}}]),n}(s.Component)),la=Object(He.a)(da),fa=function(){function t(){Object(u.a)(this,t),this.OnSet_IsAdmin_Func_Dict=[],this.isAdmin=void 0,this.routeData=void 0,this.UnAuthorized_View=Object(i.jsx)("span",{className:"text-[#ff4d4f] font-medium text-sm",children:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp View hi\u1ec7n t\u1ea1i!"}),Object(l.k)(this,{isAdmin:l.l,routeData:l.l})}return Object(o.a)(t,[{key:"pmData",get:function(){return Ee.Instance}},{key:"Layout",get:function(){return this.layout||(this.layout=Zc()),this.layout}},{key:"IsAdmin",get:function(){return this.isAdmin},set:function(t){var e=this;this.isAdmin=t,F(this.OnSet_IsAdmin_Func_Dict,(function(t){return e.OnSet_IsAdmin_Func_Dict=t}))}},{key:"RouteData",get:function(){return this.routeData||(this.routeData=["plan"]),this.routeData},set:function(t){this.routeData=t}},{key:"MainView",get:function(){return Object(i.jsx)(la,{store:this})}},{key:"WrapperView",get:function(){return this.pmData.IsDeploy?Object(i.jsx)(ia.b,{basename:"/BIMPlan",children:Object(i.jsx)(sa.c,{children:this.MainView})}):Object(i.jsx)(ia.a,{children:Object(i.jsx)(sa.c,{children:this.MainView})})}},{key:"ProjectDict",get:function(){return this.projectDict||(this.projectDict=ta()),this.projectDict}},{key:"ReportData_Dict",get:function(){return this.reportData_Dict||(this.reportData_Dict=ea(this)),this.reportData_Dict}},{key:"TaskweekData_Dict",get:function(){return this.taskweekData_Dict||(this.taskweekData_Dict=na(this)),this.taskweekData_Dict}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new fa),this.instance},set:function(t){this.instance=t}}]),t}(),ma=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(i.jsx)(i.Fragment,{children:fa.Instance.WrapperView})}}]),n}(s.Component),Ia=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,403)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),i(t),s(t),r(t),c(t)}))};a.a.render(Object(i.jsx)(ma,{}),document.getElementById("root")),Ia()}},[[385,1,2]]]);
//# sourceMappingURL=main.19f3f883.chunk.js.map