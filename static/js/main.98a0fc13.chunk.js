(this.webpackJsonpbimplan=this.webpackJsonpbimplan||[]).push([[0],{221:function(t,e,n){},223:function(t,e,n){},262:function(t,e,n){},275:function(t,e,n){},385:function(t,e,n){},386:function(t,e,n){},387:function(t,e,n){},406:function(t,e,n){},408:function(t,e,n){},409:function(t,e,n){},410:function(t,e,n){},411:function(t,e,n){},412:function(t,e,n){},413:function(t,e,n){},414:function(t,e,n){},415:function(t,e,n){},416:function(t,e,n){},417:function(t,e,n){},418:function(t,e,n){},420:function(t,e,n){},421:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(0),r=n.n(s),c=n(32),a=n.n(c),u=(n(221),n(3)),o=n(4),h=n(13),d=n(12),l=(n(222),n(223),n(2)),f=n(51),m=n.n(f),I=n(85),p=n(187),v=n.n(p),k=n(427),b=function(t){return v.a.create({baseURL:"https://api.bimdev.vn/api",Accept:"application/json","Content-Type":"application/json",timeout:t})},_=function(t,e){return e&&k.b.error("Error sending request: ".concat(t)),{data:void 0}},j=function(t){return{success:t.status>=200&&t.status<300,data:t.data,message:t.statusText}},O=function(){var t=Object(I.a)(m.a.mark((function t(e,n){var i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return i=t.sent,t.abrupt("return",j(i));case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",_(t.t0,n));case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,7,11,13]])})));return function(e,n){return t.apply(this,arguments)}}(),g=3e4,D=function(){var t=Object(I.a)(m.a.mark((function t(e,n,i,s){var r,c=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!(c.length>4&&void 0!==c[4])||c[4],s=s||g,t.next=4,O(b(s).put(e,n,i));case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),y=function(){var t=Object(I.a)(m.a.mark((function t(e,n,i,s){var r,c=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!(c.length>4&&void 0!==c[4])||c[4],s=s||g,t.next=4,O(b(s).post(e,n,i));case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,n,i,s){return t.apply(this,arguments)}}(),w=(new Intl.DateTimeFormat("en-GB"),function(){return Math.random().toString(36).substr(2,9)}),S=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}))},x=function(t,e,n,i){var s=[];return t.forEach((function(t){var r=t[e],c=void 0,a=s.findIndex((function(t){return r===t.Key}));-1===a?(n?((c=n(r)).Key=r,c.Items||(c.Items=[])):c={Key:r,Items:[]},s.push(c)):c=s[a];var u=i?i(t,c):t;c.Items.push(u)})),s},C=function(t,e){var n=t.findIndex((function(t){return t.Key===e}));if(0!==n)return t.splice(n,1)},V=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.push({Key:S(),Value:e,IsDelete:n})},F=function(t,e){t.forEach((function(t){return t.Value()})),e(t=t.filter((function(t){return!t.IsDelete})))},M=function(t,e,n){var i=t.ApiData,s=!i._id;(s?y("".concat(e,"/add"),i):D("".concat(e,"/edit"),i)).then((function(t){return t.data})).then((function(e){s&&(t._id=e._id),n(e,s)}))},R=function(t,e,n){var i={_id:t._id};D("".concat(e,"/delete"),i).then((function(t){return t.data})).then((function(t){n(t)}))},T=function(t,e,n){var i=t.findIndex(e);if(void 0===(s=-1!==i?t[i]:void 0)&&n){var s=n();t.push(s)}return s},N=function(t,e){var n=0;return 0===t&&e(),function(){++n===t&&e()}},P="https://api.bimdev.vn/api/hbmt_cb",G=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.OnSet_Plan_Func=[],this.plan=void 0,this.OnSet_Task_Func=[],this.task=void 0,this.owner=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,P,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Save=function(t){},this.Delete=function(){e.CurrentList.splice(e.Index,1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,P,(function(){t&&k.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{owner:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Plan",get:function(){return this.plan||Dn(this),this.plan},set:function(t){var e=this;this.plan=t,F(this.OnSet_Plan_Func,(function(t){return e.OnSet_Plan_Func=t}))}},{key:"Task",get:function(){return this.task||yn(this),this.task},set:function(t){var e=this;this.task=t,F(this.OnSet_Task_Func,(function(t){return e.OnSet_Task_Func=t}))}},{key:"Transfer_TaskDict",get:function(){return this.transfer_TaskDict||(this.transfer_TaskDict=wn(this)),this.transfer_TaskDict}},{key:"Transfer_ReportDict",get:function(){return this.transfer_ReportDict||(this.transfer_ReportDict=Sn(this)),this.transfer_ReportDict}},{key:"Transfer_ApproveDict",get:function(){return this.transfer_ApproveDict||(this.transfer_ApproveDict=xn(this)),this.transfer_ApproveDict}},{key:"Owner",get:function(){return this.owner||On(this),this.owner},set:function(t){this.owner=t}},{key:"IsOwner",get:function(){return gn(this)}},{key:"ApiData",get:function(){return{_id:this._id,code:this.Code,name:this.Name}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),A="https://api.bimdev.vn/api/hbp_taskdict",W=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,A,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Save=function(t){e.SaveDatabase(!1,t)}}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Project",get:function(){return this.project||(this.project=this.Dict),this.project},set:function(t){this.project=t}},{key:"TaskDict",get:function(){return this.taskDict||(this.taskDict=he(this)),this.taskDict}},{key:"ApiData",get:function(){return{_id:this._id,projectId:this.projectId,isplan:this.IsPlan}}}]),t}(),B=n(141),L="https://api.bimdev.vn/api/hbp_task",E=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0,this.contractId=void 0,this.disciplineId=void 0,this.bimuseId=void 0,this.categoryId=void 0,this.startDate=void 0,this.finishDate=void 0,this.BaselineFinish=void 0,this.CreatedDate=new Date,this.Is_SetPlanwork_ByDuration=!0,this.planwork=void 0,this.BaselineWork=void 0,this.assignId=void 0,this.link=void 0,this.OnSet_SupItem_Func=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,L,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Insert=function(t,n){ee(e,t,n)},this.On_Save_Func=[],this.ForceSave=function(t){ne(e,t)},this.Save=function(t){ie(e,t)},this.Delete=function(){se(e)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,L,(function(){t&&k.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{__id:l.l,startDate:l.l,finishDate:l.l,BaselineFinish:l.l,planwork:l.l,BaselineWork:l.l,assignId:l.l,disciplineId:l.l,bimuseId:l.l,categoryId:l.l,contractId:l.l,link:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"IsNew",get:function(){return!this._id}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Contract",get:function(){return this.contract},set:function(t){this.contract=t,this.contractId=null===t||void 0===t?void 0:t._id}},{key:"Discipline",get:function(){return this.discipline},set:function(t){this.discipline=t,this.disciplineId=null===t||void 0===t?void 0:t._id}},{key:"BIMUse",get:function(){return this.bimuse},set:function(t){this.bimuse=t,this.bimuseId=null===t||void 0===t?void 0:t._id}},{key:"Category",get:function(){return this.category},set:function(t){this.category=t,this.categoryId=null===t||void 0===t?void 0:t._id}},{key:"StartDate",get:function(){return this.startDate||(this.startDate=new Date),this.startDate},set:function(t){this.startDate=t}},{key:"FinishDate",get:function(){return this.finishDate||(this.finishDate=new Date),this.finishDate},set:function(t){this.finishDate=t}},{key:"Duration",get:function(){return void 0===this.duration&&(this.duration=Bt(this)),this.duration},set:function(t){this.duration=t}},{key:"Planwork",get:function(){return this.planwork||(this.planwork=8*this.Duration),this.planwork},set:function(t){this.planwork=t}},{key:"ApprovalWork",get:function(){return Lt(this)}},{key:"CompletePercent",get:function(){return Et(this)}},{key:"manageIds",get:function(){return qt(this)}},{key:"Manage",get:function(){return this.manage},set:function(t){this.manage=t,this.manageId=null===t||void 0===t?void 0:t._id}},{key:"ownerIds",get:function(){return Ht(this)}},{key:"IsOwner",get:function(){return Yt(this)}},{key:"IsManage",get:function(){return zt(this)}},{key:"Assign",get:function(){return this.assign},set:function(t){this.assign=t,this.assignId=null===t||void 0===t?void 0:t._id}},{key:"IsAssign",get:function(){return Xt(this)}},{key:"IsVisible",get:function(){return $t(this)}},{key:"PredecessorData",get:function(){return this.predecessorData||(this.predecessorData=Ut(this)),this.predecessorData}},{key:"Link",get:function(){return this.link||(this.link="<link>"),this.link},set:function(t){this.link=t}},{key:"IsValidLink",get:function(){var t=this.Link;return t&&0!==t.legnth&&"<link>"!==t}},{key:"ReportDict",get:function(){return this.reportDict||(this.reportDict=Kt(this)),this.reportDict}},{key:"TaskDict",get:function(){return this.taskDict||(this.taskDict=this.Dict.Dict),this.taskDict},set:function(t){this.taskDict=t}},{key:"Project",get:function(){return this.project||(this.project=this.TaskDict.Project),this.project},set:function(t){this.project=t}},{key:"SupItem",get:function(){return void 0===this.supItem&&Qt(this),this.supItem},set:function(t){var e=this;this.supItem=t,F(this.OnSet_SupItem_Func,(function(t){return e.OnSet_SupItem_Func=t}))}},{key:"SubItems",get:function(){return Jt(this)}},{key:"AllItems",get:function(){return Zt(this)}},{key:"RowCount",get:function(){return te(this)}},{key:"ApiData",get:function(){var t;return{_id:this._id,projectId:this.Project._id,dictId:this.TaskDict._id,supId:null===(t=this.SupItem)||void 0===t?void 0:t._id,canreport:!(0!==this.SubItems.length||!this.assignId),order:this.Index,name:this.Name,disciplineId:this.disciplineId,bimuseId:this.bimuseId,categoryId:this.categoryId,startDate:this.StartDate,finishDate:this.FinishDate,baselineFinish:this.BaselineFinish,planwork:this.Planwork,baselineWork:this.BaselineWork,manageId:this.manageId,assignId:this.assignId,manageIds:this.manageIds,predecessor:this.PredecessorData.ApiData,link:this.Link,is_SetPlanwork_ByDuration:this.Is_SetPlanwork_ByDuration}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),U=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"Data",get:function(){return this.data||(this.data=[]),this.data},set:function(t){this.data=t}},{key:"Items",get:function(){return this.items},set:function(t){this.items=t,this.Data=t.map((function(t){return t.ApiData}))}},{key:"ApiData",get:function(){return this.Data}}]),t}(),K="FS",H=function(){function t(){var e=this;Object(u.a)(this,t),this.AsString=function(){return"".concat(e.Task.Index+1).concat((t=e.Type)===K?"":t);var t}}return Object(o.a)(t,[{key:"StartDate",get:function(){return q(this)}},{key:"FinishDate",get:function(){return X(this)}},{key:"ApiData",get:function(){return{_id:this.Task.id,type:this.Type}}}]),t}(),Y=function(t,e){var n=z(e);return(n.Task=t.task).DependedTasks.push(e.Dict),n.Type=t.type,n},z=function(t){var e=new H;return e.Dict=t,e},q=function(t){var e=t.Task;switch(t.Type){case K:return e.FinishDate;case"SS":return e.StartDate;case"FF":case"SF":return}},X=function(t){var e=t.Task;switch(t.Type){case K:case"SS":return;case"FF":return e.FinishDate;case"SF":return e.StartDate}},$=n(16),Q=n.n($),J=function(t,e){for(var n=Q()(t),i=Q()(e),s=n.isAfter(i,"D"),r=s?i:n,c=s?n:i,a=s?-1:1,u=r.week(),o=c.week(),h=0,d=u;d<o+1;d++){var l=1;d===u&&(l=r.day()),l=0!==l?6!==l?l:5.5:1;var f=5.5;d===o&&(f=c.day()),f=6!==f?f:5.5,h+=5.5!==l?f-l+1:.5}return h*a},Z="https://api.bimdev.vn/api/hbp_report",tt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.week=void 0,this.submitWork=void 0,this.Assessment=3,this.link=void 0,this.approveOwners=void 0,this.owner=void 0,this.CreatedDate=new Date,this.OnSet_Project_Func=[],this.project=void 0,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,Z,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Save=function(t){var n=function(){t&&t()};if(e.IsTemp)n();else{e.OnSave?n():(e.OnSave=!0,e.SaveDatabase(!1,(function(){e.OnSave=!1,n()})))}},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,Z,(function(){t&&k.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{submitWork:l.l,owner:l.l,link:l.l,project:l.l,approveOwners:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Week",get:function(){return this.week||(this.week=Dt(this)),this.week},set:function(t){this.week=t}},{key:"SubmitWork",get:function(){return void 0===this.submitWork&&(this.submitWork=yt(this)),this.submitWork},set:function(t){this.submitWork=t}},{key:"ActualWork",get:function(){return void 0===this.actualWork&&(this.actualWork=this.SubmitWork),this.actualWork},set:function(t){this.actualWork=t}},{key:"Link",get:function(){return this.link||(this.link="<link>"),this.link},set:function(t){this.link=t}},{key:"IsValidLink",get:function(){var t=this.Link;return t&&0!==t.legnth&&"<link>"!==t}},{key:"approveOwnerIds",get:function(){return this._approveOwnerIds||(this._approveOwnerIds=this.Task.manageIds),this._approveOwnerIds},set:function(t){this._approveOwnerIds=t}},{key:"ApproveOwners",get:function(){return this.approveOwners||xt(this),this.approveOwners},set:function(t){this.approveOwners=t}},{key:"ownerId",get:function(){return this._ownerId||(this._ownerId=Ct(this)),this._ownerId},set:function(t){this._ownerId=t}},{key:"Owner",get:function(){return this.owner||Vt(this),this.owner},set:function(t){this.owner=t}},{key:"IsOwner",get:function(){return Ft(this)}},{key:"ApproveDict",get:function(){return this.approveDict||(this.approveDict=wt(this)),this.approveDict}},{key:"taskId",get:function(){var t;this._taskId||(this._taskId=null===(t=this.Task)||void 0===t?void 0:t._id);return this._taskId},set:function(t){this._taskId=t}},{key:"Task",get:function(){return this.task||(this.task=this.Dict.Dict),this.task},set:function(t){this.task=t}},{key:"taskdictId",get:function(){return this._taskdictId||(this._taskdictId=this.Task.dictId),this._taskdictId},set:function(t){this._taskdictId=t}},{key:"projectId",get:function(){return this._projectId||(this._projectId=this.Task.projectId),this._projectId},set:function(t){this._projectId=t}},{key:"Project",get:function(){return this.project||Mt(this),this.project},set:function(t){var e=this;this.project=t,F(this.OnSet_Project_Func,(function(t){return e.OnSet_Project_Func=t}))}},{key:"Status",get:function(){return this.status||(this.status=St(this)),this.status}},{key:"ApiData",get:function(){var t={_id:this._id,projectId:this.projectId,taskdictId:this.taskdictId,taskId:this.taskId,ownerId:this.ownerId,approveOwnerIds:this.approveOwnerIds,week:this.Week,submitwork:this.SubmitWork,actualwork:this.ActualWork,assessment:this.Assessment,note:this.Note,rebarweight:this.RebarWeight,link:this.Link,state:this.Status.State};return"approve"===t.state&&(t.currentApproveStep=this.currentApproveStep,t.currentApproveOwnerId=this.currentApproveOwnerId,t.currentApproveLevel=this.currentApproveLevel),t}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),et="https://api.bimdev.vn/api/hbp_reportapprove",nt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.owner=void 0,this.CreatedDate=new Date,this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,et,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Save=function(t){var n=function(){t&&t()};e.OnSave?n():(e.OnSave=!0,e.SaveDatabase(!1,(function(){e.OnSave=!1,n()})))},this.Delete=function(t){var n=0,i=function(){3===++n&&t&&t()},s=e.Index;if(0!==s){var r=e.CurrentList[s-1];r.Status.State="draft",r.Save(i)}else i();var c=e.Report;c.Status.Down(),c.Save(i),e.CurrentList.splice(s,1),e.DeleteDatabase(!1),i()},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,et,(function(){t&&k.b.success("delete successfully!"),n&&n()}))},Object(l.k)(this,{owner:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"SubmitWork",get:function(){return void 0===this.submitWork&&(this.submitWork=ot(this,"SubmitWork")),this.submitWork},set:function(t){this.submitWork=t}},{key:"ActualWork",get:function(){return void 0===this.actualWork&&(this.actualWork=ot(this,"ActualWork")),this.actualWork},set:function(t){this.actualWork=t}},{key:"Assessment",get:function(){return void 0===this.assessment&&(this.assessment=ot(this,"Assessment")),this.assessment},set:function(t){this.assessment=t}},{key:"Note",get:function(){return void 0===this.note&&(this.note=ot(this,"Note")),this.note},set:function(t){this.note=t}},{key:"RebarWeight",get:function(){return void 0===this.rebarWeight&&(this.rebarWeight=ot(this,"RebarWeight")),this.rebarWeight},set:function(t){this.rebarWeight=t}},{key:"Level",get:function(){return this.level||(this.level=dt(this)),this.level},set:function(t){this.level=t}},{key:"Status",get:function(){return this.status||(this.status=ht(this)),this.status}},{key:"ownerId",get:function(){return this._ownerId||(this._ownerId=lt(this)),this._ownerId},set:function(t){this._ownerId=t}},{key:"Owner",get:function(){return this.owner||mt(this),this.owner},set:function(t){this.owner=t}},{key:"IsOwner",get:function(){return ft(this)}},{key:"reportId",get:function(){var t;this._reportId||(this._reportId=null===(t=this.Report)||void 0===t?void 0:t._id);return this._reportId},set:function(t){this._reportId=t}},{key:"Report",get:function(){return this.report||(this.report=this.Dict.Dict),this.report},set:function(t){this.report=t,this.reportId=null===t||void 0===t?void 0:t._id}},{key:"taskId",get:function(){return this._taskId||(this._taskId=this.Report.taskId),this._taskId},set:function(t){this._taskId=t}},{key:"taskdictId",get:function(){return this._taskdictId||(this._taskdictId=this.Report.taskdictId),this._taskdictId},set:function(t){this._taskdictId=t}},{key:"projectId",get:function(){return this._projectId||(this._projectId=this.Report.projectId),this._projectId},set:function(t){this._projectId=t}},{key:"ApiData",get:function(){return{_id:this._id,ownerId:this.ownerId,projectId:this.projectId,taskdictId:this.taskdictId,taskId:this.taskId,reportId:this.reportId,level:this.Level,submitwork:this.SubmitWork,actualwork:this.ActualWork,assessment:this.Assessment,note:this.Note,rebarweight:this.RebarWeight,state:this.Status.State}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),it="draft",st="done",rt=function(){function t(){Object(u.a)(this,t),this.state=void 0,Object(l.k)(this,{state:l.l})}return Object(o.a)(t,[{key:"State",get:function(){return this.state||(this.state=ct(this)),this.state},set:function(t){this.state=t}}]),t}(),ct=function(t){var e=t.Dict,n=e.Dict.Items;return e.Dict.Dict.Status.State===st||e.Index!==n.length-1?st:it},at=function(){return Is.Instance},ut=function(t){var e=new nt;return e.Dict=t,e},ot=function(t,e){return(0===t.Index?t.Dict.Dict:t.Dict.Items[t.Index-1])[e]},ht=function(t){return function(t){var e=new rt;return e.Dict=t,e}(t)},dt=function(t){return t.Report.approveOwnerIds.length-1===t.Index?"project":"task"},lt=function(t){var e=t.Report,n=t.Index;return e.approveOwnerIds[n]},ft=function(t){return t.ownerId===at().UserDict.loginId},mt=function(t){if(!t.IsGet_Owner){t.IsGet_Owner=!0;at().UserDict.GetItem(t.ownerId,(function(e){return n=e,t.Owner=n,void(t.IsGet_Owner=!1);var n}))}},It=function(t,e){t=t||{};y("".concat(et,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))},pt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=ut(e);return e.Items.push(t),t},Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||vt(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"InReport",get:function(){return this.Dict instanceof tt}}]),t}(),vt=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=ut(e);return n._id=t._id,n.ownerId=t.ownerId,n.projectId=t.projectId,n.taskdictId=t.taskdictId,n.taskId=t.taskId,n.reportId=t.reportId,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork,n.Assessment=t.assessment,n.Note=t.note,n.Status.State=t.state,n.CreatedDate=t.createdDate,n}(e,t)})),t.IsGet_Items=!1},n=t.Dict;if(t.InReport){n._id?function(){var t={reportId:n._id};It(t,(function(t){e(t)}))}():n.Save((function(){return e([])}))}else{n=Is.Instance.UserDict;var i=function(){return It({ownerId:n.loginId,level:t.Level,state:"draft"},(function(t){e(t)}))};i(),V(n.OnSet_loginId_Func,i,!1)}}},kt="draft",bt="approve",_t="done",jt=function(){function t(){var e=this;Object(u.a)(this,t),this.State=kt,this.Up=function(){var t=e.Report,n=t.approveOwnerIds,i=n.length,s=function(e){t.currentApproveStep=e,t.currentApproveOwnerId=n[e],t.currentApproveLevel=i-1!==e?"task":"project"};switch(e.State){case kt:e.State=bt,s(0);break;case bt:var r=t.currentApproveStep;r===i-1?e.State=_t:s(r+1)}},this.Down=function(){var t=e.Report,n=t.approveOwnerIds,i=n.length;switch(e.State){case bt:var s=t.currentApproveStep;0===s?e.State=kt:function(e){t.currentApproveStep=e,t.currentApproveOwnerId=n[e],t.currentApproveLevel=i-1!==e?"task":"project"}(s-1)}},Object(l.k)(this,{State:l.l})}return Object(o.a)(t,[{key:"Report",get:function(){return this.Dict}}]),t}(),Ot=function(){return Is.Instance},gt=function(t){var e=new tt;return e.Dict=t,e},Dt=function(t){var e=Q()();return 1!==e.day()?e.startOf("week").add(1,"d"):e.startOf("week").add(-6,"d")},yt=function(t){var e=t.Dict;return e.Dict.Planwork-e.Items.filter((function(e){return e!==t})).reduce((function(t,e){return t+e.SubmitWork}),0)},wt=function(t){return function(t){var e=new pt;return e.Dict=t,e}(t)},St=function(t){return function(t){var e=new jt;return e.Dict=t,e}(t)},xt=function(t){if(!t.IsGet_ApproveOwners){t.IsGet_ApproveOwners=!0;var e=t.approveOwnerIds,n=new Array(e.length),i=N(e.length,(function(){return e=n,t.ApproveOwners=e,void(t.IsGet_ApproveOwners=!1);var e})),s=Ot().UserDict;e.forEach((function(t,e){s.GetItem(t,(function(t){n[e]=t,i()}))}))}},Ct=function(t){return t.Dict.Dict.assignId},Vt=function(t){if(!t.IsGet_Owner){t.IsGet_Owner=!0;Ot().UserDict.GetItem(t.ownerId,(function(e){var n;n=e,t.Owner=n,t.IsGet_Owner=!1}))}},Ft=function(t){return t.ownerId===Ot().UserDict.loginId},Mt=function(t){if(!t.IsGet_Project){t.IsGet_Project=!0;Ot().ProjectDict.GetItem(t.projectId,(function(e){return function(e){t.Project=e,t.IsGet_Project=!1}(e)}))}},Rt=function(t,e){t=t||{};y("".concat(Z,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))},Tt=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.RefreshItems=function(){Pt(e)},this.AddItem=function(){var t=gt(e);return e.Items.push(t),t},this.IsReadOnly=void 0,Object(l.k)(this,{items:l.l,IsReadOnly:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Pt(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"SubmitWork",get:function(){return this.Items?this.Items.reduce((function(t,e){return t+e.SubmitWork}),0):0}},{key:"InTask",get:function(){return this.Dict instanceof E}}]),t}(),Nt=function(t){var e=new Tt;return e.Dict=t,e},Pt=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=gt(e);return t._id?n._id=t._id:n.IsTemp=!0,n.projectId=t.projectId,n.taskdictId=t.taskdictId,n.taskId=t.taskId,t.tasks&&0!==t.tasks.length&&(n.Task=At(t.tasks[0],n)),n.ownerId=t.ownerId,n.approveOwnerIds=t.approveOwnerIds,n.Week=t.week,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork,n.Assessment=t.assessment,n.Note=t.note,n.RebarWeight=t.rebarweight,n.Link=t.link,n.Status.State=t.state,n.currentApproveStep=t.currentApproveStep,n.currentApproveOwnerId=t.currentApproveOwnerId,n.currentApproveLevel=t.currentApproveLevel,n.CreatedDate=t.createdDate,n}(e,t)})),t.IsGet_Items=!1},n=t.Dict;if(t.InTask)n._id?Rt({taskId:n._id},(function(t){e(t)})):n.IsNew?e([]):n.Save((function(){return e([])}));else{var i=function(){var i=[],s="draft"===t.ViewState?2:1,r=N(s,(function(){"draft"===t.ViewState&&(i=i.sort((function(t,e){return new Date(e.tasks[0].startDate)-new Date(t.tasks[0].startDate)}))),e(i)}));n=Is.Instance.UserDict;!function(){var e={userId:n.loginId,state:t.ViewState};t.ViewLevel?e.level=t.ViewLevel:e.view=!0,Rt(e,(function(t){i.push.apply(i,t),r()}))}(),"draft"===t.ViewState&&y("https://api.bimdev.vn/api/hbp_report/temp_list",{userId:n.loginId}).then((function(t){return t.data})).then((function(t){i.push.apply(i,t),r()}))};i(),V(n.OnSet_loginId_Func,i,!1)}}},Gt=function(){return Is.Instance},At=function(t,e){var n=Wt(e);return n._id=t._id,n.projectId=t.projectId,n.dictId=t.dictId,n.supId=t.supId,n.CanReport=t.canreport,n.Name=t.name,n.contractId=t.contractId,n.disciplineId=t.disciplineId,n.bimuseId=t.bimuseId,n.categoryId=t.categoryId,n.StartDate=t.startDate,n.FinishDate=t.finishDate,n.BaselineFinish=t.baselineFinish,n.Planwork=t.planwork,n.BaselineWork=t.baselineWork,n.manageId=t.manageId,n.assignId=t.assignId,n.PredecessorData.Data=t.predecessor,n.Link=t.link,n.Is_SetPlanwork_ByDuration=t.is_SetPlanwork_ByDuration,n.CreatedDate=t.createdDate,n},Wt=function(t){var e=new E;return e.Dict=t,e},Bt=function(t){return J(t.StartDate,t.FinishDate)},Lt=function(t){var e=t.SubItems;if(0===e.length){var n=t.ReportDict.Items;return n?n.filter((function(t){return"done"===t.Status.State})).reduce((function(t,e){return t+e.SubmitWork}),0):0}return e.reduce((function(t,e){return t+e.ApprovalWork}),0)},Et=function(t){return(t.Planwork?t.ApprovalWork/t.Planwork*100:0).toFixed(1)},Ut=function(t){return function(t){var e=new U;return e.Dict=t,e}(t)},Kt=function(t){return Nt(t)},Ht=function(t){var e=t.SupItem,n=e?Object(B.a)(e.ownerIds):[t.Dict.Dict.Dict.ownerId];return e&&e.manageId&&n.push(e.manageId),n},Yt=function(t){return t.ownerIds.includes(Gt().UserDict.loginId)},zt=function(t){return t.manageId===Gt().UserDict.loginId},qt=function(t){var e=Object(B.a)(t.ownerIds);return t.manageId&&e.push(t.manageId),e.reverse(),e},Xt=function(t){return t.assignId===Gt().UserDict.loginId},$t=function(t){return t.IsOwner||t.IsAssign||0!==t.SubItems.filter((function(t){return t.IsVisible})).length},Qt=function(t){t.IsGet_SupItem||(t.IsGet_SupItem=!0,t.supId&&(t.SupItem=T(t.Dict.Items,(function(e){return e._id===t.supId}))))},Jt=function(t){var e=t.Index;return t.Dict.Items.filter((function(n,i){return i>e&&n.SupItem===t}))},Zt=function(t){var e=[t];return t.SubItems.forEach((function(t){e.push.apply(e,t.AllItems)})),e},te=function(t){var e=t.SubItems;return(0===e.length?0:e.reduce((function(t,e){return t+e.RowCount}),0))+1},ee=function(t,e,n){var i=e.location,s=t.Dict.Items;i<s.length?s.splice(i,0,t):s.push(t);for(var r=N(s.length-i-1,(function(){n&&n()})),c=i+1;c<s.length;c++)s[c].Save(r)},ne=function(t,e){t.OnSave?V(t.On_Save_Func,(function(){return t.Save(e)})):t.Save(e)},ie=function(t,e){var n=function(){e&&e()};t.OnSave?n():(t.OnSave=!0,console.log(t.Name,"save"),t.SaveDatabase(!1,(function(){t.OnSave=!1,F(t.On_Save_Func,(function(e){return t.On_Save_Func=e})),n()})))},se=function(t){var e=t.Index,n=t.Dict.Items;n.splice(e,1),t.DeleteDatabase(!1),t.SubItems.forEach((function(t){return t.Delete()}));for(var i=e;i<n.length;i++)n[i].Save()},re=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(){var t=Wt(e);return e.Items.push(t),t},this.Move=function(t,n){ae(e,t,n)}}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||ce(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),ce=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return At(e,t)})),t.IsGet_Items=!1},n=t.Dict;n._id?function(){t={dictId:n._id},i=function(t){e(t)},t=t||{},y("".concat(L,"/list"),t).then((function(t){return t.data})).then((function(t){i&&i(t)}));var t,i}():n.Save((function(){return e([])}))}},ae=function(t,e,n){var i=t.Items,s=e.Index,r=e.RowCount,c=n.Index,a=n.RowCount,u=s>c,o=u?e:n,h=(u?n:e).AllItems,d=o.AllItems,l=u?c:s,f=u?s:c,m=u?a:r,I=u?r:a;i.splice(f,I),i.splice(l,m),f+=I-m;var p=function(t,e){t===i.length?i.push.apply(i,e):e.forEach((function(e){i.splice(t,0,e),t++}))};p(l,d),p(f,h);for(var v=l;v<i.length;v++)i[v].Save()},ue=function(t,e){var n=oe(e);return n._id=t._id,n.projectId=t.projectId,n.IsPlan=t.isplan,n},oe=function(t){var e=new W;return e.Dict=t,e},he=function(t){return function(t){var e=new re;return e.Dict=t,e}(t)},de=function(t,e){t=t||{};y("".concat(A,"/list"),t).then((function(t){return t.data})).then((function(t){e&&e(t)}))},le=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"SupItem",get:function(){return!this.supItem&&this.supId&&(this.supItem=en(this)),this.supItem}},{key:"SubItems",get:function(){return this.subItems||(this.subItems=nn(this)),this.subItems}},{key:"StartDate",get:function(){return this.startDate||(this.startDate=cn(this)),this.startDate},set:function(t){this.startDate=t}},{key:"FinishDate",get:function(){return this.finishDate||(this.finishDate=an(this)),this.finishDate},set:function(t){this.finishDate=t}},{key:"Planwork",get:function(){return null!==this.planwork&&void 0!==this.planwork||(this.planwork=un(this)),this.planwork},set:function(t){this.planwork=t}},{key:"Task",get:function(){return this.task||(this.task=hn(this)),this.task}},{key:"ReportDict",get:function(){return this.reportDict||(this.reportDict=dn(this)),this.reportDict}},{key:"Rank",get:function(){return rn(this)}},{key:"AllItems",get:function(){return sn(this)}},{key:"View",get:function(){return on(this)}}]),t}(),fe=n(14),me="name",Ie="discipline",pe="bimuse",ve="category",ke="startdate",be="finishdate",_e="baselinefinish",je="planwork",Oe="baselinework",ge="predecessors",De="manage",ye="assign",we="duration",Se="link",xe="contract",Ce="approvalwork",Ve="completepercent",Fe=function(){return[ge,me,xe,Ie,pe,ve,ke,be,we,je,Ce,_e,Oe,Ve,De,ye,Se]},Me=function(t){var e;switch(t){case me:e="Name";break;case xe:e="Contract";break;case Ie:e="Discipline";break;case pe:e="BIMUse";break;case ve:e="Category";break;case ke:e="StartDate";break;case be:e="FinishDate";break;case we:e="Duration";break;case _e:e="BaselineFinish";break;case je:e="Planwork";break;case Ce:e="ApprovalWork";break;case Oe:e="BaselineWork";break;case ge:e="Predecessors";break;case Ve:e="CompletePercent";break;case De:e="Manage";break;case ye:e="Assign";break;case Se:e="Link"}return e},Re=function(t){var e;switch(t){case me:e="Name";break;case xe:e="Agreement No";break;case Ie:e="Discipline";break;case pe:e="BIMUse";break;case ve:e="H\u1ea1ng m\u1ee5c";break;case ke:e="Start";break;case be:e="Finish";break;case we:e="Duration";break;case _e:e="Baseline";break;case je:e="Plan";break;case Ce:e="Approval";break;case Oe:e="Baseline Work";break;case ge:e="Predecessors";break;case Ve:e="% Percent";break;case De:e="Manage by";break;case ye:e="Assign to";break;case Se:e="Link"}return e},Te=function(t){var e;switch(t){case me:e="t\xean task";break;case xe:e="contract";break;case Ie:e="discipline";break;case pe:e="bim use";break;case ve:e="category";break;case ke:e="start";break;case be:e="finish";break;case we:e="duration";break;case _e:e="baseline finish";break;case je:e="plan work";break;case Oe:e="baseline work";break;case ge:e="predecessors";break;case De:e="manage";break;case ye:e="assign";break;case Se:e="link"}return e},Ne=function(t){var e;switch(t){case me:e=300;break;case xe:e=120;break;case Ie:e=90;break;case pe:e=120;break;case ve:e=150;break;case ge:e=90;break;case ke:case be:case _e:e=90;break;case we:case je:e=70;break;case ye:case De:e=120;break;default:e=60}return e},Pe=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new le,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state,n=e.ReportDict;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"non-input",children:(t=me,Object(i.jsxs)("div",{className:"flex",children:[t===me?Object(i.jsx)("div",{style:{width:"".concat(15*e.Rank,"px")}}):"",Object(i.jsx)("div",{children:e[Me(t)]})]}))}),Object(i.jsx)("td",{className:"non-input",children:Object(i.jsx)("div",{children:n.IsRendered?n.Items.map((function(t){return Object(i.jsx)("div",{children:t.ApproveDict.IsRendered?t.ApproveDict.Items.length:""},t.id)})):""})})]},e.id)})}}]),n}(s.Component),Ge=Object(fe.a)(Pe),Ae=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"Report",get:function(){return this.report||(this.report=ze(this)),this.report}},{key:"ApproveDict",get:function(){return this.approveDict||(this.approveDict=qe(this)),this.approveDict}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"View",get:function(){return Xe(this)}}]),t}(),We=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.__id=void 0}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"Approve",get:function(){return this.approve||(this.approve=Le(this)),this.approve}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"View",get:function(){return Ee(this)}}]),t}(),Be=function(t){var e=new We;return e.Dict=t,e},Le=function(t){var e=ut(t);return e.Report=t.Dict.Dict.Report,e.ownerId=t.ownerId,e.SubmitWork=t.SubmitWork,e.ActualWork=t.ActualWork,e.Assessment=t.Assessment,e.Note=t.Note,e.RebarWeight=t.RebarWeight,e.CreatedDate=t.CreatedDate,e},Ee=function(t){return Object(i.jsx)("tr",{children:"Report"},t.id)},Ue=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.IsRendered=void 0,Object(l.k)(this,{items:l.l,IsRendered:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||He(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Ke=function(t){var e=new Ue;return e.Dict=t,e},He=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){console.log("\u0111\xe3 transfer approve"),t.Items=e.filter((function(t){return t.submitwork})).map((function(e){return function(t,e){var n=Be(e);return n._id=t._id,n.reportId=t.reportId,n.ownerId=t.ownerId,n.Week=t.week,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork?t.actualwork:t.submitwork,n.Assessment=t.assessment,n.Note=t.note?t.note:null,n.RebarWeight=t.rebarweight?t.rebarweight:null,n.CreatedDate=t.createdDate,n}(e,t)})),t.IsGet_Items=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_transferreportapprove","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Ye=function(t){var e=new Ae;return e.Dict=t,e},ze=function(t){var e=gt(t);return e.Task=t.Dict.Dict.Task,e.ownerId=t.ownerId,e.Week=t.Week,e.SubmitWork=t.SubmitWork,e.ActualWork=t.ActualWork,e.Assessment=t.Assessment,e.Note=t.Note,e.RebarWeight=t.RebarWeight,e.Status.State=t.State,e.CreatedDate=t.CreatedDate,e},qe=function(t){var e=Ke(t),n=t.Dict.Dict.Dict.Dict,i=function(i){var s=i.filter((function(e){return e.reportId===t._id}));if(s.forEach((function(t){return t.Dict=e})),"done"===t.State){var r=Be(e);r.ownerId=n.ownerId,r.SubmitWork=t.SubmitWork,r.ActualWork=t.ActualWork,r.Assessment=t.Assessment,r.Note=t.Note,r.RebarWeight=t.RebarWeight,r.CreatedDate=t.CreatedDate,s.push(r)}e.Items=s,e.IsRendered=!0},s=n.Transfer_ApproveDict;return s.Items?i(s.Items):V(s.OnSet_Items_Func,(function(){return i(s.Items)})),e},Xe=function(t){return Object(i.jsx)("tr",{children:"Report"},t.id)},$e=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Qe,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("table",{className:"table table-bordered table-fixed",children:Object(i.jsx)("tbody",{children:null===(t=e.RefinedItems)||void 0===t?void 0:t.map((function(t){return t.View}))})})})}}]),n}(s.Component),Qe=(Object(fe.a)($e),function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.IsRendered=void 0,Object(l.k)(this,{items:l.l,IsRendered:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Ze(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}()),Je=function(t){var e=new Qe;return e.Dict=t,e},Ze=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){console.log("\u0111\xe3 transfer report"),t.Items=e.filter((function(t){return t.submitwork})).map((function(e){return function(t,e){var n=Ye(e);return n._id=t._id,n.taskId=t.taskId,n.ownerId=t.ownerId,n.Week=t.week,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork?t.actualwork:t.submitwork,n.Assessment=t.assessment,n.Note=t.note?t.note:null,n.RebarWeight=t.rebarweight?t.rebarweight:null,n.State=t.state,n.CreatedDate=t.createdDate,n}(e,t)})),t.IsGet_Items=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_transferreport","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},tn=function(t){var e=new le;return e.Dict=t,e},en=function(t){var e=t.Dict.Items;return T(e,(function(e){return e._id===t.supId}))},nn=function(t){return t.Dict.Items.filter((function(e){return e.SupItem===t}))},sn=function(t){var e=[t];return t.SubItems.forEach((function(t){e.push.apply(e,t.AllItems)})),e},rn=function(t){return t.SupItem?t.SupItem.Rank+1:0},cn=function(t){return Q.a.min(t.SubItems.map((function(t){return Q()(t.StartDate)}))).toDate()},an=function(t){return Q.a.max(t.SubItems.map((function(t){return Q()(t.FinishDate)}))).toDate()},un=function(t){return t.SubItems.reduce((function(t,e){return t+e.Planwork}),0)},on=function(t){return Object(i.jsx)(Ge,{store:t},t.id)},hn=function(t){var e,n=t.Dict.Dict.Plan.TaskDict,i=Wt(n);return i.projectId=t.projectId,i.SupItem=null===(e=t.SupItem)||void 0===e?void 0:e.Task,i.Name=t.Name,i.disciplineId=t.disciplineId,i.bimuseId=t.bimuseId,i.categoryId=t.categoryId,i.StartDate=t.StartDate,i.FinishDate=t.FinishDate,i.BaselineFinish=t.BaselineFinish,i.Planwork=t.Planwork,i.BaselineWork=t.BaselineWork,i.manageId=t.manageId,i.assignId=t.assignId,i.CreatedDate=t.CreatedDate,i},dn=function(t){var e=Je(t),n=function(n){(e.Items=n.filter((function(e){return e.taskId===t._id}))).forEach((function(t){return t.Dict=e})),e.IsRendered=!0},i=t.Dict.Dict.Transfer_ReportDict;return i.Items?n(i.Items):V(i.OnSet_Items_Func,(function(){return n(i.Items)})),e},ln=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new In,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("table",{className:"table table-bordered table-fixed",children:Object(i.jsx)("tbody",{children:null===(t=e.RefinedItems)||void 0===t?void 0:t.map((function(t){return t.View}))})})})}}]),n}(s.Component),fn=Object(fe.a)(ln),mn=n(212),In=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.refinedItems=void 0,this.Transfer=function(){kn(e)},Object(l.k)(this,{refinedItems:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||pn(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"RefinedItems",get:function(){return this.refinedItems||vn(this),this.refinedItems},set:function(t){this.refinedItems=t}},{key:"View",get:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:this.Transfer,children:"Transfer"})}),Object(i.jsx)(fn,{store:this})]})}}]),t}(),pn=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0,console.log("\u0111ang transfer");var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=tn(e);return n._id=t._id,n.projectId=t.projectId,n.dictId=t.dictId,n.supId=t.supId,n.Name=t.name,n.contractId=t.contractId,n.disciplineId=t.disciplineId,n.bimuseId=t.bimuseId,n.categoryId=t.categoryId,n.StartDate=t.startDate,n.FinishDate=t.finishDate,n.BaselineFinish=t.baselineFinish,n.Planwork=t.planwork,n.BaselineWork=t.baselineWork,n.manageId=t.manageId,n.assignId=t.assignId,n.CreatedDate=t.createdDate,n}(e,t)})),console.log("\u0111\xe3 transfer"),t.IsGet_Items=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_transfertask","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},vn=function(t){if(!t.IsGet_RefinedItems){t.IsGet_RefinedItems=!0;var e=function(e){var n=[];e.filter((function(t){return!t.supId})).forEach((function(t){n.push.apply(n,t.AllItems)})),t.RefinedItems=n,t.IsGet_RefinedItems=!1},n=t;n.Items?e(n.Items):V(n.OnSet_Items_Func,(function(){return e(n.Items)}))}},kn=function(t){var e=t.Dict,n=function(){console.log("ready to transfer");var n=t.RefinedItems,i=n.map((function(t){return t.Task}));e.Plan.TaskDict.Items=i;!function t(e){i[e].Save((function(){var s=n[e].ReportDict.Items,r=s.map((function(t){return t.Report}));0!==r.length&&function t(e){r[e].Save((function(){var n=s[e].ApproveDict.Items.map((function(t){return t.Approve}));0!==n.length&&function t(e){n[e].Save((function(){++e===n.length||t(e)}))}(0),++e===r.length||t(e)}))}(0),++e===i.length?console.log("transfer done"):(console.log(e),t(e))}))}(0)},i=function(t){console.log("check plan id"),t._id?n():V(t.OnSet_id_Func_Dict,n)};console.log("get plan"),e.Plan?i(e.Plan):V(e.OnSet_Plan_Func,(function(){return i(e.Plan)}))},bn=function(){return Is.Instance},_n=function(t,e){var n=jn(e);return n._id=t._id,n.Code=t.code,n.Name=t.name,n.ownerId=t.ownerId,n},jn=function(t){var e=new G;return e.Dict=t,e},On=function(t){if(!t.IsGet_Owner){t.IsGet_Owner=!0;bn().UserDict.GetItem(t.ownerId,(function(e){return function(e){t.Owner=e,t.IsGet_Owner=!1}(e)}))}},gn=function(t){return t.ownerId===bn().UserDict.loginId},Dn=function(t){if(!t.IsGet_Plan){t.IsGet_Plan=!0;var e=t;!function(){var n={projectId:e._id,isplan:!0};de(n,(function(e){!function(e){e=0!==e.length?e[0]:{projectId:t._id,isplan:!0},t.Plan=ue(e,t),t.IsGet_Plan=!1}(e)}))}()}},yn=function(t){if(!t.IsGet_Task){t.IsGet_Task=!0;var e=t;!function(){var n={projectId:e._id,isplan:!1};de(n,(function(e){!function(e){e=0!==e.length?e[0]:{projectId:t._id,isplan:!1},t.Task=ue(e,t),t.IsGet_Task=!1}(e)}))}()}},wn=function(t){return function(t){var e=new In;return e.Dict=t,e}(t)},Sn=function(t){return Je(t)},xn=function(t){return Ke(t)},Cn=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.AddItem=function(){var t=jn(e);return e.Items.push(t),t},this.GetItem=function(t,n){Fn(e,t,n)}}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Vn(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Test",get:function(){return this.test||(this.test=Mn(this)),this.test}}]),t}(),Vn=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e;e=[{_id:1,code:"01",name:"Test-Tai",ownerId:145},{_id:2,code:"02",name:"Test-ATuan",ownerId:118},{_id:3,code:"03",name:"Test-Hoa",ownerId:3201},{_id:4,code:"04",name:"Test-4",ownerId:145},{_id:20081,code:"C21015",name:"H5",ownerId:124}],t.Items=e.map((function(e){return _n(e,t)})),t.IsGet_Items=!1}},Fn=function(t,e,n){var i=function(){var i=t.Items.find((function(t){return t._id===e}));n(i)};t.Items?i():V(t.OnSet_Items_Func,i)},Mn=function(t){return _n({_id:20081,code:"C21015",name:"H5",ownerId:124},t)},Rn="https://api.bimdev.vn/api/hbp_user",Tn=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Nn=function(t,e){var n=Pn(e);return n._id=t._id,n.Name=t.name,n},Pn=function(t){var e=new Tn;return e.Dict=t,e},Gn=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.OnSet_loginId_Func=[],this._loginId=145,this.GetItem=function(t,n){Wn(e,t,n)},Object(l.k)(this,{items:l.l,_loginId:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||An(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"loginId",get:function(){return this._loginId},set:function(t){var e=this;this._loginId=t,F(this.OnSet_loginId_Func,(function(t){return e.OnSet_loginId_Func=t}))}},{key:"LoginUser",get:function(){return this.loginUser},set:function(t){this.loginUser=t,this.loginId=null===t||void 0===t?void 0:t._id}}]),t}(),An=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n;n=function(e){!function(e){t.Items=e.map((function(e){return Nn(e,t)})),t.IsGet_Items=!1}(e)},e=(e={})||{},y("".concat(Rn,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Wn=function(t,e,n){var i={userId:e};y("".concat(Rn,"/get"),i).then((function(t){return t.data})).then((function(t){n&&n(Nn(t))}))},Bn=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Ln=function(t){var e=new Bn;return e.Dict=t,e},En=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Un(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Un=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e;e=[{_id:2,name:"H\u1ee3p \u0111\u1ed3ng 1"},{_id:3,name:"h\u1ee3p \u0111\u1ed3ng 2"}],t.Items=e.map((function(e){return function(t,e){var n=Ln(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1}},Kn=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"Binding",get:function(){return this.binding||(this.binding=Oi(this)),this.binding}}]),t}(),Hn=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"DisciplineDict",get:function(){return this.disciplineDict||(this.disciplineDict=bi(this)),this.disciplineDict}},{key:"BIMUseDict",get:function(){return this.bimuseDict||(this.bimuseDict=_i(this)),this.bimuseDict}},{key:"CategoryDict",get:function(){return this.categoryDict||(this.categoryDict=ji(this)),this.categoryDict}}]),t}(),Yn=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"BIMUse_BindingDict",get:function(){return this.bimuse_BindingDict||(this.bimuse_BindingDict=ai(this)),this.bimuse_BindingDict}}]),t}(),zn="https://api.bimdev.vn/api/hbp_bimuse_binding",qn=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,zn,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Save=function(t){e.SaveDatabase(!1,t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,zn,(function(){t&&k.b.success("delete successfully!"),n&&n()}))}}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Category_BindingDict",get:function(){return this.category_BindingDict||(this.category_BindingDict=ii(this)),this.category_BindingDict}},{key:"ApiData",get:function(){return{_id:this._id,disciplineId:this.disciplineId,bimuseId:this.bimuseId}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Xn="https://api.bimdev.vn/api/hbp_category_binding",$n=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.SaveDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;M(e,Xn,(function(){t&&k.b.success("save successfully!"),n&&n()}))},this.Save=function(t){e.SaveDatabase(!1,t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.DeleteDatabase(!1)},this.DeleteDatabase=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;R(e,Xn,(function(){t&&k.b.success("delete successfully!"),n&&n()}))}}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"ApiData",get:function(){return{_id:this._id,disciplineId:this.disciplineId,bimuseId:this.bimuseId,categoryId:this.categoryId}}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}}]),t}(),Qn=function(t,e){var n=Jn(e);return n._id=t._id,n.disciplineId=t.disciplineId,n.bimuseId=t.bimuseId,n.categoryId=t.categoryId,n},Jn=function(t){var e=new $n;return e.Dict=t,e},Zn=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(t){var n=function(){var n=Qn(t,e);return e.Items.push(n),n.Save(),n};e.Items?n():V(e.OnSet_Items_Func,n)},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||ti(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Ids",get:function(){return this.Items?this.Items.map((function(t){return t.categoryId})):[]}}]),t}(),ti=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=t.Dict;e={disciplineId:i.disciplineId,bimuseId:i.bimuseId},n=function(e){!function(e){t.Items=e.map((function(e){return Qn(e,t)})),t.IsGet_Items=!1}(e)},e=e||{},y("".concat(Xn,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},ei=function(t,e){var n=ni(e);return n._id=t._id,n.disciplineId=t.disciplineId,n.bimuseId=t.bimuseId,n},ni=function(t){var e=new qn;return e.Dict=t,e},ii=function(t){return function(t){var e=new Zn;return e.Dict=t,e}(t)},si=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(t){var n=function(){var n=ei(t,e);return e.Items.push(n),n.Save(),n};e.Items?n():V(e.OnSet_Items_Func,n)},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||ri(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"Ids",get:function(){return this.Items?this.Items.map((function(t){return t.bimuseId})):[]}}]),t}(),ri=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=t.Dict;e={disciplineId:i.id},n=function(e){!function(e){t.Items=e.map((function(e){return ei(e,t)})),t.IsGet_Items=!1}(e)},e=e||{},y("".concat(zn,"/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},ci=function(t){var e=new Yn;return e.Dict=t,e},ai=function(t){return function(t){var e=new si;return e.Dict=t,e}(t)},ui=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||hi(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),oi=function(t){return new ui},hi=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=ci(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_discipline","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},di=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),li=function(t){var e=new di;return e.Dict=t,e},fi=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||mi(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),mi=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=li(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_bimuse","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Ii=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),pi=function(t){var e=new Ii;return e.Dict=t,e},vi=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||ki(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),ki=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=pi(e);return n._id=t._id,n.Name=t.name,n}(e,t)})),t.IsGet_Items=!1};n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_category","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},bi=function(t){return oi()},_i=function(t){return new fi},ji=function(t){return new vi},Oi=function(t){return function(t){var e=new Hn;return e.Dict=t,e}(t)},gi=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.BIMUses=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Di=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return"".concat(this.Dict.id,"-").concat(this._id)}}]),t}(),yi=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[]}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return"".concat(this.Dict.id,"-").concat(this._id)}}]),t}(),wi=function(t){var e=new yi;return e.Dict=t,e},Si=function(t,e){var n=xi(e);return n._id=t._id,n.Name=t.name,n.Categories=t.categories?t.categories.map((function(t){return function(t,e){var n=wi(e);return n._id=t._id,n.Name=t.name,n}(t,n)})):[],n},xi=function(t){var e=new Di;return e.Dict=t,e},Ci=function(t){var e=new gi;return e.Dict=t,e},Vi=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Fi(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Fi=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e;e=[{_id:2,name:"Structural",bimuses:[{_id:1,name:"Ph\u1ed1i h\u1ee3p 3D",categories:[{_id:1,name:"Ph\xf4\u0301i h\u01a1\u0323p, x\u01b0\u0309 li\u0301 th\xf4ng tin"},{_id:2,name:"Ki\xea\u0309m tra xung \u0111\xf4\u0323t"}]},{_id:2,name:"D\u1ef1ng m\xf4 h\xecnh 3D",categories:[{_id:1,name:"C\u1ed9t v\xe1ch"},{_id:2,name:"K\u1ebft c\u1ea5u th\xe9p"}]}]},{_id:3,name:"Architect",bimuses:[{_id:1,name:"D\u1ef1ng m\xf4 h\xecnh 3D",categories:[{_id:1,name:"C\u1ed1t th\xe9p"},{_id:2,name:"\u0110\xe0o/ \u0111\u1eafp \u0111\u1ea5t"}]},{_id:2,name:"Th\u01b0\u0323c hi\xea\u0323n ba\u0309n ve\u0303",categories:[{_id:1,name:"BV Ho\xe0n thi\u1ec7n T\u01b0\u1eddng"},{_id:2,name:"BV Ho\xe0n thi\u1ec7n m\u1eb7t ngo\xe0i"}]}]}],t.Items=e.map((function(e){return function(t,e){var n=Ci(e);return n._id=t._id,n.Name=t.name,n.BIMUses=t.bimuses?t.bimuses.map((function(t){return Si(t,n)})):[],n}(e,t)})),t.IsGet_Items=!1}},Mi=function(){function t(){var e=this;Object(u.a)(this,t),this.Refresh=function(t){Gi(e,t)}}return Object(o.a)(t,[{key:"DraftDict",get:function(){return this.draftDict||(this.draftDict=Ri(this)),this.draftDict}},{key:"TaskApproveDict",get:function(){return this.taskApproveDict||(this.taskApproveDict=Ti(this)),this.taskApproveDict}},{key:"ProjectApproveDict",get:function(){return this.projectApproveDict||(this.projectApproveDict=Ni(this)),this.projectApproveDict}},{key:"SentDict",get:function(){return this.sentDict||(this.sentDict=Pi(this)),this.sentDict}}]),t}(),Ri=function(t){var e=Nt(t);return e.ViewState="draft",e},Ti=function(t){var e=Nt(t);return e.ViewState="approve",e.ViewLevel="task",e},Ni=function(t){var e=Nt(t);return e.ViewState="approve",e.ViewLevel="project",e},Pi=function(t){var e=Nt(t);return e.ViewState="approve",e.IsReadOnly=!0,e},Gi=function(t,e){var n;switch(e.state){case"draft":n=t.DraftDict;break;case"approve":switch(e.level){case"task":n=t.TaskApproveDict;break;case"project":n=t.ProjectApproveDict}}n.RefeshItems()},Ai=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||Li(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}}]),t}(),Wi=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),Bi=function(t){var e=new Wi;return e.Dict=t,e},Li=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e,n,i=function(e){t.Items=e.map((function(e){return function(t,e){var n=Bi(e);n._id=t._id,n.SubmitWork=t.submitwork,n.ActualWork=t.actualwork,n.Assessment=t.assessment;var i=t.task;return n.TaskName=i.name,n.Planwork=i.planwork,n}(e,t)})),t.IsGet_Items=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_reportdata","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},Ei="assignId",Ui="assign",Ki="projectId",Hi="project",Yi="projectowner",zi=function(t){var e;switch(t){case Ui:e="Assign To";break;case Hi:e="Project";break;case Yi:e="Owner"}return e},qi=function(t){var e;switch(t){case Ui:e=function(t){var e;return null===(e=t.Assign)||void 0===e?void 0:e.Name};break;case Hi:e=function(t){var e;return null===(e=t.Project)||void 0===e?void 0:e.Name};break;case Yi:e=function(t){var e,n;return null===(e=t.Project)||void 0===e||null===(n=e.Owner)||void 0===n?void 0:n.Name}}return e},Xi=function(){function t(){Object(u.a)(this,t),this.GroupField=Ei,this.OnSet_Tasks_Func=[],this.tasks=void 0}return Object(o.a)(t,[{key:"Tasks",get:function(){return this.tasks||cs(this),this.tasks},set:function(t){var e=this;this.tasks=t,F(this.OnSet_Tasks_Func,(function(t){return e.OnSet_Tasks_Func=t}))}}]),t}(),$i=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.project=void 0,Object(l.k)(this,{project:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"WeekItems",get:function(){return this.weekItems||(this.weekItems=ss(this)),this.weekItems}},{key:"Project",get:function(){return this.project||rs(this),this.project},set:function(t){this.project=t}}]),t}(),Qi=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Duration",get:function(){return this.duration||(this.duration=ts(this)),this.duration}},{key:"Planwork",get:function(){return this.planwork||(this.planwork=es(this)),this.planwork}},{key:"Task",get:function(){return this.Dict}},{key:"CurrentList",get:function(){return this.Dict.WeekItems}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"RowView",get:function(){return ns(this)}}]),t}(),Ji=function(t,e){var n=Zi(e);return n.Week=t.week,n},Zi=function(t){var e=new Qi;return e.Dict=t,e},ts=function(t){var e=t.Dict,n=t.CurrentList.length,i=t.Index,s=1;0===i&&(s=Q()(e.StartDate).day()),s=0!==s?s:1;var r=5.5;return i===n-1&&(r=Q()(e.FinishDate).day()),(r=6!==r?r:5.5)-s+1},es=function(t){var e=t.Dict,n=t.CurrentList.reduce((function(t,e){return t+e.Duration}),0);return e.Planwork/n*t.Duration},ns=function(t){var e;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"non-input",children:null===(e=t.Task.Project)||void 0===e?void 0:e.Name}),Object(i.jsx)("td",{className:"non-input",children:t.Task.Name}),Object(i.jsx)("td",{className:"non-input",children:t.Planwork})]},t.id)},is=function(t){var e=new $i;return e.Dict=t,e},ss=function(t){for(var e=Q()(t.StartDate).week(),n=Q()(t.FinishDate).week(),i=[],s=e;s<n+1;s++){var r=Ji({_id:s,week:s},t);i.push(r)}return i},rs=function(t){if(!t.IsGet_Project){t.IsGet_Project=!0;Is.Instance.ProjectDict.GetItem(t.projectId,(function(e){return function(e){t.Project=e,t.IsGet_Project=!1}(e)}))}},cs=function(t){if(!t.IsGet_Tasks){t.IsGet_Tasks=!0;var e,n,i=function(e){t.Tasks=e.map((function(e){return function(t,e){var n=is(e);return n._id=t._id,n.projectId=t.projectId,n.Name=t.name,n.StartDate=t.startDate,n.FinishDate=t.finishDate,n.Planwork=t.planwork,n.assignId=t.assignId,n}(e,t)})),t.IsGet_Tasks=!1};t.Dict;n=function(t){i(t)},e=(e={})||{},y("".concat("https://api.bimdev.vn/api/hbp_taskdata","/list"),e).then((function(t){return t.data})).then((function(t){n&&n(t)}))}},as=function(t){return new Cn},us=function(t){return new Gn},os=function(t){return new En},hs=function(t){return function(t){var e=new Kn;return e.Dict=t,e}()},ds=function(t){return new Vi},ls=function(t){return function(t){var e=new Mi;return e.Dict=t,e}()},fs=function(t){return function(t){var e=new Ai;return e.Dict=t,e}()},ms=function(t){return function(t){var e=new Xi;return e.Dict=t,e}()},Is=function(){function t(){Object(u.a)(this,t),this.IsPublish=!1,this.UpdatedDate="02/12/2021"}return Object(o.a)(t,[{key:"ProjectDict",get:function(){return this.projectDict||(this.projectDict=as()),this.projectDict}},{key:"UserDict",get:function(){return this.userDict||(this.userDict=us()),this.userDict}},{key:"ContractDict",get:function(){return this.contractDict||(this.contractDict=os()),this.contractDict}},{key:"DisciplineGroup",get:function(){return this.disciplineGroup||(this.disciplineGroup=hs()),this.disciplineGroup}},{key:"ResultDisciplineDict",get:function(){return this.resultDisciplineDict||(this.resultDisciplineDict=ds()),this.resultDisciplineDict}},{key:"DisciplineDict",get:function(){return this.disciplineDict||(this.disciplineDict=oi()),this.disciplineDict}},{key:"ReportGroup",get:function(){return this.reportGroup||(this.reportGroup=ls()),this.reportGroup}},{key:"ReportData_Dict",get:function(){return this.reportData_Dict||(this.reportData_Dict=fs()),this.reportData_Dict}},{key:"TaskweekData_Dict",get:function(){return this.taskweekData_Dict||(this.taskweekData_Dict=ms()),this.taskweekData_Dict}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new Is),this.instance},set:function(t){this.instance=t}}]),t}(),ps=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Header",get:function(){return this.header||(this.header=lc(this)),this.header}},{key:"Body",get:function(){return this.body||(this.body=fc(this)),this.body}},{key:"Footer",get:function(){return this.footer||(this.footer=mc(this)),this.footer}}]),t}(),vs=function(){function t(){Object(u.a)(this,t),this.Source=void 0,this.Alt=void 0,this.Width=void 0,this.Height=void 0,Object(l.k)(this,{Source:l.l,Alt:l.l,Width:l.l,Height:l.l})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),ks=function(t,e,n,i){var s=new vs;return s.Source=t,s.Alt=e,s.Width=n,s.Height=i,s},bs=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||ks("https://raw.githubusercontent.com/bimtaiht/bimdev-source/master/Image/hello.png","test-image",200,200),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.style?this.props.style:t.Style,n=this.props.className?this.props.className:t.ClassName,s=this.props.onClick,r=this.props.onDoubleClick,c=this.props.onMouseEnter,a=this.props.onMouseLeave;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("img",{className:n,style:e,src:t.Source,alt:t.Alt,width:t.Width,height:t.Height,onClick:s,onDoubleClick:r,onMouseEnter:c,onMouseLeave:a})})}}]),n}(s.Component),_s=Object(fe.a)(bs),js=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"MainMenu",get:function(){return Ad.Instance.MainMenu}},{key:"LogoView",get:function(){var t=ks("https://bimdev.vn/wp-content/uploads/2020/01/logo.jpg");return Object(i.jsx)(_s,{className:"header__logo",store:t})}}]),t}(),Os=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"UserSelect",get:function(){return this.userSelect||(this.userSelect=uc(this)),this.userSelect}},{key:"MainView",get:function(){return hc(this)}}]),t}(),gs="text",Ds="password",ys="textarea",ws=function(){function t(){Object(u.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",this.State=gs,this.ClassName=void 0,Object(l.k)(this,{content:l.l,placeholder:l.l,State:l.l,ClassName:l.l})}return Object(o.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t),this.OnSetContent&&this.OnSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Style",get:function(){return this.style||(this.style=this.inputStyle?this.inputStyle:{},this.wrapper&&(this.style.position="relative")),this.style}}]),t}(),Ss=(n(262),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Vs,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.Style,n=e.width,s=e.item_height;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"calendar",style:{width:n},children:[Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("div",{className:"previous",onClick:t.PreviousMonth,children:String.fromCharCode(171)}),Object(i.jsxs)("div",{className:"current",children:[t.CurrentMonth," ",t.CurrentYear]}),Object(i.jsx)("div",{className:"next",onClick:t.NextMonth,children:String.fromCharCode(187)})]}),Object(i.jsxs)("div",{className:"body",children:[Object(i.jsx)("div",{className:"day-names",children:["S","M","T","W","T","F","S"].map((function(t,e){return Object(i.jsx)("div",{className:"item week",style:{height:s,lineHeight:s},children:t},e)}))}),Object(i.jsx)("div",{className:"days",children:t.CalendarDict.calendar.map((function(e){return Object(i.jsx)("div",{children:e.map((function(e){return Object(i.jsx)("div",{className:"item day ".concat(t.GetDayCss(e)),onClick:function(){return t.SetCurrentDay(e)},style:{height:s,lineHeight:s},children:e.format("D")},w())}))},w())}))})]})]},t.id),Object(i.jsx)("div",{className:"border"})]})}}]),n}(s.Component)),xs=Object(fe.a)(Ss),Cs=function(t){var e=function(){for(var e=t.CurrentDay,n=e.format("M"),i=e.format("YYYY"),s=e.clone().startOf("month").startOf("week"),r=e.clone().endOf("month").endOf("week"),c=s.clone().subtract(1,"day"),a=[];c.isBefore(r,"day");)a.push(Array(7).fill(0).map((function(){return c.add(1,"day").clone()})));t.CalendarDict={year:i,month:n,calendar:a},t.IsGet_Calendar=!1},n=t.calendarDict;n&&n.month===t.CurrentDay.format("M")&&n.year===t.CurrentDay.format("YYYY")||e()},Vs=function(){function t(){var e=this;Object(u.a)(this,t),this.currentDay=void 0,this.SetCurrentDay=function(t){e.IsValid_SetCurrent&&!e.IsValid_SetCurrent(t)||(e.CurrentDay=t)},this.PreviousMonth=function(){e.CurrentDay=e.CurrentDay.clone().subtract(1,"month")},this.NextMonth=function(){e.CurrentDay=e.CurrentDay.clone().add(1,"month")},this.calendarDict=void 0,this.GetDayCss=function(t){var n="";return t.isSame(e.CurrentDay,"day")&&(n+=" selected"),function(t){return t.isSame(new Date,"day")}(t)&&(n+=" today"),(t.isBefore(e.CurrentDay,"month")||t.isAfter(e.CurrentDay,"month"))&&(n+=" notsame-month"),e.IsValid_SetCurrent&&(e.IsValid_SetCurrent(t)||(n+=" disabled")),e.PostDayCss&&(n=e.PostDayCss(n,t)),n},Object(l.k)(this,{currentDay:l.l,calendarDict:l.l})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this.TempId}},{key:"CurrentDay",get:function(){return this.currentDay||(this.currentDay=Q()()),this.currentDay},set:function(t){this.currentDay=t,Cs(this),this.OnSet_CurrentDay&&this.OnSet_CurrentDay(t)}},{key:"CurrentMonth",get:function(){return this.CurrentDay.format("MMMM")}},{key:"CurrentYear",get:function(){return this.CurrentDay.format("YYYY")}},{key:"CalendarDict",get:function(){return this.calendarDict||Cs(this),this.calendarDict},set:function(t){this.calendarDict=t}},{key:"Style",get:function(){return this.style||(this.style={width:"250px",item_height:"35px"}),this.style},set:function(t){this.style=t}},{key:"View",get:function(){return Object(i.jsx)(xs,{store:this},this.id)}}]),t}(),Fs="day",Ms="week",Rs=function(){function t(){var e=this;Object(u.a)(this,t),this.Items=[],this.GetItem=function(t){return function(t,e){var n=t.Items,i=T(n,(function(t){return t.key===e}));return i||(i={key:e,value:r.a.createRef()},n.push(i)),i}(e,t)},this.GetRef=function(t){return e.GetItem(t).value}}return Object(o.a)(t,[{key:"Target",get:function(){return this.GetRef("Target")}}]),t}(),Ts=function(t,e){return t.Target_RefData||(t.Target_RefData=new Rs),t.Target_RefData.GetItem(e)},Ns=function(t,e){try{return e&&e.current&&!e.current.contains(t.target)}catch(n){throw console.log(e.current),500}},Ps=function(t,e,n){var i=Ts(t,e);i.Events||(i.Events=[]);var s=i.value;i.Events.push({key:"mousedown",func:function(t){Ns(t,s)&&n(t)}})},Gs=function(t,e){t.Target_RefData&&t.Target_RefData.Items.forEach((function(t){t.Events&&t.Events.forEach((function(t){"mount"===e&&document.addEventListener(t.key,t.func),"unmount"===e&&document.removeEventListener(t.key,t.func)}))}))},As=n(54),Ws=n(426),Bs=function(t,e){var n=new ws;return n.content=t,n.placeholder=e,n},Ls=n(191),Es=n.n(Ls),Us=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).handleChange=function(t){i.state.Content=t.target.value},i.OnPaste=function(t){t.preventDefault();var e,n=((e=t).originalEvent||e).clipboardData.getData("text/plain");i.state.Content=n},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown?e.OnKeyDown(t):(t.ctrlKey&&66==t.which||t.ctrlKey&&73==t.which||13==t.keyCode)&&t.preventDefault()},i.contentEditable=r.a.createRef();var s=i.props.store;if(s)i.state=s;else{i.state=Bs("N\u1ed9i dung input")}return i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state,n=e.Content,s=this.props.className?this.props.className:"",r=this.props.style,c=this.props.onFocus?this.props.onFocus:e.OnFocus;return Object(i.jsxs)(i.Fragment,{children:[e.State===gs?Object(i.jsx)(Es.a,(t={ref:e.Ref,className:"ant-input ".concat(s),style:r,innerRef:this.contentEditable,placeholder:e.Placeholder},Object(As.a)(t,"style",r),Object(As.a)(t,"html",n||""),Object(As.a)(t,"onChange",this.handleChange),Object(As.a)(t,"onPaste",this.OnPaste),Object(As.a)(t,"onKeyDown",this.OnKeyDown),Object(As.a)(t,"onFocus",c),t)):"",e.State===Ds?Object(i.jsx)(Ws.a.Password,{value:n,onChange:this.handleChange,className:s,style:r}):""]})}}]),n}(s.Component),Ks=(Object(fe.a)(Us),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).onChange=function(t){var e=t.target.value,n=i.state;""!==e&&n.InputRegex&&!n.InputRegex.test(e)||(i.state.Content=e)},i.OnKeyDown=function(t){var e=i.state;e.OnKeyDown&&e.OnKeyDown(t)};var s=i.props.store;if(s)i.state=s;else{i.state=Bs("N\u1ed9i dung input"),i.state.State=ys}return i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.content,n=t.placeholder,s=this.props.style,r=this.props.className,c=this.props.onFocus?this.props.onFocus:t.OnFocus;return Object(i.jsxs)(i.Fragment,{children:[t.State===gs?Object(i.jsx)(Ws.a,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onKeyDown:this.OnKeyDown,onFocus:c,disabled:t.IsDisabled,placeholder:n}):"",t.State===ys?Object(i.jsx)(Ws.a.TextArea,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onKeyDown:this.OnKeyDown,disabled:t.IsDisabled,onFocus:c,autoSize:!0,placeholder:n}):"",t.State===Ds?Object(i.jsx)(Ws.a.Password,{ref:t.Ref,style:s,className:r,value:e,onChange:this.onChange,onFocus:c,disabled:t.IsDisabled,onKeyDown:this.OnKeyDown}):""]})}}]),n}(s.Component)),Hs=Object(fe.a)(Ks),Ys="default",zs="edit",qs=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"Render",get:function(){return this.render||(this.render=Er(this)),this.render},set:function(t){this.render=t}}]),t}(),Xs=function(t){try{return{__html:t}}catch(e){return{__html:t="Invalid html"}}},$s=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return s&&(i.state=s),i}return Object(o.a)(n,[{key:"render",value:function(){this.state;var t=this.props.viewBox?this.props.viewBox:"0 -5 469 469";return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("svg",{viewBox:t,xmlns:"http://www.w3.org/2000/svg",children:[Object(i.jsx)("path",{d:"m325.332031 32.167969h-309.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h309.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"}),Object(i.jsx)("path",{d:"m453.332031 138.832031h-437.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h437.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"}),Object(i.jsx)("path",{d:"m325.332031 245.5h-309.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h309.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"}),Object(i.jsx)("path",{d:"m453.332031 352.167969h-437.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h437.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"}),Object(i.jsx)("path",{d:"m325.332031 458.832031h-309.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h309.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"})]})})}}]),n}(s.Component),Qs=Object(fe.a)($s),Js=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return s&&(i.state=s),i}return Object(o.a)(n,[{key:"render",value:function(){this.state;var t=this.props.viewBox?this.props.viewBox:"0 0 469 469";return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("svg",{viewBox:t,children:[Object(i.jsx)("path",{d:"m384 42.667969h-298.667969c-11.773437 0-21.332031-9.558594-21.332031-21.335938 0-11.773437 9.558594-21.332031 21.332031-21.332031h298.667969c11.777344 0 21.332031 9.558594 21.332031 21.332031 0 11.777344-9.554687 21.335938-21.332031 21.335938zm0 0"}),Object(i.jsx)("path",{d:"m448 149.332031h-426.667969c-11.773437 0-21.332031-9.554687-21.332031-21.332031s9.558594-21.332031 21.332031-21.332031h426.667969c11.777344 0 21.332031 9.554687 21.332031 21.332031s-9.554687 21.332031-21.332031 21.332031zm0 0"}),Object(i.jsx)("path",{d:"m384 256h-298.667969c-11.773437 0-21.332031-9.558594-21.332031-21.332031 0-11.777344 9.558594-21.335938 21.332031-21.335938h298.667969c11.777344 0 21.332031 9.558594 21.332031 21.335938 0 11.773437-9.554687 21.332031-21.332031 21.332031zm0 0"}),Object(i.jsx)("path",{d:"m448 362.667969h-426.667969c-11.773437 0-21.332031-9.558594-21.332031-21.335938 0-11.773437 9.558594-21.332031 21.332031-21.332031h426.667969c11.777344 0 21.332031 9.558594 21.332031 21.332031 0 11.777344-9.554687 21.335938-21.332031 21.335938zm0 0"}),Object(i.jsx)("path",{d:"m384 469.332031h-298.667969c-11.773437 0-21.332031-9.554687-21.332031-21.332031s9.558594-21.332031 21.332031-21.332031h298.667969c11.777344 0 21.332031 9.554687 21.332031 21.332031s-9.554687 21.332031-21.332031 21.332031zm0 0"})]})})}}]),n}(s.Component),Zs=Object(fe.a)(Js),tr=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return s&&(i.state=s),i}return Object(o.a)(n,[{key:"render",value:function(){this.state;var t=this.props.viewBox?this.props.viewBox:"0 0 512 512";return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("svg",{viewBox:t,children:[Object(i.jsx)("path",{d:"M492,118H156c-11.046,0-20,8.954-20,20s8.954,20,20,20h336c11.046,0,20-8.954,20-20C512,126.954,503.046,118,492,118z"}),Object(i.jsx)("path",{d:"M492,0H20C8.954,0,0,8.954,0,20s8.954,20,20,20h472c11.046,0,20-8.954,20-20S503.046,0,492,0z"}),Object(i.jsx)("path",{d:"M492,472H20c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h472c11.046,0,20-8.954,20-20\r C512,480.954,503.046,472,492,472z"}),Object(i.jsx)("path",{d:"M492,354H156c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h336c11.046,0,20-8.954,20-20\r C512,362.954,503.046,354,492,354z"}),Object(i.jsx)("path",{d:"M492,236H20c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h472c11.046,0,20-8.954,20-20S503.046,236,492,236z"})]})})}}]),n}(s.Component),er=Object(fe.a)(tr),nr="header",ir="align-left",sr="align-middle",rr="align-right",cr="font-famiy",ar="font_size",ur="font-color",or="delete",hr=n(425),dr=function t(){var e=this;Object(u.a)(this,t),this.getClassName=function(){return e.className||(e.className="float ".concat(e.location)),e.className}},lr=function(t){var e=new dr;return e.location=t,e},fr=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).getWrapperContent=function(){var t=i.state.wrapper;return t||""};var s=i.props.store;return i.state=s||lr("top right"),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("span",{className:t.getClassName(),children:this.getWrapperContent()})})}}]),n}(s.Component),mr=Object(fe.a)(fr),Ir=(n(275),hr.a.Option),pr=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).onValueChange=function(t){i.state.SelectedIndex=t},i.onDropdownVisibleChange=function(t){i.state.Open=t};var s=i.props.store;return i.state=s||new kr,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.className?this.props.className:"",n=this.props.style?this.props.style:{width:"100%"},s=t.Placeholder,r=t.Items,c=t.SelectedIndex,a=t.InitialIndex;-1===c&&(c=a,t.InitialIndex=-1);var u=r?r.map((function(e,n){var s=t.TitleRender(e),r=void 0;return r=t.IdRender?t.IdRender(e):void 0===e?w():"string"!==typeof e&&isNaN(e)?e._id?e._id:e.id:e,Object(i.jsx)(Ir,{value:n,children:s},r)})):"",o="";if(t.CanClear){var h=lr("right");h.wrapper=Object(i.jsx)(mn.a,{size:"small",type:"primary",onClick:t.Clear,children:"x"}),o=Object(i.jsx)(mr,{store:h})}return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"select__wrapper ".concat(e),style:t.DivStyle,children:[o,Object(i.jsx)(hr.a,{className:"select__main",style:n,showSearch:!0,placeholder:s,optionFilterProp:"children",onChange:this.onValueChange,value:c,filterOption:function(t,e){return e.children.toLowerCase().indexOf(t.toLowerCase())>=0},open:t.CanOpen&&t.Open,onDropdownVisibleChange:this.onDropdownVisibleChange,disabled:t.Disabled||t.IsDisabled,onFocus:t.OnFocus,children:u})]})})}}]),n}(s.Component),vr=Object(fe.a)(pr),kr=function(){function t(){var e=this;Object(u.a)(this,t),this.items=void 0,this.initialItem=void 0,this.GetInitialIndex=function(){var t=e.Items.indexOf(e.InitialItem);return-1!==t?t:null},this.selectedIndex=void 0,this.selectedItem=void 0,this.SetValue=function(t){e.InitialItem=e.SelectedItem=t},this.GetSelectedItem=function(){var t=e.SelectedIndex;if(-1!==t)return e.Items[t]},this.CanClear=!1,this.Clear=function(){e.SelectedIndex=null},this.open=!1,this.canOpen=!0,this.isDisabled=!1,this.disabled=!1,Object(l.k)(this,{items:l.l,selectedIndex:l.l,selectedItem:l.l,CanClear:l.l,open:l.l,canOpen:l.l,isDisabled:l.l,disabled:l.l})}return Object(o.a)(t,[{key:"Items",get:function(){return this.items||(this.items=[]),this.items},set:function(t){this.items=t}},{key:"InitialItem",get:function(){return this.initialItem},set:function(t){this.IsSet_InitialItem=!0,this.initialItem=t,this.InitialIndex=this.GetInitialIndex(),this.SelectedIndex=this.InitialIndex}},{key:"InitialIndex",get:function(){return this.initialIndex||(this.initialIndex=this.GetInitialIndex()),this.initialIndex},set:function(t){this.initialIndex=t}},{key:"SelectedIndex",get:function(){return this.selectedIndex},set:function(t){this.selectedIndex=t,this.SelectedItem=this.GetSelectedItem()}},{key:"SelectedItem",get:function(){return this.selectedItem||(this.selectedItem=this.GetSelectedItem()),this.selectedItem},set:function(t){var e=this.SelectedItem;this.selectedItem=t,this.IsSet_InitialItem?this.IsSet_InitialItem=!1:this.OnSelectedItemChanged&&this.OnSelectedItemChanged(t,e)}},{key:"Placeholder",get:function(){return this.placeholder||(this.placeholder="ch\u1ecdn \u0111\u1ed1i t\u01b0\u1ee3ng ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"DivStyle",get:function(){return this.CanClear?{position:"relative",padding:"0 22px 0 0"}:{}}},{key:"TitleRender",get:function(){return this.titleRender||(this.titleRender=_r(this)),this.titleRender},set:function(t){this.titleRender=t}},{key:"Open",get:function(){return this.open},set:function(t){this.open=t,this.OnSetOpen&&this.OnSetOpen(t)}},{key:"CanOpen",get:function(){return this.canOpen},set:function(t){this.canOpen=t}},{key:"IsDisabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t}},{key:"Disabled",get:function(){return this.GetDisabled_Func?this.GetDisabled_Func():this.disabled},set:function(t){this.disabled=t}},{key:"View",get:function(){return Object(i.jsx)(vr,{store:this})}}]),t}(),br=function(t,e){var n=new kr;return n.Items=t,n.InitialItem=e,n},_r=function(t){return function(t){return t.DisplayContent?t.DisplayContent:"".concat(t)}},jr=n(209),Or=function(){function t(){var e=this;Object(u.a)(this,t),this.color="#000000",this.PickColor=function(t){e.Color=t.hex},Object(l.k)(this,{color:l.l})}return Object(o.a)(t,[{key:"Color",get:function(){return this.color},set:function(t){this.color=t,this.OnSetColor&&this.OnSetColor(t)}},{key:"MainView",get:function(){return Object(i.jsx)(jr.a,{color:this.Color,onChange:this.PickColor})}}]),t}(),gr=n(429),Dr=(n(385),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Or,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=this.props.className?this.props.className:"";return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(gr.a,{content:t.MainView,title:"Pick text color",trigger:"hover",placement:"bottomLeft",children:Object(i.jsx)("div",{className:"color__demo ".concat(e),style:{backgroundColor:t.Color}})})})}}]),n}(s.Component)),yr=Object(fe.a)(Dr),wr="manual",Sr="mobx",xr="style",Cr=(n(386),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Fr,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=t.ClassName?t.ClassName:this.props.className?this.props.className:"",t.Style=t.Style?t.Style:this.props.style,Object(i.jsx)(i.Fragment,{children:t.UseType===xr||t.Is_Visible?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{style:t.WrapperStyle,children:[t.WrapperView,t.AdditionElement]})}):"hidden"===t.VisibleType?Object(i.jsx)("div",{className:t.BlankStyle}):""})}}]),n}(s.Component)),Vr=Object(fe.a)(Cr),Fr=function(){function t(){var e=this;Object(u.a)(this,t),this.is_Visible=void 0,this.ToggleType=wr,this.VisibleType="collapse",this.is_Hover_Visible=void 0,this.Show_Hover=function(t){t&&t.stopPropagation(),e.OnPre_ShowHover&&e.OnPre_ShowHover(),e.Is_Hover_Visible=!0},this.Toggle_Hover=function(t){e.Is_Hover_Visible=t},this.PreRun=function(t){t.stopPropagation(),e.IsRun_Cancel=!1,e.OnPreRun&&e.OnPreRun(),e.IsRun_Cancel||e.Run()},this.PreCancel=function(t){t.stopPropagation(),e.Cancel()},this.Show=function(){e.Is_Visible=!0},this.Hide=function(){e.IsRun_Cancel=!1,e.OnPreHide&&e.OnPreHide(),e.IsRun_Cancel||e.Is_Hover_Visible||(e.Is_Visible=!1)},this.ClassName=void 0,this.Style=void 0,this.AdditionElement="",this.BlankStyle="delete__blank",this.Title="X\xe1c nh\u1eadn l\u1ec7nh?",this.UseType=Sr,Object(l.k)(this,{is_Visible:l.l,is_Hover_Visible:l.l,VisibleType:l.l,UseType:l.l,ClassName:l.l,Style:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this._id||(this._id=S()),this._id},set:function(t){this._id=t}},{key:"Is_Visible",get:function(){return this.is_Visible||(this.is_Visible=this.ToggleType===wr),this.is_Visible},set:function(t){this.is_Visible=t}},{key:"Is_Hover_Visible",get:function(){return this.is_Hover_Visible},set:function(t){this.is_Hover_Visible=t,"mouseEvent"===this.ToggleType&&(t||(this.Is_Visible=!1)),this.OnSet_Is_Hover_Visible&&this.OnSet_Is_Hover_Visible(t)}},{key:"Run",get:function(){var t;return this.run||(this.run=(t=this,function(){t.Is_Hover_Visible=!1,t.OnRun&&t.OnRun()})),this.run},set:function(t){this.run=t}},{key:"Cancel",get:function(){var t;return this.cancel||(this.cancel=(t=this,function(){t.Is_Hover_Visible=!1,t.OnCancel&&t.OnCancel()})),this.cancel},set:function(t){this.cancel=t}},{key:"ShowHover_Button",get:function(){return this.showHover_Button?this.showHover_Button:this.Retrieve_ShowHover_Button()},set:function(t){this.showHover_Button=t}},{key:"Retrieve_ShowHover_Button",get:function(){var t;return this.retrieve_ShowHover_Button||(this.retrieve_ShowHover_Button=(t=this,function(){return Object(i.jsx)(mn.a,{type:"primary",size:"small",className:"btn_delete ".concat(t.ClassName),style:t.Style,onClick:t.Show_Hover,children:"x"})})),this.retrieve_ShowHover_Button},set:function(t){this.retrieve_ShowHover_Button=t}},{key:"View",get:function(){return Object(i.jsx)(Vr,{store:this},this.id)}},{key:"WrapperView",get:function(){return this.Retrieve_WrapperView()}},{key:"Retrieve_WrapperView",get:function(){var t;return this.retrieve_WrapperView||(this.retrieve_WrapperView=(t=this,function(){return Object(i.jsx)(gr.a,{content:Object(i.jsx)(i.Fragment,{children:t.Modal_ContentView}),title:t.Title,trigger:"click",visible:t.Is_Hover_Visible,onVisibleChange:t.Toggle_Hover,children:t.ShowHover_Button})})),this.retrieve_WrapperView},set:function(t){this.retrieve_WrapperView=t}},{key:"Modal_ButtonView",get:function(){var t;return this.modal_ButtonView||(this.modal_ButtonView=(t=this,Object(i.jsxs)("div",{className:"delete__btn-group",children:[Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:t.PreRun,children:"ok"}),Object(i.jsx)(mn.a,{type:"text",size:"small",className:"btn_blank",onClick:t.PreCancel,children:"cancel"})]}))),this.modal_ButtonView},set:function(t){this.modal_ButtonView=t}},{key:"Modal_InfoView",get:function(){return this.modal_InfoView||(this.modal_InfoView=""),this.modal_InfoView},set:function(t){this.modal_InfoView=t}},{key:"Modal_ContentView",get:function(){var t;return this.modal_ContentView||(this.modal_ContentView=(t=this,Object(i.jsxs)(i.Fragment,{children:[t.Modal_InfoView,t.Modal_ButtonView]}))),this.modal_ContentView},set:function(t){this.modal_ContentView=t}},{key:"WrapperStyle",get:function(){switch(this.UseType){case Sr:return;case xr:return this.Is_Visible?void 0:{display:"none"}}}}]),t}(),Mr=function(t,e){var n=new Tr;return n.Type=t,n},Rr=function(t){var e;switch(t.Type){case cr:e=br(n=["UTM penumbra","Quicksand","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Helvetica Neue","Arial","Noto Sans","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],n[0]);break;case ar:var n;e=br(n=[8,10,12,14,16,18,20,22,24,26,28,36,48,72],12);break;case ur:e=function(t){var e=new Or;return e.Color=t,e}("#000000");break;case or:(e=new Fr).Is_Visible=!0}return e},Tr=function(){function t(){Object(u.a)(this,t),this.data=void 0,Object(l.k)(this,{data:l.l})}return Object(o.a)(t,[{key:"ToolClass",get:function(){return"ql-".concat(this.Type)}},{key:"ToolView",get:function(){return this.toolView||(this.toolView=function(t){var e=t.ToolClass;switch(t.Type){case nr:return Object(i.jsxs)("select",{className:e,defaultValue:"",onChange:function(t){return t.persist()},children:[Object(i.jsx)("option",{value:"1"}),Object(i.jsx)("option",{value:"2"}),Object(i.jsx)("option",{value:""})]});case cr:case ar:return Object(i.jsx)(vr,{className:e,store:t.Data});case ur:return Object(i.jsx)(yr,{className:e,store:t.Data});case or:return Object(i.jsx)(Vr,{className:e,store:t.Data,style:{backgroundColor:"#ff4d4f"}});default:return Object(i.jsx)("button",{className:e,children:t.ContentView})}}(this)),this.toolView},set:function(t){this.toolView=t}},{key:"ContentView",get:function(){return this.contentView||(this.contentView=function(t){switch(t.Type){case ir:return Object(i.jsx)(Qs,{viewBox:"0 -90 620 620"});case sr:return Object(i.jsx)(Zs,{viewBox:"0 -100 620 620"});case rr:return Object(i.jsx)(er,{viewBox:"0 -100 670 670"});default:return""}}(this)),this.contentView},set:function(t){this.contentView=t}},{key:"Data",get:function(){return this.data||(this.data=Rr(this)),this.data},set:function(t){this.data=t}}]),t}(),Nr=(n(387),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Tr,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:t.ToolView})}}]),n}(s.Component)),Pr=Object(fe.a)(Nr),Gr=function(){function t(){var e=this;Object(u.a)(this,t),this.content="",this.Focus=function(){e.Ref?e.Ref.current.focus():e.IsFocusInit=!0},this.tools=void 0,this.subTools=void 0,this.GetTool=function(t){var n=e.FullTools.findIndex((function(e){return e.Type===t}));return-1!==n?e.FullTools[n]:void 0},Object(l.k)(this,{content:l.l,tools:l.l,subTools:l.l})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId="q-".concat(w())),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.OnSetContent&&this.OnSetContent(t)}},{key:"InitialContent",set:function(t){this.content=t}},{key:"PlaceHolder",get:function(){return this.placeholder||(this.placeholder="v\u0103n b\u1ea3n so\u1ea1n th\u1ea3o ..."),this.placeholder},set:function(t){this.placeholder=t}},{key:"Tools",get:function(){return this.tools||(this.tools=[Mr(nr),Mr("bold"),Mr("italic"),Mr("underline"),Mr(ir),Mr(sr),Mr(rr),Mr("code-block"),Mr("blockquote")]),this.tools},set:function(t){this.tools=t}},{key:"SubTools",get:function(){return this.subTools||(this.subTools=[]),this.subTools},set:function(t){this.subTools=t}},{key:"FullTools",get:function(){return this.Tools.concat(this.SubTools)}},{key:"Tool_Container",get:function(){return Object(i.jsxs)("div",{id:this.id,className:"ql-snow wrapper",children:[Object(i.jsx)("div",{className:"ql__tool__main",children:this.Tools.map((function(t){return Object(i.jsx)(Pr,{store:t},t.Type)}))}),Object(i.jsx)("div",{className:"ql__tool__sub",children:this.SubTools.map((function(t){return Object(i.jsx)(Pr,{store:t},t.Type)}))})]})}},{key:"Handles",get:function(){var t={};return this.Tools.filter((function(t){return void 0!==t.Handle})).forEach((function(e){t[e.Type]=e.Handle})),t}}]),t}(),Ar=n(207),Wr=n.n(Ar),Br=(n(406),n(407),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).OnChange=function(t){var e=i.state;e.LastContent=e.Content,e.Content=t},i.OnKeyDown=function(t){var e=i.state;if(e.OnKeyDown)return e.OnKeyDown(t),void(e.IsCancel&&(e.IsCancel=!1,e.Content=e.LastContent));t.altKey&&13==t.keyCode?e.OnAltEnter&&(t.preventDefault(),e.OnAltEnter()):8==t.keyCode||46==t.charCode?(!e.LastContent&&0===e.Content.length||e.LastContent===e.Content&&"<p><br></p>"===e.Content)&&e.OnEmptyBackspace&&(t.preventDefault(),e.OnEmptyBackspace()):9==t.keyCode&&e.OnTab&&(t.preventDefault(),e.OnTab()),e.LastContent=e.Content};var s=i.props.store;return i.state=s||new Gr,i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this.state;t.IsFocusInit&&t.Ref.current.focus()}},{key:"render",value:function(){var t=this.state,e={syntax:!0,toolbar:{container:"#".concat(t.id),handlers:t.Handles},clipboard:{matchVisual:!1}};t.OnKeyDown=t.OnKeyDown?t.OnKeyDown:this.props.onKeyDown;var n=this.props.className?this.props.className:"",s=this.props.style;return Object(i.jsxs)("div",{className:"ql__wrapper ".concat(n),style:s,children:[t.Tool_Container,Object(i.jsx)(Wr.a,{ref:t.Ref,className:"ql__style",modules:e,formats:["header","bold","italic","underline","strike","image","video","file","link","code-block","video","blockquote","clean"],onChange:this.OnChange,value:t.Content,placeholder:t.PlaceHolder,onKeyDown:this.OnKeyDown})]})}}]),n}(s.Component)),Lr=Object(fe.a)(Br),Er=function(t){switch(t.State){case Ys:return function(t,e){var n=e.ClassName,s=e.Style,r=e.OnDoubleClick,c=e.OnClick,a=e.State,u="text"===a||"textarea"===a,o=u?"text":"html";return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"".concat(n," input_wrapper view ").concat(o),style:s,onDoubleClick:r,onClick:c,children:u?t:Object(i.jsx)("div",{dangerouslySetInnerHTML:Xs(t)})}),e.Is_Tool_Visible&&e.Is_Edit_Visible?Object(i.jsx)(mn.a,{type:"primary",size:"small",className:"left10 btn-warning",onClick:e.Edit,children:"e"}):""]})};case"ready":case zs:return function(t,e){var n,s=e.ClassName,r=e.Style,c=e.OnFocus,a=e.State,u="text"===a||"textarea"===a,o=function(){e.Edit(),c&&c()};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"input__wrapper edit ".concat(s),children:[u?Object(i.jsx)(Hs,(n={ref:e.Ref,className:"input__main",style:r,store:e},Object(As.a)(n,"ref",e.Ref),Object(As.a)(n,"onFocus",o),n)):Object(i.jsx)(Lr,{store:e.Editor,onFocus:o}),e.Is_Tool_Visible&&e.Is_OK_Visible?Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:e.EditOK,children:"ok"}):""]})})};default:return}},Ur=function t(){var e=this;Object(u.a)(this,t),this.Items=[],this.GetRender=function(t){var n=e.Items,i=n.findIndex((function(e){return e.State===t}));if(-1===i){var s=function(t,e){var n=new qs;return n.State=t,n.Render=e,n}(t);return n.push(s),s}return n[i]}},Kr=(n(408),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Yr,i.state.Ref=r.a.createRef(),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return t.ClassName=this.props.className?this.props.className:"",t.Style=this.props.style,t.OnFocus=t.OnFocus?t.OnFocus:this.props.onFocus,t.OnDoubleClick=t.OnDoubleClick?t.OnDoubleClick:this.props.onDoubleClick,t.OnClick=t.OnClick?t.OnClick:this.props.onClick,Object(i.jsx)(i.Fragment,{children:t.Render()})}}]),n}(s.Component)),Hr=Object(fe.a)(Kr),Yr=function(){function t(){var e=this;Object(u.a)(this,t),this.content=void 0,this.placeholder="n\u1ed9i dung input",this.State=gs,this.IsEditing=!1,this.OnSet_RenderState_Func_Dict=[],this.renderState=Ys,this.CanChange_RenderState=!0,this.Is_Tool_Visible=!0,this.Is_Edit_Visible=!0,this.Is_OK_Visible=!0,this.Ready=function(){e.RenderState!==zs&&(e.RenderState="ready")},this.NotReady=function(){e.RenderState!==zs&&(e.RenderState=Ys)},this.Edit=function(){return e.RenderState=zs},this.EditOK=function(){return e.RenderState=Ys},this.Render=function(){return e.Render_Dict.GetRender(e.RenderState).Render(e.Content,e)},this.OnSet_Ref_Func_Dict=[],this.Focus=function(){var t=function(){var t;null===(t=e.Ref_Element)||void 0===t||t.focus()};e.Ref?t():V(e.OnSet_Ref_Func_Dict,(function(){return t()}))},Object(l.k)(this,{content:l.l,placeholder:l.l,State:l.l,IsEditing:l.l,renderState:l.l,Is_Tool_Visible:l.l,Is_Edit_Visible:l.l,Is_OK_Visible:l.l,CanChange_RenderState:l.l})}return Object(o.a)(t,[{key:"Content",get:function(){return this.content},set:function(t){this.content=t,this.onSetContent&&this.onSetContent(t)}},{key:"Placeholder",set:function(t){this.placeholder=t}},{key:"Editor",get:function(){return this.editor||(this.editor=zr(this)),this.editor}},{key:"TitleFunc",get:function(){var t=this;return this.titleFunc||(this.titleFunc=function(){return t.Content}),this.titleFunc},set:function(t){this.titleFunc=t}},{key:"Render_Dict",get:function(){return this.render_Dict||(this.render_Dict=new Ur),this.render_Dict},set:function(t){this.render_Dict=t}},{key:"RenderState",get:function(){return this.renderState},set:function(t){this.CanChange_RenderState&&(this.Old_RenderState=this.RenderState,this.renderState=t,this.OnSet_RenderState_Func_Dict.forEach((function(t){return t.Value()})))}},{key:"Ref",get:function(){return this.ref},set:function(t){var e=this;this.ref=t,F(this.OnSet_Ref_Func_Dict,(function(t){return e.OnSet_Ref_Func_Dict=t}))}},{key:"Ref_Element",get:function(){if(!this.ref_Element){var t=this.Ref.current;t&&t.getEl&&(t=t.getEl()),this.ref_Element=t}return this.ref_Element}},{key:"View",get:function(){return Object(i.jsx)(Hr,{store:this})}}]),t}(),zr=function(t){var e=function(t,e){var n=new Gr;return n.InitialContent=t,n.PlaceHolder=e,n}(t.Content,t.Placeholder);return e.OnSetContent=function(e){return t.Content=e},e.OnKeyDown=t.OnKeyDown,e.IsHaveTool=!1,e},qr="enter",Xr=function(t,e,n){(!e||e())&&("edit"!==t.RenderState&&(t.RenderState="ready"),n&&n())},$r=function(t){"edit"!==t.RenderState&&(t.RenderState="default")},Qr=function(t,e,n){(!e||e())&&"default"===t.RenderState&&(t.RenderState="edit",n&&n())},Jr=function(t,e){t.RenderState="default",e&&e()},Zr=function(t,e,n){var i=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=new Yr;return i.Content=t,i.CanChange_RenderState=e,void 0===n&&(n=e),i.Is_Tool_Visible=n,i}(t[e]),s=function(){return Jr(i)};return i.Is_Tool_Visible=!1,i.OnKeyDown=function(t){var e=function(t){var e;return t.altKey&&13==t.keyCode?e="alt_enter":t.ctrlKey&&66==t.which?e="ctrl_b":t.ctrlKey&&73==t.which?e="ctrl_i":t.ctrlKey?e="ctrl":t.altKey?e="alt":13==t.keyCode?e=qr:9==t.keyCode?e="tab":8==t.keyCode?e="backspace":46==t.keyCode?e="del":27==t.keyCode&&(e="esc"),{key:e,value:t.key}}(t),n=e.key;e.value;switch(n){case qr:s();break;case"esc":i.IsEscape=!0,s()}},function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=S(),s=function(){e(),n&&C(t,i)};t.push({Key:i,Value:s})}(i.OnSet_RenderState_Func_Dict,(function(){if("default"===i.RenderState&&"edit"===i.Old_RenderState){var s=function(){n&&n()};if(i.IsEscape)return i.Content=t[e],i.IsEscape=!1,void s();if(i.Content===t[e])return void s();t[e]=i.Content,s()}}),!1),i},tc=function(t){return t.PickedDate_Moment?t.PickedDate_Moment.format(t.TextFormat):void 0},ec=function(){function t(){var e=this;Object(u.a)(this,t),this.IsFocus=void 0,this.PickType=Fs,this.pickedDate_Moment=void 0,this.Set_PickedDate=function(t){e.PickedDate_Moment=t,e.Set_ByInput?e.Set_ByInput=!1:e.PickedDate_TextVM.Content=tc(e)},this.Set_PickedDate_Text=function(t){var n=e.Temp_PickedDate_Text;return t===n||(e.PickedDate_TextVM.Content=n,!1)},this.Ready=function(){e.PreReady&&!e.PreReady()||e.PickedDate_TextVM.Ready()},this.NotReady=function(){e.PreNotReady&&!e.PreNotReady()||e.PickedDate_TextVM.NotReady()},this.Edit=function(){e.PreEdit&&!e.PreEdit()||e.PickedDate_TextVM.Edit()},this.EditOK=function(){e.PreEditOK&&!e.PreEditOK()||(e.IsFocus=!1,e.PickedDate_TextVM.EditOK())},Object(l.k)(this,{IsFocus:l.l,pickedDate_Moment:l.l})}return Object(o.a)(t,[{key:"RefData",get:function(){return this.refData||(this.refData=function(t){var e=Ts(t,"Input").value,n=Ts(t,"Calendar").value;return Ps(t,"Calendar",(function(n){Ns(n,e)&&(t.IsFocus=!1)})),t.ClickOutside&&Ps(t,"Calendar",(function(i){Ns(i,n)&&Ns(i,e)&&t.ClickOutside()})),t.Target_RefData}(this)),this.refData}},{key:"PickedDate",get:function(){return this.pickedDate||this.IsSet_PickedDate||(this.pickedDate=function(t){switch(t.PickType){case Fs:return new Date;case Ms:return Q()().startOf("week").add(1,"d").toDate()}}(this)),this.pickedDate},set:function(t){this.IsSet_PickedDate=!0,this.Calendar.CurrentDay=t?Q()(t):t}},{key:"PickedDate_Moment",get:function(){return this.pickedDate_Moment||(this.pickedDate_Moment=this.PickedDate?Q()(this.PickedDate):void 0),this.pickedDate_Moment},set:function(t){this.pickedDate_Moment=t;var e=this.pickedDate=t?t.toDate():t;this.OnSet_PickedDate&&this.OnSet_PickedDate(e),this.OnSetValue&&this.OnSetValue(e)}},{key:"TextFormat",get:function(){return this.textFormat||(this.textFormat=function(t){switch(t.PickType){case Fs:return"DD/MM/YYYY";case Ms:return"[T]W: DD/MM/YYYY"}}(this)),this.textFormat}},{key:"PickedDate_Text",get:function(){return this.pickedDate_Text||(this.pickedDate_Text=tc(this)),this.pickedDate_Text},set:function(t){this.Set_PickedDate_Text(t)&&(this.pickedDate_Text=t)}},{key:"PickedDate_TextVM",get:function(){return this.pickedDate_TextVM||(this.pickedDate_TextVM=function(t){t.Temp_PickedDate_Text=t.PickedDate_Text;var e=Zr(t,"PickedDate_Text");return e.IsDisabled="week"===t.PickType,e.Placeholder=t.Placeholder?t.Placeholder:"pick date",e.onSetContent=function(e){var n;if(e&&0!==e.length){if(!(n=Q()(e,["D/M/YYYY","D/MM/YYYY","DD/M/YYYY","DD/MM/YYYY"],!0))._isValid)return}else if(!t.IsAllowUndefined)return;t.Temp_PickedDate_Text=e,t.Set_ByInput=!0,t.Calendar.CurrentDay=n},e}(this)),this.pickedDate_TextVM}},{key:"Calendar",get:function(){return this.calendar||(this.calendar=function(t){var e=new Vs;return e.Dict=t,e.CurrentDay=t.PickedDate_Moment,e.OnSet_CurrentDay=function(e){return t.Set_PickedDate(e)},"week"===t.PickType&&(e.IsValid_SetCurrent=function(t){return 1===t.day()},e.PostDayCss=function(t,e){return 1===e.day()?"".concat(t," border"):t}),e}(this)),this.calendar}},{key:"View",get:function(){return Object(i.jsx)(ic,{store:this},this.id)}}]),t}(),nc=(n(409),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;if(s)i.state=s;else{var r=i.state=new ec;r.PickType="week",r.PickedDate_TextVM.RenderState="edit"}return i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Gs(this.state,"mount")}},{key:"componentWillUnmount",value:function(){Gs(this.state,"unmount")}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{ref:t.RefData.GetRef("Target"),children:Object(i.jsx)(gr.a,{content:Object(i.jsx)("div",{ref:t.RefData.GetRef("Calendar"),children:t.Calendar.View}),visible:t.IsFocus,placement:"bottomLeft",children:Object(i.jsx)("div",{ref:t.RefData.GetRef("Input"),className:"calendar__text",onClick:function(){"default"!==t.PickedDate_TextVM.RenderState&&(t.IsFocus=!0)},children:t.PickedDate_TextVM.View})})})})}}]),n}(s.Component)),ic=Object(fe.a)(nc),sc="plan",rc=function(t,e,n){Ad.instance.RouteData=[t||sc,n]},cc=function(){return Ad.Instance},ac=function(){return Is.Instance},uc=function(t){var e=new kr;e.TitleRender=function(t){return t.Name};var n=e.Items=[{_id:145,name:"taiht53641"},{_id:118,name:"tuandh52660"},{_id:3201,name:"hoavt59366"},{_id:117,name:"vydd52649"},{_id:124,name:"haitd54891"},{_id:2181,name:"thinhnn58700"},{_id:2184,name:"PhuongTL58230"},{_id:2191,name:"anhtt58996"},{_id:6281,name:"TuTH70473"},{_id:6293,name:"Quinv59195"},{_id:6295,name:"ToanNP70647"},{_id:6298,name:"DucTV70699"},{_id:6300,name:"PhapDQ70717"},{_id:6301,name:"ThiNT70503"}].map((function(t){return Nn(t)}));return e.OnSelectedItemChanged=function(t){return ac().UserDict.LoginUser=t},e.SetValue(n[0]),e},oc=function(t){var e,n=cc();switch(n.RouteData[0]){case sc:return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex mb-2",children:[Object(i.jsx)("div",{className:"ml-2 font-medium",children:n.UpdatedDate}),Object(i.jsx)("div",{className:"flex-1"}),Object(i.jsx)("div",{className:"w-40",children:t.UserSelect.View})]}),cc().ProjectDict.Select.View,Object(i.jsx)("div",{className:"mt-3",children:null===(e=cc().ProjectDict.CurrentItem)||void 0===e?void 0:e.ContentView})]})});case"report":return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex mb-2",children:[Object(i.jsx)("div",{className:"ml-2 font-medium",children:n.UpdatedDate}),Object(i.jsx)("div",{className:"flex-1"}),Object(i.jsx)("div",{className:"w-40",children:t.UserSelect.View})]}),cc().ReportGroup.View]});case"transfertask":return cc().ProjectDict.Test.Transfer_TaskDict.View;case"reportdata":return cc().ReportData_Dict.View;case"taskdata":return cc().TaskweekData_Dict.View;case"discipline":return cc().DisciplineGroup.View;case"test":return Object(i.jsx)(ic,{})}},hc=function(t){return ac().IsPublish?oc(t):Object(i.jsx)("div",{className:"m-10",children:oc(t)})},dc=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}}]),t}(),lc=function(t){return function(t){var e=new js;return e.Dict=t,e}(t)},fc=function(t){return function(t){var e=new Os;return e.Dict=t,e}(t)},mc=function(t){return function(t){var e=new dc;return e.Dict=t,e}(t)},Ic=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"Binding",get:function(){return this.binding||(this.binding=Zc(this)),this.binding}},{key:"View",get:function(){return ta(this)}}]),t}(),pc=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"DisciplineDict",get:function(){return this.disciplineDict||(this.disciplineDict=Xc(this)),this.disciplineDict}},{key:"BIMUseDict",get:function(){return this.bimuseDict||(this.bimuseDict=$c(this)),this.bimuseDict}},{key:"CategoryDict",get:function(){return this.categoryDict||(this.categoryDict=Qc(this)),this.categoryDict}},{key:"View",get:function(){return Jc(this)}}]),t}(),vc=(n(410),function(){function t(){var e=this;Object(u.a)(this,t),this.SetCurrent=function(){var t=e.Dict;t.CurrentItem===e?t.CurrentItem=void 0:t.CurrentItem=e},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name}},{key:"BIMUse_BindingDict",get:function(){return this.ModelItem.BIMUse_BindingDict}},{key:"Css",get:function(){return this===this.Dict.CurrentItem?"bg-[#52c41a90] text-white font-medium":""}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=bc(this)),this.deleteVM}},{key:"View",get:function(){return _c(this)}}]),t}()),kc=function(t,e){var n=new vc;return n.ModelItem=t,n.Dict=e,n},bc=function(t){var e=new Fr;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},_c=function(t){return Object(i.jsxs)("tr",{className:"my-2 flex items-center ".concat(t.Css),children:[Object(i.jsx)("td",{className:"w-6 py-1 mr-2 h-3 cursor-pointer bg-[#52c41a90]",onClick:t.SetCurrent}),Object(i.jsx)("td",{children:t.Name})]},t.id)},jc=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=kc(t,e);return e.Items.push(n),n},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Oc(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return t.View}))}},{key:"View",get:function(){return Object(i.jsx)("div",{children:Object(i.jsx)("table",{children:Object(i.jsx)("tbody",{children:this.ItemsView})})})}}]),t}(),Oc=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return kc(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},gc=n(431),Dc=n(432),yc=function(){function t(){var e=this;Object(u.a)(this,t),this.Select=function(){Mc(e)},this.Unselect=function(){Rc(e)},this.SetCurrent=function(){var t=e.BindingDict;e.IsCurrent?t.CurrentItem=void 0:t.CurrentItem=e.BindingItem},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name}},{key:"InDiscipline",get:function(){return Vc(this)}},{key:"BindingDict",get:function(){return xc(this)}},{key:"BindingItem",get:function(){return Cc(this)}},{key:"CanSelect",get:function(){return Fc(this)}},{key:"Css",get:function(){return this.IsCurrent?"bg-[#52c41a90] text-white font-medium":""}},{key:"IsCurrent",get:function(){var t=this.BindingDict;return t&&t.CurrentItem&&t.CurrentItem===this.BindingItem}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Sc(this)),this.deleteVM}},{key:"View",get:function(){return Tc(this)}}]),t}(),wc=function(t,e){var n=new yc;return n.ModelItem=t,n.Dict=e,n},Sc=function(t){var e=new Fr;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},xc=function(t){var e;return null===(e=t.Dict.Dict.DisciplineDict.CurrentItem)||void 0===e?void 0:e.BIMUse_BindingDict},Cc=function(t){return T(t.BindingDict.Items,(function(e){return e.bimuseId===t.id}))},Vc=function(t){var e,n;1===t.Index&&console.log(null===(n=t.BindingDict)||void 0===n?void 0:n.Ids);return null===(e=t.BindingDict)||void 0===e?void 0:e.Ids.includes(t.id)},Fc=function(t){return t.Dict.Dict.DisciplineDict.CurrentItem},Mc=function(t){var e={disciplineId:t.Dict.Dict.DisciplineDict.CurrentItem.id,bimuseId:t.id};t.BindingDict.AddItem(e)},Rc=function(t){t.BindingItem.Delete()},Tc=function(t){return Object(i.jsxs)("tr",{className:"".concat(t.Css),children:[Object(i.jsx)("td",{className:"py-2 pr-2",children:Object(i.jsx)("div",{className:"w-6 h-3 cursor-pointer bg-[#52c41a90]\n        ".concat(t.InDiscipline?"":"invisible"),onClick:t.SetCurrent})}),Object(i.jsx)("td",{children:Object(i.jsx)("span",{className:"".concat(t.InDiscipline?"":"text-gray-300"),children:t.Name})}),Object(i.jsx)("td",{children:t.CanSelect&&!t.IsCurrent?t.InDiscipline?Object(i.jsx)("div",{className:"cursor-pointer text-[#ff4d4f]",onClick:t.Unselect,children:Object(i.jsx)(Dc.a,{})}):Object(i.jsx)("div",{className:"cursor-pointer text-[#1890ff]",onClick:t.Select,children:Object(i.jsx)(gc.a,{})}):""})]},t.id)},Nc=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=wc(t,e);return e.Items.push(n),n},this.OnSet_CurrentItem_Func=[],this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Pc(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return t.View}))}},{key:"View",get:function(){return Object(i.jsx)("div",{children:Object(i.jsx)("table",{className:"w-full",children:Object(i.jsx)("tbody",{children:this.ItemsView})})})}}]),t}(),Pc=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return wc(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Gc=function(){function t(){var e=this;Object(u.a)(this,t),this.Select=function(){Kc(e)},this.Unselect=function(){Hc(e)},this.SetCurrent=function(){var t=e.BindingDict;e.IsCurrent?t.CurrentItem=void 0:t.CurrentItem=e.BindingItem},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name}},{key:"InBIMUse",get:function(){return Ec(this)}},{key:"BindingDict",get:function(){return Bc(this)}},{key:"BindingItem",get:function(){return Lc(this)}},{key:"CanSelect",get:function(){return Uc(this)}},{key:"Css",get:function(){return this.IsCurrent?"bg-[#52c41a90] text-white font-medium":""}},{key:"IsCurrent",get:function(){var t=this.BindingDict;return t&&t.CurrentItem&&t.CurrentItem===this.BindingItem}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Wc(this)),this.deleteVM}},{key:"View",get:function(){return Yc(this)}}]),t}(),Ac=function(t,e){var n=new Gc;return n.ModelItem=t,n.Dict=e,n},Wc=function(t){var e=new Fr;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},Bc=function(t){var e,n;return null===(e=t.Dict.Dict.DisciplineDict.CurrentItem)||void 0===e||null===(n=e.BIMUse_BindingDict.CurrentItem)||void 0===n?void 0:n.Category_BindingDict},Lc=function(t){return T(t.BindingDict.Items,(function(e){return e.categoryId===t.id}))},Ec=function(t){var e;return null===(e=t.BindingDict)||void 0===e?void 0:e.Ids.includes(t.id)},Uc=function(t){var e;return null===(e=t.Dict.Dict.DisciplineDict.CurrentItem)||void 0===e?void 0:e.BIMUse_BindingDict.CurrentItem},Kc=function(t){var e,n=null===(e=t.Dict.Dict.DisciplineDict.CurrentItem)||void 0===e?void 0:e.BIMUse_BindingDict.CurrentItem,i={disciplineId:n.disciplineId,bimuseId:n.bimuseId,categoryId:t.id};t.BindingDict.AddItem(i)},Hc=function(t){t.BindingItem.Delete()},Yc=function(t){return Object(i.jsxs)("tr",{className:"".concat(t.Css),children:[Object(i.jsx)("td",{className:"py-3 pr-2"}),Object(i.jsx)("td",{children:Object(i.jsx)("span",{className:"".concat(t.InBIMUse?"":"text-gray-300"),children:t.Name})}),Object(i.jsx)("td",{children:t.CanSelect&&!t.IsCurrent?t.InBIMUse?Object(i.jsx)("div",{className:"cursor-pointer text-[#ff4d4f]",onClick:t.Unselect,children:Object(i.jsx)(Dc.a,{})}):Object(i.jsx)("div",{className:"cursor-pointer text-[#1890ff]",onClick:t.Select,children:Object(i.jsx)(gc.a,{})}):""})]},t.id)},zc=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=Ac(t,e);return e.Items.push(n),n},this.OnSet_CurrentItem_Func=[],this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||qc(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return t.View}))}},{key:"View",get:function(){return Object(i.jsx)("div",{children:Object(i.jsx)("table",{className:"w-full",children:Object(i.jsx)("tbody",{children:this.ItemsView})})})}}]),t}(),qc=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Ac(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Xc=function(t){return function(t,e){var n=new jc;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.DisciplineDict,t)},$c=function(t){return function(t,e){var n=new Nc;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.BIMUseDict,t)},Qc=function(t){return function(t,e){var n=new zc;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.CategoryDict,t)},Jc=function(t){return Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"px-5",children:Object(i.jsxs)("div",{className:"w-56",children:[Object(i.jsx)("div",{className:"ml-4 text-lg font-medium",children:"Discipine"}),Object(i.jsx)("div",{className:"mt-3",children:t.DisciplineDict.View})]})}),Object(i.jsx)("div",{className:"px-5",children:Object(i.jsxs)("div",{className:"w-64",children:[Object(i.jsx)("div",{className:"ml-4 text-lg font-medium",children:"BIM Use"}),Object(i.jsx)("div",{className:"mt-3",children:t.BIMUseDict.View})]})}),Object(i.jsx)("div",{className:"px-5",children:Object(i.jsxs)("div",{className:"w-80",children:[Object(i.jsx)("div",{className:"ml-4 text-lg font-medium",children:"H\u1ea1ng m\u1ee5c"}),Object(i.jsx)("div",{className:"mt-3 overflow-y-scroll category__items",children:t.CategoryDict.View})]})})]})},Zc=function(t){return function(t,e){var n=new pc;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Binding,t)},ta=function(t){return Object(i.jsx)(i.Fragment,{children:t.Binding.View})},ea=(n(411),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new _h,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"",children:"Ti\xeau \u0111\u1ec1"}),Object(i.jsx)("th",{className:"w-12"})]})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return t.RowView}))})]})})}}]),n}(s.Component)),na=Object(fe.a)(ea),ia=function(){function t(){var e=this;Object(u.a)(this,t),this.ViewMode="plan",this.OnSet_Plan_Func=[],this.plan=void 0,this.OnSet_Task_Func=[],this.task=void 0,this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{ViewMode:l.l,plan:l.l,task:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Name",get:function(){return this.ModelItem.Name}},{key:"Plan",get:function(){return this.plan||vh(this),this.plan},set:function(t){var e=this;this.plan=t,F(this.OnSet_Plan_Func,(function(t){return e.OnSet_Plan_Func=t}))}},{key:"Task",get:function(){return this.task||kh(this),this.task},set:function(t){var e=this;this.task=t,F(this.OnSet_Task_Func,(function(t){return e.OnSet_Task_Func=t}))}},{key:"IsOwner",get:function(){return this.ModelItem.IsOwner}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=ph(this)),this.deleteVM}},{key:"ContentView",get:function(){return bh(this)}}]),t}(),sa=function(){function t(){var e=this;Object(u.a)(this,t),this.Save=function(t){e.ModelItem.Save(t)},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"View",get:function(){return mh(this)}},{key:"TaskDict",get:function(){return this.taskDict||(this.taskDict=fh(this)),this.taskDict}},{key:"IsPlan",get:function(){return this.ModelItem.IsPlan}}]),t}(),ra=n(433),ca=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Bo,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",style:e.TableStyle,children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef] sticky top-10",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{width:"45"}),Object(i.jsx)(gr.a,{trigger:"click",content:e.ParameterSelectView,placement:"bottomLeft",children:Object(i.jsx)("th",{className:" cursor-pointer text-left",width:"152",children:Object(i.jsxs)("div",{className:"pl-3 flex items-center",children:[Object(i.jsx)("div",{children:"Status | Columns"}),Object(i.jsx)("div",{className:"ml-2",children:Object(i.jsx)(ra.a,{})})]})})}),e.Columns.map((function(t){return t.View}))]})}),Object(i.jsx)("tbody",{className:"",children:null===(t=e.AllItems)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),aa=Object(fe.a)(ca),ua=n(442),oa=n(443),ha=function(){function t(){var e=this;Object(u.a)(this,t),this.GetField=function(t){return T(e.Fields,(function(e){return e.Key===t}))},this.GetValue=function(t){return e.GetField(t).Value},this.is_SetPlanwork_ByDuration=void 0,this.RefreshPlanwork=function(){co(e)},this.RefreshDate=function(){mo(e)},this.RefreshDuration=function(){Io(e)},this.DependedTasks=[],this.GetInfo=function(t){return vo(e,t)},this.RefreshInfo=function(t){ko(e,t)},this.supItem=void 0,this.GetSup=function(t){return No(e,t)},this.IsShowSub=!1,this.SetCurrent=function(t){if(!e.IsNew&&e.ModelItem.IsOwner){var n=e.Dict.CurrentItems;n.includes(e)?n.splice(n.indexOf(e),1):n.push(e)}},this.Insert=function(t,n){Mo(e,t,n)},this.ForceSave=function(t){e.ModelItem.ForceSave(t)},this.Save=function(t){Ro(e,t)},this.Delete=function(){no(e),e.ModelItem.Delete()},this.MoveUp=function(){if(e.IsValid_MoveUp){var t=e.CurrentList,n=t.indexOf(e),i=e,s=t[n-1];e.Dict.Move(i,s)}},this.MoveDown=function(){if(e.IsValid_MoveDown){var t=e.CurrentList,n=t.indexOf(e),i=e,s=t[n+1];e.Dict.Move(i,s)}},Object(l.k)(this,{supItem:l.l,IsShowSub:l.l,is_SetPlanwork_ByDuration:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"_id",get:function(){return this.ModelItem._id}},{key:"IsNew",get:function(){return this.ModelItem.IsNew}},{key:"Fields",get:function(){return this.fields||(this.fields=io(this)),this.fields}},{key:"Td_Fields",get:function(){return so(this)}},{key:"Is_SetPlanwork_ByDuration",get:function(){return void 0===this.is_SetPlanwork_ByDuration&&(this.is_SetPlanwork_ByDuration=this.ModelItem.Is_SetPlanwork_ByDuration),this.is_SetPlanwork_ByDuration},set:function(t){this.is_SetPlanwork_ByDuration=t,this.ModelItem.Is_SetPlanwork_ByDuration=t,t||this.ModelItem.Save()}},{key:"Planwork",get:function(){return ro(this)}},{key:"BaselineWork",get:function(){return this.ModelItem.BaselineWork}},{key:"StartDate",get:function(){return ao(this)}},{key:"Depened_StartDate",get:function(){return uo(this)}},{key:"DepenedDict_StartDate",get:function(){return oo(this)}},{key:"CanInput_StartDate",get:function(){return ho(this)}},{key:"FinishDate",get:function(){return lo(this)}},{key:"CanInput_EndDate",get:function(){return fo(this)}},{key:"BaselineFinish",get:function(){return this.ModelItem.BaselineFinish}},{key:"IsOwner",get:function(){return this.ModelItem.IsOwner}},{key:"IsManage",get:function(){return this.ModelItem.IsManage}},{key:"IsAssign",get:function(){return this.ModelItem.IsAssign}},{key:"PredecessorData",get:function(){return this.predecessorData||(this.predecessorData=po(this)),this.predecessorData}},{key:"IsValidLink",get:function(){return this.ModelItem.IsValidLink}},{key:"Status",get:function(){return this.status||(this.status=bo(this)),this.status}},{key:"ReportDict",get:function(){return this.reportDict||(this.reportDict=_o(this)),this.reportDict}},{key:"CanOutdent",get:function(){return jo(this)}},{key:"SupItem",get:function(){return void 0===this.supItem&&Oo(this),this.supItem},set:function(t){this.supItem=t,this.StopPropagation?this.StopPropagation=!1:(this.ModelItem.SupItem=null===t||void 0===t?void 0:t.ModelItem,this.RefreshInfo(),t&&(t.RefreshDate(),t.RefreshPlanwork()))}},{key:"SupList",get:function(){return go(this)}},{key:"ToggleSub_View",get:function(){return Do(this)}},{key:"SubItems",get:function(){return yo(this)}},{key:"NotSup_Items",get:function(){return wo(this)}},{key:"AllItems",get:function(){return So(this)}},{key:"RowCount",get:function(){return xo(this)}},{key:"CurrentList",get:function(){return Co(this)}},{key:"Rank",get:function(){return Vo(this)}},{key:"IsVisible_ByUser",get:function(){return this.ModelItem.IsVisible}},{key:"IsVisible_BySup",get:function(){return!this.SupItem||this.SupItem.IsVisible_BySup&&this.SupItem.IsShowSub}},{key:"Css",get:function(){return Fo(this)}},{key:"Index",get:function(){return this.Dict.SavedItems.indexOf(this)}},{key:"NewIndex",get:function(){return this.Dict.NewItems.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=eo(this)),this.deleteVM}},{key:"IsValid_MoveUp",get:function(){return this.IsOwner&&0!==this.CurrentList.indexOf(this)}},{key:"IsValid_MoveDown",get:function(){return this.IsOwner&&this.CurrentList.indexOf(this)!==this.CurrentList.length-1}},{key:"View",get:function(){return Go(this)}},{key:"Indent_View",get:function(){return Po(this)}},{key:"TaskView",get:function(){return Ao(this)}},{key:"ReportView",get:function(){return Wo(this)}}]),t}(),da=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ha,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[t.TaskView,t.ReportView]})}}]),n}(s.Component),la=Object(fe.a)(da),fa=(n(412),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n),(i=e.call(this,t)).onCheckedChange=function(t){var e=i.state,n=t.target.checked;e.OnCheckChanging&&e.OnCheckChanging(n),e.Cancel||(e.Ischecked=n)};var s=i.props.store;return i.state=s||function(t,e){var n=new Ia;return n.ischecked=e,n.name=t,n}(!1),i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.ischecked,n=t.name,s=t.isDisabled,r=this.props.className,c=this.props.style;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("label",{className:"checkbox__wrapper ".concat(r),style:c,children:[Object(i.jsx)("input",{type:"checkbox",checked:e,onChange:this.onCheckedChange,disabled:s}),Object(i.jsx)("span",{className:"checkbox__title",children:n})]})})}}]),n}(s.Component)),ma=Object(fe.a)(fa),Ia=function(){function t(){Object(u.a)(this,t),this.Cancel=!1,this.ischecked=void 0,this.isDisabled=!1,Object(l.k)(this,{ischecked:l.l,isDisabled:l.l,Cancel:l.l})}return Object(o.a)(t,[{key:"Name",get:function(){return this.name},set:function(t){this.name=t}},{key:"Ischecked",set:function(t){this.ischecked=t,this.onCheckChanged&&this.onCheckChanged(t),this.OnCheckChanged&&this.OnCheckChanged(t)}},{key:"IsDisabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t}},{key:"View",get:function(){return Object(i.jsx)(ma,{store:this})}}]),t}(),pa=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ka,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Gs(this.state,"mount")}},{key:"componentWillUnmount",value:function(){Gs(this.state,"unmount")}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{ref:t.RefData.GetRef("Target"),onClick:function(e){t.Edit(),e.stopPropagation()},children:t.ValueVM.View})})}}]),n}(s.Component),va=Object(fe.a)(pa),ka=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.Ready=function(){e.PreReady&&!e.PreReady()||Xr(e.ValueVM)},this.NotReady=function(){e.PreNotReady&&!e.PreNotReady()||$r(e.ValueVM)},this.Edit=function(){e.PreEdit&&!e.PreEdit()||Qr(e.ValueVM)},this.EditOK=function(){e.PreEditOK&&!e.PreEditOK()||(Jr(e.ValueVM),e.PostEditOK&&e.PostEditOK())}}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Key_id",get:function(){return this.Key?this.Key:this.id}},{key:"RefData",get:function(){return this.refData||(this.refData=_a(this)),this.refData},set:function(t){this.refData=t}},{key:"ValueGet",get:function(){return this.valueGet||(this.valueGet=ja(this)),this.valueGet},set:function(t){this.valueGet=t}},{key:"ValueSet",get:function(){return this.valueSet||(this.valueSet=Oa(this)),this.valueSet},set:function(t){this.valueSet=t}},{key:"Value",get:function(){return this.ValueGet()},set:function(t){if(this.RefineValue){if(!this.IsRefinedValue)return this.IsRefinedValue=!0,void(this.ValueVM.Content=this.RefineValue(t));this.IsRefinedValue=!1}this.ValueSet(t),this.OnSetValue&&this.OnSetValue(t)}},{key:"ValueVM",get:function(){if(!this.valueVM){var t=this.valueVM=Zr(this,"Value",this.ValueSet_OK);t.InputRegex=this.InputRegex,this.ValueVM_Render&&this.ValueVM_Render(t)}return this.valueVM}},{key:"OnEdit",get:function(){return"edit"===this.ValueVM.RenderState}},{key:"ViewRender",get:function(){return this.viewRender||(this.viewRender=ga(this)),this.viewRender},set:function(t){this.viewRender=t}},{key:"View",get:function(){return this.ViewRender()}},{key:"WrapperView",get:function(){return Da(this)}}]),t}(),ba=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",s=new ka;return s.ValueGet=t,s.ValueSet=e,s.ValueSet_OK=n,s.ValueVM.State=i,s},_a=function(t){return Ps(t,"Target",(function(e){t.EditOK()})),t.Target_RefData},ja=function(t){return t.value},Oa=function(t,e){return t.value=e},ga=function(t){return function(){return Object(i.jsx)(va,{store:t},t.Key_id)}},Da=function(t){return Object(i.jsx)("div",{onMouseEnter:t.Ready,onMouseLeave:t.NotReady,onDoubleClick:t.Edit,children:t.View},t.id)},ya=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.RenderState="default",this.SetItems=function(t,n){var i=e.ValueVM;return n&&(i.TitleRender=n),i.Items=t,i.InitialItem=e.Value,i},this.Ready=function(){e.PreReady&&!e.PreReady()||"edit"!==e.RenderState&&(e.RenderState="ready")},this.NotReady=function(){e.PreNotReady&&!e.PreNotReady()||"edit"!==e.RenderState&&(e.RenderState="default")},this.Edit=function(){e.PreEdit&&!e.PreEdit()||(e.RenderState="edit")},this.EditOK=function(){e.PreEditOK&&!e.PreEditOK()||(e.RenderState="default")},Object(l.k)(this,{RenderState:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Key_id",get:function(){return this.Key?this.Key:this.id}},{key:"ValueGet",get:function(){return this.valueGet||(this.valueGet=xa(this)),this.valueGet},set:function(t){this.valueGet=t}},{key:"ValueSet",get:function(){return this.valueSet||(this.valueSet=Ca(this)),this.valueSet},set:function(t){this.valueSet=t}},{key:"Value",get:function(){return this.ValueGet()},set:function(t){this.ValueSet(t),this.OnSetValue&&this.OnSetValue(t)}},{key:"ValueVM",get:function(){if(!this.valueVM){var t=this.valueVM=Va(this);this.ValueVM_Render&&this.ValueVM_Render(t)}return this.valueVM}},{key:"ViewRender",get:function(){return this.viewRender||(this.viewRender=Fa(this)),this.viewRender},set:function(t){this.viewRender=t}},{key:"View",get:function(){return this.ViewRender()}}]),t}(),wa=(n(413),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ya,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){Gs(this.state,"mount")}},{key:"componentWillUnmount",value:function(){Gs(this.state,"unmount")}},{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"fieldselect__wrapper",children:"default"===e.RenderState?Object(i.jsx)("div",{className:"view",children:null===(t=e.ValueVM.SelectedItem)||void 0===t?void 0:t.Name}):Object(i.jsx)("div",{className:"edit",children:e.ValueVM.View})})})}}]),n}(s.Component)),Sa=Object(fe.a)(wa),xa=function(t){return t.value},Ca=function(t,e){return t.value=e},Va=function(t){var e=new kr;return e.OnSetOpen=function(e){e?t.Edit():t.RenderState="ready"},e.Placeholder=t.Placeholder?t.Placeholder:"select",e.OnSelectedItemChanged=function(e){return t.Value=e},e},Fa=function(t){return function(){return Object(i.jsx)(Sa,{store:t},t.Key_id)}},Ma=n(434),Ra=n(213),Ta=function(){function t(){Object(u.a)(this,t),this.isValid=!0,this.Message=void 0,Object(l.k)(this,{isValid:l.l,Message:l.l})}return Object(o.a)(t,[{key:"IsValid_Render",get:function(){var t;return this.isValid_Render||(this.isValid_Render=(t=this,function(){return t.isValid})),this.isValid_Render},set:function(t){this.isValid_Render=t}},{key:"IsValid",get:function(){return this.IsValid_Render(this)},set:function(t){this.isValid=t}},{key:"View",get:function(){return(t=this).IsValid?void 0:Object(i.jsx)(Ra.a,{title:t.Message,children:Object(i.jsx)("div",{className:"text-[#ff4d4f]",children:Object(i.jsx)(Ma.a,{})})});var t}}]),t}(),Na=function(){function t(){var e=this;Object(u.a)(this,t),this.items=void 0,this.Ready=function(){return Xr(e.ItemsStringVM)},this.NotReady=function(){return $r(e.ItemsStringVM)},this.Edit=function(){return Qr(e.ItemsStringVM)},this.EditOK=function(){return Jr(e.ItemsStringVM)},this.Validate=function(t){Ua(e,t)},Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"InvalidIndice",get:function(){return Ga(this)}},{key:"RefData",get:function(){return this.refData||(this.refData=Pa(this)),this.refData},set:function(t){this.refData=t}},{key:"Items",get:function(){return this.items||Aa(this),this.items},set:function(t){this.items=t,this.ModelItem.Items=t,this.IsValidated=!0,this.ItemsStringVM.Content=Wa(this),this.IsValidated=!1,this.OnHandle_Items?this.OnHandle_Items=!1:0!==t.length&&this.Dict.RefreshDate()}},{key:"ItemsString",get:function(){return this.itemsString},set:function(t){this.IsValidated?this.itemsString=t:this.Validate(t)}},{key:"ItemsStringVM",get:function(){return this.itemsStringVM||(this.itemsStringVM=Ba(this)),this.itemsStringVM}},{key:"StartDate",get:function(){return La(this)}},{key:"FinishDate",get:function(){return Ea(this)}},{key:"View",get:function(){return Object(i.jsx)("div",{ref:this.RefData.GetRef("Target"),children:this.ItemsStringVM.View})}}]),t}(),Pa=function(t){return Ps(t,"Target",(function(e){t.EditOK()})),Gs(t,"mount"),t.Target_RefData},Ga=function(t){var e=t.Dict,n=[e.Index];return n.push.apply(n,e.SupList.map((function(t){return t.Index}))),n},Aa=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){var n=e;t.OnHandle_Items=!0,t.Items=t.ModelItem.Data.map((function(e){var i=T(n,(function(t){return t.id===e._id}));return Y({task:i,type:e.type},t)})),t.IsGet_Items=!1},n=t.Dict.Dict;n.SavedItems?e(n.SavedItems):V(n.OnSet_SavedItems_Func,(function(){return e(n.SavedItems)}))}},Wa=function(t){return t.Items.map((function(t){return t.AsString()})).join(",")},Ba=function(t){var e=Zr(t,"ItemsString");return e.Placeholder="predecessor",e},La=function(t){var e;if(e=t.Items)return 0!==(e=e.map((function(t){return t.StartDate})).filter((function(t){return t}))).length?Q.a.max(e.map((function(t){return Q()(t)}))).toDate():void 0},Ea=function(t){var e;if(e=t.Items)return 0!==(e=e.map((function(t){return t.FinishDate})).filter((function(t){return t}))).length?Q.a.min(e.map((function(t){return Q()(t)}))).toDate():void 0},Ua=function(t,e){var n=e.match(/\b\d+(FS)?(SS)?(FF)?(SF)?\b/g),i=t.Dict;t.Items.map((function(t){return t.Task})).forEach((function(t){var e=t.DependedTasks;e.splice(e.indexOf(i),1)}));var s=t.Dict.Dict.SavedItems,r=n?n.map((function(t){var e=t.match(/\d+|[FS]+/g);return{index:Number.parseInt(e[0])-1,type:2===e.length?e[1]:"FS"}})).filter((function(e){var n=e.index;return n<s.length&&!t.InvalidIndice.includes(n)})):[];t.Items=r.map((function(e){return Y({task:s[e.index],type:e.type},t)}))},Ka=n(435),Ha=n(436),Ya=n(437),za=n(438),qa=n(439),Xa=function(){function t(){var e=this;Object(u.a)(this,t),this.Is_ShowReport=!1,this.AddReport=function(){var t=e.Task;e.ReportMessage?k.b.warn(e.ReportMessage):t.ReportDict.AddItem()},Object(l.k)(this,{Is_ShowReport:l.l})}return Object(o.a)(t,[{key:"Task",get:function(){return this.Dict}},{key:"HaveReports",get:function(){var t=this.Task.ReportDict.Items;return t&&0!==t.length}},{key:"IsValid_AddReport",get:function(){var t=this.Task;if(t.IsNew)return!1;if(0!==t.SubItems.length)return this.ReportMessage="Kh\xf4ng th\u1ec3 report Task cha",!1;var e=t.ModelItem.Planwork;if(0===e)return this.ReportMessage="Planwork ph\u1ea3i kh\xe1c 0",!1;if(!t.ModelItem.assignId)return this.ReportMessage="Task ch\u01b0a \u0111\u01b0\u1ee3c Assign ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",!1;var n=t.ReportDict,i=n.Items;if(!i||n.ModelItem.SubmitWork===e)return this.ReportMessage="Planwork hi\u1ec7n \u0111ang b\u1eb1ng t\u1ed5ng s\u1ed1 SubmitWork trong Report",!1;if(0!==i.length&&"done"!==i[i.length-1].ModelItem.Status.State)return this.ReportMessage="Report tr\u01b0\u1edbc c\u1ee7a b\u1ea1n ch\u01b0a \u0111\u01b0\u1ee3c duy\u1ec7t",!1;return this.ReportMessage=void 0,!0}},{key:"AddReport_Css",get:function(){var t=this.Dict;return 0===t.SubItems.length&&t.ModelItem.IsAssign?this.IsValid_AddReport?"text-[#1890ff]":"text-gray-500":"invisible"}},{key:"View",get:function(){return $a(this)}}]),t}(),$a=function(t){var e=t.Task,n=e.ModelItem,s=e.GetField(Se);return Object(i.jsx)(i.Fragment,{children:e.IsNew?void 0:Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:t.Dict.ModelItem.IsOwner?"":"invisible",children:t.Dict.DeleteVM.View}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"ml-2 cursor-pointer ".concat(t.AddReport_Css," ").concat(t.Dict.IsNew?"invisible":""),onClick:t.AddReport,children:Object(i.jsx)(Ka.a,{})}),Object(i.jsx)("div",{className:"ml-2 cursor-pointer \n        ".concat((n.IsOwner||n.IsAssign)&&t.HaveReports?"":"invisible"),onClick:function(){return t.Is_ShowReport=!t.Is_ShowReport},children:Object(i.jsx)(Ha.a,{})})]}),Object(i.jsx)("div",{className:e.IsOwner?"":"invisible",children:Object(i.jsx)(gr.a,{trigger:"hover",onVisibleChange:function(t){t||s.EditOK()},content:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("div",{className:"w-72",onMouseEnter:s.Ready,onMouseLeave:s.NotReady,children:s.View}),e.IsValidLink?Object(i.jsx)("a",{target:"_blank",rel:"noreferrer",href:n.Link,children:Object(i.jsx)("div",{className:"border rounded p-2",children:"M\u1edf"})}):""]}),children:Object(i.jsx)("div",{className:"ml-2 cursor-pointer \n              ".concat(e.IsValidLink?"text-[#1890ff]":""),children:Object(i.jsx)(Ya.a,{})})})}),Object(i.jsxs)("div",{className:"ml-2 flex",children:[Object(i.jsx)("div",{className:"".concat(t.Task.IsValid_MoveUp?"cursor-pointer":"cursor-not-allowed text-gray-300"),onClick:t.Task.MoveUp,children:Object(i.jsx)(za.a,{})}),Object(i.jsx)("div",{className:"ml-1 ".concat(t.Task.IsValid_MoveDown?"cursor-pointer":"cursor-not-allowed text-gray-300"),onClick:t.Task.MoveDown,children:Object(i.jsx)(qa.a,{})})]})]})})},Qa=function(){function t(){var e=this;Object(u.a)(this,t),this.GetField=function(t){return T(e.Fields,(function(e){return e.Key===t}))},this.Is_ShowUpper=!1,this.Toggle_Upper=function(){e.Is_ShowUpper=!e.Is_ShowUpper},this.SetCurrent=function(){var t=e.Dict;t.CurrentItem===e?t.CurrentItem=void 0:t.CurrentItem=e},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete()},Object(l.k)(this,{Is_ShowUpper:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Fields",get:function(){return this.fields||(this.fields=Wu(this)),this.fields}},{key:"Td_Fields",get:function(){return Bu(this)}},{key:"IsValidLink",get:function(){return this.ModelItem.IsValidLink}},{key:"ApproveDict",get:function(){return this.approveDict||(this.approveDict=Eu(this)),this.approveDict}},{key:"Status",get:function(){return this.status||(this.status=Uu(this)),this.status}},{key:"IsOwner",get:function(){return this.ModelItem.IsOwner}},{key:"InTask",get:function(){return this.Dict.InTask}},{key:"IsReadOnly",get:function(){return this.Dict.IsReadOnly}},{key:"IsTemp",get:function(){return this.ModelItem.IsTemp}},{key:"IsShow",get:function(){return this.InTask||this.IsReadOnly||"draft"===this.Status.ModelItem.State||this.Is_ShowUpper}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Lu(this)),this.deleteVM}},{key:"Group",get:function(){return this.Dict.Group}},{key:"ViewState",get:function(){return this.Dict.ViewState}},{key:"ViewLevel",get:function(){return this.Dict.ViewLevel}},{key:"View",get:function(){return Ku(this)}},{key:"BaseView",get:function(){return Hu(this)}},{key:"ApproveView",get:function(){return Yu(this)}},{key:"ReviewBy_View",get:function(){return zu(this)}}]),t}(),Ja=(n(414),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Qa,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsxs)(i.Fragment,{children:[t.IsShow?t.BaseView:void 0,t.IsReadOnly?void 0:t.ApproveView]})}}]),n}(s.Component)),Za=Object(fe.a)(Ja),tu="week",eu="submitwork",nu="actualwork",iu="assessment",su="note",ru="rebarweight",cu="onwer",au="link",uu=function(){return[tu,eu,nu,iu,su,ru,au]},ou=function(t){var e;switch(t){case tu:e="Week";break;case eu:e="Submit";break;case nu:e="Actual";break;case iu:e="Assessment";break;case su:e="Note";break;case ru:e="Rebar (kg)";break;case cu:e="Responsible by";break;case au:e="Link"}return e},hu=function(t){var e;switch(t){case tu:e="week";break;case eu:e="submit";break;case nu:e="actual";break;case iu:e="assessment";break;case su:e="l\u01b0u \xfd";break;case ru:e="rebar kg"}return e},du=function(){function t(){var e=this;Object(u.a)(this,t),this.GetField=function(t){return T(e.Fields,(function(e){return e.Key===t}))},this.Save=function(t){e.ModelItem.Save(t)},this.Delete=function(){e.CurrentList.splice(e.Index,1),e.ModelItem.Delete((function(){if(!e.InTask){var t=e.Dict.Dict;e.Group.Update({level:t.ModelItem.currentApproveLevel,report:t})}}))},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Fields",get:function(){return this.fields||(this.fields=wu(this)),this.fields}},{key:"Level",get:function(){return this.ModelItem.Level}},{key:"Status",get:function(){return this.status||(this.status=xu(this)),this.status}},{key:"InReport",get:function(){return this.Dict.InReport}},{key:"InTask",get:function(){return this.Dict.InTask}},{key:"IsCurrent",get:function(){return this.Index===this.CurrentList.length-1}},{key:"IsShow",get:function(){return this.InTask||this.IsCurrent||this.Dict.Is_ShowUpper}},{key:"Group",get:function(){return this.Dict.Dict.Group}},{key:"CurrentList",get:function(){return this.Dict.Items}},{key:"Index",get:function(){return this.CurrentList.indexOf(this)}},{key:"DeleteVM",get:function(){return this.deleteVM||(this.deleteVM=Su(this)),this.deleteVM}},{key:"View",get:function(){return Cu(this)}},{key:"RowView",get:function(){return Vu(this)}}]),t}(),lu="startdate",fu="finishdate",mu="submitwork",Iu="actualwork",pu="assessment",vu="note",ku="rebarweight",bu=function(){return[mu,Iu,pu,vu,ku]},_u=function(t){var e;switch(t){case lu:e="Start";break;case fu:e="Finish";break;case mu:e="Submit";break;case Iu:e="Actual";break;case pu:e="Assessment";break;case vu:e="Note";break;case ku:e="Rebar (kg)"}return e},ju=function(t){var e;switch(t){case lu:case fu:e="w-14";break;default:e="w-12"}return"".concat(e)},Ou=n(440),gu=function(){function t(){var e=this;Object(u.a)(this,t),this.Get_StateCss=function(t){return t===e.State?"":"invisible"},this.Send=function(){var t=e.Dict;if(t.ModelItem.IsOwner){var n=t.Dict,i=n.Dict,s=0,r=function(){3===++s&&(e.InTask||e.Group.Update({level:i.ModelItem.currentApproveLevel,report:i}))};if("project"!==e.Dict.Level)n.AddItem(r);else[mu,Iu,pu,vu,ku].forEach((function(e){var n=i.GetField(e);n.ValueVM.Content=t.GetField(e).ValueVM.Content,n.EditOK()})),r();i.ModelItem.Status.Up(),i.Save(r),e.State=st,t.Save(r)}},Object(l.k)(this,{})}return Object(o.a)(t,[{key:"State",get:function(){return this.ModelItem.State},set:function(t){this.ModelItem.State=t}},{key:"InReport",get:function(){return this.Dict.InReport}},{key:"InTask",get:function(){return this.Dict.InTask}},{key:"Group",get:function(){return this.Dict.Group}},{key:"DeleteCss",get:function(){return this.Dict.ModelItem.IsOwner&&this.State===it?"":"invisible"}},{key:"View",get:function(){return Du(this)}}]),t}(),Du=function(t){return Object(i.jsxs)("div",{className:"flex",children:[t.Dict.DeleteVM.View,Object(i.jsxs)("div",{className:"ml-2 flex",children:[Object(i.jsx)("div",{className:"cursor-pointer ".concat(t.Get_StateCss(it)),onClick:t.Send,children:Object(i.jsx)(Ou.a,{})}),t.InReport?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"ml-1 cursor-pointer ".concat(t.Get_StateCss(st)),children:Object(i.jsx)(gc.a,{})})}):""]}),Object(i.jsx)("div",{className:"cursor-pointer ".concat("draft"===t.State?"":"invisible"),onClick:t.Dict.Dict.Dict.Toggle_Upper,children:Object(i.jsx)(Ha.a,{})})]})},yu=function(t,e){var n=new du;return n.ModelItem=t,n.Dict=e,n},wu=function(t){var e=bu(),n=t.ModelItem,i=[];return e.forEach((function(e,s){var r,c=function(t){var e;switch(t){case lu:e="StartDate";break;case fu:e="FinishDate";break;case mu:e="SubmitWork";break;case Iu:e="ActualWork";break;case pu:e="Assessment";break;case vu:e="Note";break;case ku:e="RebarWeight"}return e}(e),a=function(){return t.ModelItem.IsOwner&&"draft"===t.Status.State};(r=ba((function(){return n[c]}),(function(t){n[c]=t}),t.Save)).PreReady=a,r.PreEdit=a,r.Key=e,i.push(r)})),i},Su=function(t){var e=new Fr;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.Status.DeleteCss),onClick:e.Show_Hover,children:Object(i.jsx)(Dc.a,{})})},e.OnRun=function(){t.Delete()},e},xu=function(t){return function(t,e){var n=new gu;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Status,t)},Cu=function(t){return t.RowView},Vu=function(t){var e,n,s,r,c,a=function(t){var e=t.Key,n=function(){(0,t.Ready)()},s=t.NotReady,r=function(e,n){return!(t.Value&&0!==t.Value.length)&&e(n)},c=Object(i.jsx)("div",{className:"flex",children:Object(i.jsx)("div",{className:"flex-1",onMouseEnter:n,onMouseLeave:s,children:t.View})});return Object(i.jsx)("td",{onMouseEnter:function(){return r(n)},onMouseLeave:function(){return r(s)},children:c},e)};return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"non-input",children:"A".concat(t.Index+1)}),Object(i.jsx)("td",{className:"non-input",children:t.Status.View}),t.InTask?void 0:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("td",{className:"non-input",children:t.IsCurrent?null===(e=t.ModelItem.Report.Project)||void 0===e?void 0:e.Name:""}),Object(i.jsx)("td",{className:"non-input",children:t.IsCurrent?null===(n=t.ModelItem.Report.Task)||void 0===n?void 0:n.Name:""}),Object(i.jsx)("td",{className:"non-input",children:Q()(null===(s=t.ModelItem.Task)||void 0===s?void 0:s.StartDate).format("DD/MM/YYYY")}),Object(i.jsx)("td",{className:"non-input",children:Q()(null===(r=t.ModelItem.Task)||void 0===r?void 0:r.FinishDate).format("DD/MM/YYYY")})]}),t.InReport?Object(i.jsx)("td",{className:"non-input",children:!t.InTask&&t.IsCurrent?Q()(t.ModelItem.Report.Week).format("[T]W:DD/MM/YYYY"):""}):void 0,t.Fields.map((function(t){return a(t)})),t.InReport?Object(i.jsx)("td",{className:"non-input",children:null===(c=t.ModelItem.Owner)||void 0===c?void 0:c.Name}):void 0,Object(i.jsx)("td",{className:"non-input",children:Q()(t.ModelItem.CreatedDate).format("DD/MM/YYYY")})]},t.id)},Fu=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(t){var n=function(){t&&t()},i=function(){var t=e.ModelItem.AddItem(),i=yu(t,e);return e.Items.push(i),i.Save(n),e.Dict.Status.Is_ShowApprove=!0,i};e.Items?i():V(e.OnSet_Items_Func,(function(){return i()}))},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||Mu(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"InReport",get:function(){return this.ModelItem.InReport}},{key:"InTask",get:function(){return this.Dict.InTask}},{key:"Is_ShowUpper",get:function(){return this.Dict.Is_ShowUpper}},{key:"ItemsView",get:function(){var t;return null===(t=this.Items)||void 0===t?void 0:t.filter((function(t){return t.IsShow})).map((function(t){return t.View}))}},{key:"View",get:function(){return this.InReport?this.ItemsView:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"w-5"}),Object(i.jsx)("th",{className:"w-12"}),bu().map((function(t){return Object(i.jsx)("th",{className:ju(t),children:_u(t)},t)})),Object(i.jsx)("th",{className:"w-12",children:"Created Date"})]})}),Object(i.jsx)("tbody",{children:this.ItemsView})]})}}]),t}(),Mu=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return yu(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Ru=n(441),Tu=function(){function t(){var e=this;Object(u.a)(this,t),this.Get_StateCss=function(t){return t===e.State?"":"invisible"},this.Send=function(){var t=e.Dict;if(t.IsOwner){var n=0,i=function(){2===++n&&(e.InTask||e.Group.Update({level:t.ModelItem.currentApproveLevel,report:t}))},s=t.ModelItem;s.Status.Up(),s.IsTemp=void 0,s.Save((function(){i(),t.ApproveDict.AddItem(i)}))}},this.is_ShowApprove=void 0,Object(l.k)(this,{is_ShowApprove:l.l})}return Object(o.a)(t,[{key:"State",get:function(){return Nu(this)}},{key:"Is_ShowApprove",get:function(){return void 0===this.is_ShowApprove&&(this.is_ShowApprove=Pu(this)),this.is_ShowApprove},set:function(t){this.is_ShowApprove=t}},{key:"HaveApproves",get:function(){var t=this.Dict.ApproveDict.Items;return t&&0!==t.length}},{key:"InTask",get:function(){return this.Dict.InTask}},{key:"IsTemp",get:function(){return this.Dict.IsTemp}},{key:"Group",get:function(){return this.Dict.Group}},{key:"DeleteCss",get:function(){return this.Dict.ModelItem.IsOwner&&this.State===kt&&!this.IsTemp?"":"invisible"}},{key:"ViewState",get:function(){return this.Dict.ViewState}},{key:"ViewLevel",get:function(){return this.Dict.ViewLevel}},{key:"View",get:function(){return Gu(this)}}]),t}(),Nu=function(t){return t.ModelItem.State},Pu=function(t){return!t.InTask},Gu=function(t){var e=t.Dict,n=e.ModelItem,s=e.GetField(au);return Object(i.jsxs)("div",{className:"flex",children:[t.Dict.DeleteVM.View,Object(i.jsxs)("div",{className:"ml-2 flex",children:[Object(i.jsx)("div",{className:"cursor-pointer ".concat(t.Get_StateCss(kt)),onClick:t.Send,children:Object(i.jsx)(Ou.a,{})}),Object(i.jsx)("div",{className:"ml-1 cursor-pointer ".concat(t.Get_StateCss(bt)),children:Object(i.jsx)(Ru.a,{})}),Object(i.jsx)("div",{className:"ml-1 cursor-pointer ".concat(t.Get_StateCss(_t)),children:Object(i.jsx)(gc.a,{})})]}),Object(i.jsx)("div",{className:"ml-2",children:Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.InTask&&t.HaveApproves?"":"invisible"),onClick:function(){return t.Is_ShowApprove=!t.Is_ShowApprove},children:Object(i.jsx)(Ha.a,{})})}),Object(i.jsx)("div",{className:"ml-2",children:Object(i.jsx)(gr.a,{trigger:"hover",onVisibleChange:function(t){t||s.EditOK()},content:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("div",{className:"w-72",onMouseEnter:s.Ready,onMouseLeave:s.NotReady,children:s.View}),e.IsValidLink?Object(i.jsx)("a",{target:"_blank",href:n.Link,children:Object(i.jsx)("div",{className:"border rounded p-2",children:"M\u1edf"})}):""]}),children:Object(i.jsx)("div",{className:"cursor-pointer \n              ".concat(e.IsValidLink?"text-[#1890ff]":""),children:Object(i.jsx)(Ya.a,{})})})})]})},Au=function(t,e){var n=new Qa;return n.ModelItem=t,n.Dict=e,n},Wu=function(t){var e=uu(),n=t.ModelItem,i=[];return e.forEach((function(e,s){var r,c=function(t){var e;switch(t){case tu:e="Week";break;case eu:e="SubmitWork";break;case nu:e="ActualWork";break;case iu:e="Assessment";break;case su:e="Note";break;case ru:e="RebarWeight";break;case au:e="Link";break;case cu:e="Onwer"}return e}(e);switch(e){case tu:(r=new ec).PickType="week";var a=n;r.Placeholder=hu(e),r.PickedDate=a[c],r.OnSet_PickedDate=function(e){n[c]=e,t.Save()},r.ClickOutside=r.EditOK;break;default:var u=n;switch(r=ba((function(){return u[c]}),(function(t){switch(e){case eu:case nu:case ru:t=Number.parseInt(t)}u[c]=t}),t.Save),e){case eu:case nu:r.InputRegex=/^([1-9]\d{0,2})$/;break;case ru:r.InputRegex=/^([1-9]\d{0,2}(\.\d{0,2})?)$/}switch(r.ValueVM_Render=function(t){t.Placeholder=hu(e)},e){case eu:case nu:case ru:r.OnSetValue=function(t){t&&0!==t.length||(r.ValueVM.Content="0")}}}var o=function(){return t.ModelItem.IsOwner&&"draft"===t.Status.State};r.PreReady=o,r.PreEdit=o,r.Key=e,i.push(r)})),i},Bu=function(t){return t.Fields.filter((function(t){return t.Key!==au}))},Lu=function(t){var e=new Fr;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.Status.DeleteCss),onClick:e.Show_Hover,children:Object(i.jsx)(Dc.a,{})})},e.OnRun=function(){t.Delete()},e},Eu=function(t){return function(t,e){var n=new Fu;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.ApproveDict,t)},Uu=function(t){return function(t,e){var n=new Tu;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.Status,t)},Ku=function(t){return Object(i.jsx)(Za,{store:t},t.id)},Hu=function(t){var e,n,s=function(t){var e=t.Key,n=function(){(0,t.Ready)()},s=t.NotReady,r=function(e,n){return!(t.Value&&0!==t.Value.length)&&e(n)},c=Object(i.jsx)("div",{className:"flex",children:Object(i.jsx)("div",{className:"flex-1",onMouseEnter:n,onMouseLeave:s,children:t.View})});return Object(i.jsx)("td",{onMouseEnter:function(){return r(n)},onMouseLeave:function(){return r(s)},children:c},e)};return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"non-input",children:t.Index+1}),t.IsReadOnly?void 0:Object(i.jsx)("td",{className:"non-input",children:t.Status.View}),t.InTask?void 0:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("td",{className:"non-input",children:null===(e=t.ModelItem.Project)||void 0===e?void 0:e.Name}),Object(i.jsx)("td",{className:"non-input",children:t.ModelItem.Task.Name}),Object(i.jsx)("td",{className:"non-input",children:Q()(t.ModelItem.Task.StartDate).format("DD/MM/YYYY")}),Object(i.jsx)("td",{className:"non-input",children:Q()(t.ModelItem.Task.FinishDate).format("DD/MM/YYYY")})]}),t.Td_Fields.map((function(t){return s(t)})),t.IsReadOnly?void 0:Object(i.jsx)("td",{className:"non-input",children:null===(n=t.ModelItem.Owner)||void 0===n?void 0:n.Name}),t.IsReadOnly?Object(i.jsx)("td",{className:"non-input",children:t.ReviewBy_View}):void 0,Object(i.jsx)("td",{className:"non-input",children:Q()(t.ModelItem.CreatedDate).format("DD/MM/YYYY")})]},t.id)},Yu=function(t){return t.Status.Is_ShowApprove?t.ApproveDict.View:void 0},zu=function(t){var e=t.ModelItem,n=e.ApproveOwners,s=e.currentApproveStep;return n?Object(i.jsx)("table",{className:"reviewby__table",children:Object(i.jsx)("tbody",{children:n.map((function(t,e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{className:"pb-1",children:t.Name}),Object(i.jsx)("td",{className:"pl-2",children:e<s?Object(i.jsx)("div",{className:"text-[#52c41a]",children:Object(i.jsx)(gc.a,{})}):""})]},e)}))})}):""},qu=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new $u,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{width:35}),e.IsReadOnly?void 0:Object(i.jsx)("th",{width:130}),e.InTask?void 0:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("th",{children:"Project"}),Object(i.jsx)("th",{children:"Task"}),Object(i.jsx)("th",{children:"Start"}),Object(i.jsx)("th",{children:"Finish"})]}),uu().filter((function(t){return t!==au})).map((function(t){return Object(i.jsx)("th",{children:ou(t)},t)})),e.IsReadOnly?void 0:Object(i.jsx)("th",{children:ou(cu)}),e.IsReadOnly?Object(i.jsx)("th",{children:"Review by"}):void 0,Object(i.jsx)("th",{children:"Created Date"})]})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),Xu=Object(fe.a)(qu),$u=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=function(){var t=e.ModelItem.AddItem(),n=Au(t,e);return e.Items.push(n),n.Save(),e.Dict.Status.Is_ShowReport=!0,n};if(e.Items)return t();V(e.OnSet_Items_Func,t)},this.CurrentItem=void 0,Object(l.k)(this,{items:l.l,CurrentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"ColSpan",get:function(){return this.Dict.Dict.Parameters.length+2}},{key:"Items",get:function(){return this.items||Ju(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ViewState",get:function(){return this.ModelItem.ViewState}},{key:"ViewLevel",get:function(){return this.ModelItem.ViewLevel}},{key:"InTask",get:function(){return this.ModelItem.InTask}},{key:"Group",get:function(){return this.Dict}},{key:"IsReadOnly",get:function(){return this.ModelItem.IsReadOnly}},{key:"ContentView",get:function(){return Object(i.jsx)(Xu,{store:this})}},{key:"View",get:function(){return this.Items?0!==this.Items.length?this.InTask?Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:this.ColSpan,children:Object(i.jsx)("div",{className:"flex mt-3 mx-3",children:Object(i.jsx)("div",{className:"flex-1",children:this.ContentView})})})}):this.ContentView:Object(i.jsx)("div",{className:"text-sm font-medium text-[#1890ff]",children:"Kh\xf4ng c\xf3 Reports n\xe0o trong m\u1ee5c n\xe0y!"}):void 0}}]),t}(),Qu=function(t,e){var n=new $u;return n.ModelItem=t,n.Dict=e,n},Ju=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Au(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Zu=function(){return Is.Instance},to=function(t,e){var n=new ha;return n.ModelItem=t,n.Dict=e,n},eo=function(t){var e=new Fr;return e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("span",{})},e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("div",{className:"cursor-pointer  ".concat(t.Status.DeleteCss),onClick:e.Show_Hover,children:Object(i.jsx)(Dc.a,{})})},e.OnRun=function(){t.Delete()},e},no=function(t){var e=t.Dict.SavedItems;e.splice(e.indexOf(t),1),t.SubItems.forEach((function(t){return t.Delete()}))},io=function(t){var e=Fe(),n=t.ModelItem,s=[];return e.forEach((function(e,r){var c,a=Me(e);switch(e){case ke:case be:case _e:c=new ec;var u=e!==_e?t:n;e===_e&&(c.PickedDate=void 0,c.IsAllowUndefined=!0),c.Placeholder=Te(e),c.PickedDate=u[a],c.OnSet_PickedDate=function(i){n[a]=i,t.Save();var s=function(){t.SupItem&&t.SupItem.RefreshDate()},r=t.RefreshDuration;switch(e){case ke:s(),r();break;case be:s(),r(),t.DependedTasks.forEach((function(t){return t.NotSup_Items.forEach((function(t){return t.RefreshDate()}))}))}},c.ClickOutside=c.EditOK;break;case ge:c=t.PredecessorData;break;case xe:case Ie:case pe:case ve:case De:case ye:var o=n;(c=function(t,e,n){var i=new ya;return i.ValueGet=t,i.ValueSet=e,i.ValueSet_OK=n,i}((function(){return o[a]}),(function(t){return o[a]=t}))).Placeholder=Te(e),c.ValueVM.CanClear=!0;var h=function(n){if(c.SetItems(n,(function(t){return t.Name})),!t.IsNew){var i=t.ModelItem["".concat(e,"Id")];if(i){var s=c.ValueVM;t.ModelItem[Me(e)]=s.InitialItem=T(n,(function(t){return t._id===i}))}}};switch(e){case Ie:case pe:case ve:var d=c.ValidateSelect=new Fr;d.ToggleType="manual",d.Title="X\xe1c nh\u1eadn ghi \u0111\xe8 th\xf4ng tin?",d.Retrieve_ShowHover_Button=function(){return Object(i.jsx)("span",{})};var l=c.ValueVM;d.OnRun=function(){c.Value=l.SelectedItem},d.OnCancel=function(){l.InitialItem=l.TempItem},l.OnSelectedItemChanged=function(n,i){!n||function(){var i=t.SubItems,s=i.length;return 0===s||i.filter((function(t){var i=t.ModelItem[Me(e)];return!i||i===n})).length===s}()?c.Value=n:(l.TempItem=i,d.Show_Hover())}}switch(c.OnSetValue=function(n){switch(e){case Ie:case pe:var i=n?n instanceof gi?n.BIMUses:n.Categories:[],c=s[r+1],a=c.ValueVM;a.Items=i;var u=T(i,(function(t){var e;return t.Name===(null===(e=c.Value)||void 0===e?void 0:e.Name)}));c.Value=a.InitialItem=u}switch(e){case xe:case Ie:case pe:case ve:case ye:t.SubItems.forEach((function(t){t.RefreshInfo(e)}))}switch(e){case ve:case De:case ye:t.Save(),t.SubItems.forEach((function(t){return t.Save()}))}},e){case xe:case Ie:case De:case ye:var f;switch(e){case xe:f=Zu().ContractDict;break;case Ie:f=Zu().ResultDisciplineDict;break;case De:case ye:f=Zu().UserDict}f.Items?h(f.Items):V(f.OnSet_Items_Func,(function(){return h(f.Items)}));break;case pe:case ve:var m=e===pe?"BIMUses":"Categories",I=s[r-1].ValueVM.InitialItem;h(I?I[m]:[])}break;default:o=n;switch(c=ba((function(){return o[a]}),(function(t){switch(e){case je:t=Number.parseInt(t);break;case we:t=Number.parseFloat(t);break;case Oe:t=t&&0!==t.length?Number.parseInt(t):void 0}o[a]=t}),(function(){t.IsNew&&e===me?t.Insert():t.Save()}),e===me?"textarea":"text"),e){case je:c.PreValueSet=function(e){return!((e=Number.parseInt(e))<t.ModelItem.ReportDict.SubmitWork)||(k.b.warn("Planwork kh\xf4ng \u0111\u01b0\u1ee3c b\xe9 h\u01a1n t\u1ed5ng s\u1ed1 SubmitWork trong Report"),!1)}}switch(e){case je:c.InputRegex=/^(0|[1-9]\d{0,2})$/;break;case Oe:c.InputRegex=/^([1-9]\d{0,3})$/;break;case we:c.InputRegex=/^([1-9]\d{0,2}(\.?5?))$/}c.ValueVM_Render=function(t){t.Placeholder=Te(e)};var p=function(e){var n=t.GetField(je).ValueVM;n.Content=8*e,n.RenderState="edit",n.RenderState="default",t.ForceSave()};switch(c.OnSetValue=function(n){switch(e){case je:if(!n||0===n.length)return void(c.ValueVM.Content="0");t.SupItem&&t.SupItem.RefreshPlanwork();break;case we:t.Is_SetPlanwork_ByDuration&&p(n),t.OnRefresh_Duration?t.OnRefresh_Duration=!1:(t.OnSet_Duration=!0,t.GetField(be).PickedDate=function(t,e){var n=Q()(t),i=n.day();i=0!==i?6!==i?i:5.5:1,i-=5.5!==i?1:.5,n=n.startOf("week");var s=e+i,r=s/5.5,c=Math.floor(r),a=s-5.5*c,u=7*c+(a>=1?a:-1);return n.add(u,"d").toDate()}(t.GetField(ke).PickedDate,t.GetField(we).Value))}},e){case je:var v=c.Addition=new Ia;v.Ischecked=t.Is_SetPlanwork_ByDuration,v.OnCheckChanged=function(e){t.Is_SetPlanwork_ByDuration=e,e&&p(t.GetField(we).Value)}}}switch((c.ValidateData=new Ta).IsValid_Render=function(n){var i=!0,s=[];switch(e){case ke:t.DepenedDict_StartDate&&!Q()(t.StartDate).isAfter(Q()(t.DepenedDict_StartDate))&&(s.push("Ng\xe0y b\u1eaft \u0111\u1ea7u nh\u1ecf h\u01a1n ng\xe0y r\xe0ng bu\u1ed9c"),i=!1);break;case be:Q()(t.FinishDate).isBefore(Q()(t.StartDate),"day")&&(s.push("Ng\xe0y k\u1ebft th\xfac b\xe9 h\u01a1n ng\xe0y b\u1eaft \u0111\u1ea7u"),i=!1),t.BaselineFinish&&Q()(t.FinishDate).isAfter(Q()(t.BaselineFinish),"day")&&(s.push("Ng\xe0y k\u1ebft th\xfac v\u01b0\u1ee3t qu\xe1 Baseline"),i=!1);break;case je:t.BaselineWork&&t.BaselineWork<t.Planwork&&(s.push("Gi\u1edd k\u1ebf ho\u1ea1ch v\u01b0\u1ee3t qu\xe1 Baseline"),i=!1)}return n.Message=s.join("\n"),i},e){case ye:c.PreReady=function(){var e=t.ReportDict.Items;return!e||0===e.length};break;case De:c.PreReady=function(){var e=t.ReportDict.Items;return!e||0===e.length||"done"===e[e.length-1].Status.State}}c.Key=e,c.Dict=t,s.push(c)})),s},so=function(t){var e=t.Dict.Parameters;return t.Fields.filter((function(t){return e.includes(t.Key)}))},ro=function(t){return 0===t.SubItems.length?t.ModelItem.Planwork:t.SubItems.reduce((function(t,e){return t+e.Planwork}),0)},co=function(t){var e=t.GetField(je);e.ValueVM.Content=ro(t),e.ValueVM.RenderState="edit",e.EditOK(),t.Save(),t.SupItem&&t.SupItem.RefreshPlanwork()},ao=function(t){var e=t.SupList.map((function(t){return t.Depened_StartDate}));e.push(t.Depened_StartDate);var n=e.filter((function(t){return t})),i=0!==n.length?Q.a.max(n.map((function(t){return Q()(t)}))).toDate():void 0;return i?Q()(i).add(1,"day").toDate():0===t.SubItems.length?t.ModelItem.StartDate:Q.a.min(t.SubItems.map((function(t){return Q()(t.StartDate)}))).toDate()},uo=function(t){return t.PredecessorData.StartDate},oo=function(t){var e;return t.Depened_StartDate?t.Depened_StartDate:null===(e=t.SupItem)||void 0===e?void 0:e.Depened_StartDate},ho=function(t){return 0===t.SubItems.length&&!t.Depened_StartDate},lo=function(t){return 0===t.SubItems.length?t.ModelItem.FinishDate:Q.a.max(t.SubItems.map((function(t){return Q()(t.FinishDate)}))).toDate()},fo=function(t){return 0===t.SubItems.length},mo=function(t){t.GetField(ke).PickedDate=ao(t),t.GetField(be).PickedDate=lo(t),t.SupItem&&t.SupItem.RefreshDate()},Io=function(t){if(t.OnSet_Duration)t.OnSet_Duration=!1;else{t.OnRefresh_Duration=!0;var e=t.GetField(ke).PickedDate,n=t.GetField(be).PickedDate,i=t.GetField(we).ValueVM;i.Content=J(e,n),i.RenderState="edit",i.RenderState="default",t.OnRefresh_Duration=!1}},po=function(t){return function(t,e){var n=new Na;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.PredecessorData,t)},vo=function(t,e){var n,i=Me(e),s=t.ModelItem[i];return s||(null===(n=t.SupItem)||void 0===n?void 0:n.GetInfo(e))},ko=function(t,e){e||(e=[xe,Ie,pe,ve,ye]),"string"===typeof e&&(e=[e]);e.forEach((function(e){var n=!0;switch(e){case ye:var i=t.ReportDict.Items;n=!i||0===i.length}if(n){var s=t.GetField(e);s.Value=s.ValueVM.InitialItem=function(e){var n,i=Me(e),s=t.ModelItem[i],r=null===(n=t.SupItem)||void 0===n?void 0:n.GetInfo(e);return e===ye?s||r:r||s}(e)}}));var n=t.ModelItem;n.OnSave?V(n.On_Save_Func,n.Save):n.Save()},bo=function(t){return function(t){var e=new Xa;return e.Dict=t,e}(t)},_o=function(t){return Qu(t.ModelItem.ReportDict,t)},jo=function(t){return!t.SupItem||t.SupItem.IsOwner},Oo=function(t){if(!t.IsGet_SupItem){t.IsGet_SupItem=!0;var e=function(e){t.StopPropagation=!0,t.SupItem=e?t.Dict.SavedItems.find((function(t){return t.id===e.id})):void 0},n=t.ModelItem;n.SupItem?e(n.SupItem):V(n.OnSet_SupItem_Func,(function(){return e(n.SupItem)}))}},go=function(t){for(var e=[],n=t.SupItem;n;)e.push(n),n=n.SupItem;return e},Do=function(t){return Object(i.jsx)("div",{className:"cursor-pointer mt-1 mr-1 ml-2\n    ".concat(t.Dict.IsFilter||0===t.SubItems.length?"invisible":""),children:t.IsShowSub?Object(i.jsx)(ua.a,{onClick:function(){return t.IsShowSub=!1}}):Object(i.jsx)(oa.a,{onClick:function(){return t.IsShowSub=!0}})})},yo=function(t){var e=t.Index;return t.Dict.SavedItems.filter((function(n,i){return i>e&&n.SupItem===t}))},wo=function(t){var e=[];return function t(n){0===n.SubItems.length&&e.push(n),n.SubItems.forEach((function(e){return t(e)}))}(t),e},So=function(t){var e=[t];return t.SubItems.forEach((function(t){e.push.apply(e,t.AllItems)})),e},xo=function(t){var e=t.SubItems;return(0===e.length?0:e.reduce((function(t,e){return t+e.RowCount}),0))+1},Co=function(t){return t.SupItem?t.SupItem.SubItems:t.Dict.SavedItems.filter((function(t){return!t.SupItem}))},Vo=function(t){return t.SupItem?t.SupItem.Rank+1:0},Fo=function(t){return t.Dict.CurrentItems.includes(t)?"bg-[#faad1490]":t.IsNew||t.ModelItem.IsOwner?"":"bg-gray-300"},Mo=function(t,e,n){var i=t.GetField(me).Value;if(i&&0!==i.length){var s,r=t.Dict,c=r.Dict.Dict.IsOwner;if(e)s=0===e.SubItems.length?e.SupItem:e;else{var a=c?r.SavedItems:r.Filter_SavedItems;0!==a.length&&(e=a[a.length-1])}var u=e?e.Index+e.RowCount:0,o={location:u},h=r.SavedItems,d=r.NewItems;d.splice(0,1);var l=u<h.length;l?h.splice(u,0,t):h.push(t);var f=to(Wt(r.ModelItem),r);d.push(f);t.ModelItem.Insert(o,(function(){if(!c||l){if(!s){s=function t(e){return e.IsManage?e:e.SupItem?t(e.SupItem):void 0}(e)}t.SupItem=s,"mine"===r.ViewMode&&(r.ViewMode="all",r.ViewMode="mine")}else t.Save()}))}else n&&n()},Ro=function(t,e){if(!To(t))return!1;t.ModelItem.Save((function(){e&&e()}))},To=function(t){var e=t.GetField(me).Value;return!(!e||0===e.length)&&!(t.IsNew&&t.NewIndex>0)},No=function(t,e){for(var n=t,i=n.Rank-e,s=0;s<i;s++)n=n.SupItem;return n},Po=function(t){var e="".concat(15*t.Rank,"px");return Object(i.jsx)("div",{style:{width:e}})},Go=function(t){return Object(i.jsx)(la,{store:t},t.id)},Ao=function(t){var e=function(e){var n,s=e.Key,r=s===me,c=t.IsNew,a=function(){var e=t.IsNew&&function(){if(t.NewIndex>0)return!1;var e=t.Dict;if(e.IsFilter)return!1;var n=e.Filter_SavedItems;if(!n)return!1;if(0===n.length)return t.Dict.Dict.Dict.IsOwner;var i=n[n.length-1];return i.IsOwner||i.IsManage}()||!t.IsNew&&t.ModelItem.IsOwner;if(!e)return!1;switch(s){case ke:e=t.CanInput_StartDate;break;case be:e=t.CanInput_EndDate;break;case we:e=t.CanInput_StartDate||t.CanInput_EndDate;break;case je:e=!t.Is_SetPlanwork_ByDuration&&0===t.SubItems.length;break;case xe:case Ie:case pe:case ve:e=!t.SupItem||!t.SupItem.ModelItem["".concat(s,"Id")];break;case ye:e=!(n=t.ReportDict.Items)||0===n.length;break;case De:var n;e=!(n=t.ReportDict.Items)||0===n.length||"done"===n[n.length-1].Status.State;break;case Ce:case Ve:e=!1}return e},u=function(){return t.ModelItem.IsOwner&&!a()?"text-gray-300":""};switch(s){case Ce:case Ve:return Object(i.jsx)("td",{className:"non-input ".concat(u()),children:c?"":t.ModelItem[Me(s)]},s)}e.PreEdit=a;var o=function(){return function(t){var e=t;a()&&e()}(e.Ready)},h=e.NotReady,d=function(t,n){return!function(){switch(s){case ke:return e.PickedDate;default:return e.Value&&0!==e.Value.length}}()&&t(n)},l=e.ValidateData.IsValid?"":"py-2 pr-1",f=Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"flex-1",onMouseEnter:o,onMouseLeave:h,children:e.View}),null===(n=e.ValidateSelect)||void 0===n?void 0:n.View,function(){var e=!0;switch(s){case je:e=0===t.SubItems.length;break;default:e=!1}return e}()&&e.Addition?Object(i.jsx)("div",{className:"ml-1 mt-2",children:e.Addition.View}):"",Object(i.jsx)("div",{className:l,children:e.ValidateData.View})]}),m=Object(i.jsx)("td",{onMouseEnter:function(){return d(o)},onMouseLeave:function(){return d(h)},className:"".concat(u()),children:r?Object(i.jsxs)("div",{className:"flex",children:[t.Indent_View,t.ToggleSub_View,Object(i.jsx)("div",{className:"flex-1",children:f})]}):f},s);return!c||r?m:Object(i.jsx)("td",{},s)};return Object(i.jsxs)("tr",{className:"".concat(t.Css),children:[Object(i.jsx)("td",{className:"non-input cursor-pointer",onClick:t.SetCurrent,children:t.IsNew?void 0:t.Index+1}),Object(i.jsx)("td",{className:"non-input",children:t.Status.View}),t.Td_Fields.map((function(t){return e(t)}))]})},Wo=function(t){return t.Status.Is_ShowReport?t.ReportDict.View:void 0},Bo=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_SavedItems_Func=[],this.savedItems=void 0,this.Move=function(t,n){$o(e,t,n)},this.newItems=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=to(t,e);return e.Items.push(n),n},this.CurrentItems=[],this.ViewMode="all",this.allParameters=void 0,this.parameters=void 0,this.Outdent=function(){rh(e)},this.Indent=function(){ch(e)},this.Clear=function(){e.CurrentItems=[]},this.Insert=function(){ah(e)},this.Delete=function(){uh(e)},this.CreateReport=function(){oh(e)},Object(l.k)(this,{savedItems:l.l,newItems:l.l,CurrentItems:l.l,parameters:l.l,ViewMode:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"SavedItems",get:function(){return this.savedItems||qo(this),this.savedItems},set:function(t){var e=this;this.savedItems=t,F(this.OnSet_SavedItems_Func,(function(t){return e.OnSet_SavedItems_Func=t}))}},{key:"Filter_SavedItems",get:function(){return Xo(this)}},{key:"NewItems",get:function(){return this.newItems||(this.newItems=Qo(this)),this.newItems}},{key:"AllItems",get:function(){return Jo(this)}},{key:"IsPlan",get:function(){return this.Dict.IsPlan}},{key:"FilterField",get:function(){var t=this,e=[xe,Ie,pe,ve,je,Oe];return function(n){return n!==Se&&(t.IsPlan||!e.includes(n))}}},{key:"FilterColumns",get:function(){return this.Columns.filter((function(t){return void 0!==t.FilterValue}))}},{key:"IsFilter",get:function(){return 0!==this.FilterColumns.length}},{key:"AllParameters",get:function(){return this.allParameters||(this.allParameters=Zo(this)),this.allParameters}},{key:"Parameters",get:function(){return this.parameters||(this.parameters=[ge,me,ke,be,we,je,De,ye]),this.parameters},set:function(t){this.parameters=t}},{key:"ParameterSelectView",get:function(){return th(this)}},{key:"AllColumns",get:function(){return this.allColumns||(this.allColumns=eh(this)),this.allColumns}},{key:"Columns",get:function(){return nh(this)}},{key:"Total_WidthPartition",get:function(){return ih(this)}},{key:"TableStyle",get:function(){return sh(this)}},{key:"DisableOutdent",get:function(){var t=this.CurrentItems.map((function(t){return t.SupItem})).filter((function(t,e,n){return n.indexOf(t)===e}));return 1!==t.length||0!==t.filter((function(t){return!t||!t.IsOwner})).length}},{key:"DisableIndent",get:function(){return 1!==this.CurrentItems.map((function(t){return t.SupItem})).filter((function(t,e,n){return n.indexOf(t)===e})).length}},{key:"DisableInsert",get:function(){return 1!==this.CurrentItems.length}},{key:"DisableClear",get:function(){return 0===this.CurrentItems.length}},{key:"TableView",get:function(){return Object(i.jsx)(aa,{store:this})}},{key:"View",get:function(){return Object(i.jsx)("div",{className:"flex",children:Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)(aa,{store:this})})})}},{key:"Toggle_TaskLevel_View",get:function(){return hh(this)}}]),t}(),Lo=function(){function t(){Object(u.a)(this,t),this.filterValue=void 0,Object(l.k)(this,{filterValue:l.l})}return Object(o.a)(t,[{key:"FilterValue",get:function(){return this.filterValue},set:function(t){this.filterValue=t}},{key:"FilterValueVM",get:function(){return this.filterValueVM||(this.filterValueVM=Uo(this)),this.filterValueVM}},{key:"id",get:function(){return this.Parameter}},{key:"Css",get:function(){return Ko(this)}},{key:"Style",get:function(){return Ho(this)}},{key:"View",get:function(){return Yo(this)}},{key:"FilterView",get:function(){return zo(this)}}]),t}(),Eo=function(t){var e=new Lo;return e.Dict=t,e},Uo=function(t){var e=new ws;return e.Placeholder="t\xecm ki\u1ebfm ...",e.Content=t.TempFilterValue,e.OnSetContent=function(e){t.TempFilterValue=e},e},Ko=function(t){},Ho=function(t){return{width:Ne(t.Parameter)}},Yo=function(t){return Object(i.jsx)("th",{style:t.Style,children:Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"text-center items-center flex-1",children:Re(t.Parameter)}),t.FilterView]})},t.id)},zo=function(t){switch(t.Parameter){case me:case De:case ye:return Object(i.jsx)("div",{className:"mr-2",children:Object(i.jsx)(gr.a,{trigger:"click",placement:"bottomLeft",content:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("div",{className:"flex-1 w-36",children:Object(i.jsx)(Hs,{store:t.FilterValueVM})}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:function(){return t.FilterValue=t.FilterValueVM.Content},children:"ok"}),Object(i.jsx)(mn.a,{type:"primary",size:"small",className:"btn-danger",onClick:function(){return t.FilterValue=t.FilterValueVM.Content=void 0},children:"x"})]})]}),children:Object(i.jsx)(ra.a,{})})});default:return""}},qo=function(t){if(!t.IsGet_SavedItems){t.IsGet_SavedItems=!0;var e=function(e){t.SavedItems=e.map((function(e){return to(e,t)})),t.IsGet_SavedItems=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Xo=function(t){if(!(e=t.SavedItems))return e;var e="all"===t.ViewMode?t.SavedItems:t.SavedItems.filter((function(t){return t.IsVisible_ByUser}));if(t.IsFilter){var n=t.FilterColumns;e=e.filter((function(t){var e=!0;return n.forEach((function(n){if(e){var i,s=n.Parameter,r=t.ModelItem[Me(s)];r="string"===typeof r?r:null===(i=r)||void 0===i?void 0:i.Name,e=r&&r.includes(n.FilterValue)}})),e}))}else e=e.filter((function(t){return t.IsVisible_BySup}));return e},$o=function(t,e,n){var i=t.SavedItems,s=e.Index,r=e.RowCount,c=n.Index,a=n.RowCount,u=s>c,o=u?e:n,h=(u?n:e).AllItems,d=o.AllItems,l=u?c:s,f=u?s:c,m=u?a:r,I=u?r:a;i.splice(f,I),i.splice(l,m),f+=I-m;var p=function(t,e){t===i.length?i.push.apply(i,e):e.forEach((function(e){i.splice(t,0,e),t++}))};p(l,d),p(f,h),t.ModelItem.Move(e.ModelItem,n.ModelItem)},Qo=function(t){for(var e=[],n=0;n<50;n++)e.push(to(Wt(t.ModelItem),t));return e},Jo=function(t){var e=[],n=t.Filter_SavedItems;return n?(e.push.apply(e,n),e.push.apply(e,t.NewItems),e):e},Zo=function(t){return Fe().filter(t.FilterField)},th=function(t){var e=t.Parameters,n=function(t){var n=new Ia;return n.Name=Re(t),n.Ischecked=e.includes(t),n.onCheckChanged=function(n){n?e.push(t):e.splice(e.indexOf(t),1)},n};return Object(i.jsx)("div",{className:"h-64 overflow-y-scroll py-2 pl-2 pr-4",children:t.AllParameters.map((function(t){return Object(i.jsx)("div",{children:n(t).View},t)}))})},eh=function(t){return t.AllParameters.map((function(e){return function(t,e){var n=Eo(e);return n.Parameter=t,n}(e,t)}))},nh=function(t){var e=t.Parameters;return t.AllColumns.filter((function(t){return e.includes(t.Parameter)}))},ih=function(t){return t.Parameters.reduce((function(t,e){return t+function(t){var e;switch(t){case me:e=10;break;case xe:e=4;break;case Ie:e=3;break;case pe:e=4;break;case ve:e=5;break;case ge:e=3;break;case ke:case be:case _e:e=3;break;case we:case je:e=2;break;case ye:case De:e=3;break;default:e=2}return e}(e)}),0)},sh=function(t){return{width:t.Parameters.reduce((function(t,e){return t+Ne(e)}),197)}},rh=function(t){var e=t.CurrentItems,n=!0;e.forEach((function(t){return function(t){if(n){var e,i=t.Index,s=t.CurrentList.filter((function(t){return t.Index>i}));if(0===s.length&&!t.SupItem)return k.b.warn("D\xf2ng Task n\xe0y kh\xf4ng th\u1ec3 outdent!"),void(n=!1);s.forEach((function(e){return e.SupItem=t})),t.SupItem&&(t.SupItem=null===(e=t.SupItem)||void 0===e?void 0:e.SupItem),t.IsShowSub=!0}}(t)}))},ch=function(t){var e=t.CurrentItems,n=!0;e.forEach((function(e){return function(e){if(n){var i=e.Index;if(0===i)return k.b.warn("D\xf2ng Task n\xe0y kh\xf4ng th\u1ec3 indent!"),void(n=!1);var s=t.SavedItems[i-1],r=e.Rank;if(r>s.Rank)return k.b.warn("Kh\xf4ng th\u1ec3 Indent task th\xeam n\u1eefa!"),void(n=!1);(e.SupItem=s.GetSup(r)).IsShowSub=!0}}(e)}))},ah=function(t){var e=t.CurrentItems[0],n=to(Wt(t.ModelItem),t);n.ModelItem.Name="<t\xean task>",n.Insert(e)},uh=function(t){var e=t.CurrentItem;if(!e)return k.b.warn("Vui l\xf2ng ch\u1ecdn d\xf2ng d\u1eef li\u1ec7u!"),!1;e.DeleteVM.Show_Hover()},oh=function(t){t.CurrentItem.ReportDict.AddItem()},hh=function(t){if(!t.SavedItems)return"";for(var e=t.SavedItems.reduce((function(t,e){return Math.max(t,e.Rank)}),0),n=[],s=function(e){n.push(Object(i.jsx)(mn.a,{onClick:function(){return function(e){t.SavedItems.forEach((function(t){t.Rank<e&&(t.IsShowSub=!0),t.Rank===e&&(t.IsShowSub=!1)}))}(e)},children:e+1},e))},r=0;r<e+1;r++)s(r);return Object(i.jsx)("div",{children:n})},dh=n(430),lh=function(t,e){var n=new sa;return n.ModelItem=t,n.Dict=e,n},fh=function(t){return function(t,e){var n=new Bo;return n.ModelItem=t,n.Dict=e,n}(t.ModelItem.TaskDict,t)},mh=function(t){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"flex sticky top-1 mb-3",children:[Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:t.TaskDict.Outdent,disabled:t.TaskDict.DisableOutdent,children:"<- Outdent"}),Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:t.TaskDict.Indent,disabled:t.TaskDict.DisableIndent,children:"Indent ->"}),Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:t.TaskDict.Insert,disabled:t.TaskDict.DisableInsert,children:"Insert"}),Object(i.jsx)(mn.a,{type:"primary",size:"small",className:"btn-danger",onClick:t.TaskDict.Clear,disabled:t.TaskDict.DisableClear,children:"Unselect (x)"}),Object(i.jsx)("div",{className:"ml-2",children:t.TaskDict.Toggle_TaskLevel_View}),Object(i.jsx)(dh.a,{className:"ml-1",checkedChildren:"my tasks only",unCheckedChildren:"my tasks only",checked:"mine"===t.TaskDict.ViewMode,onChange:function(e){return t.TaskDict.ViewMode=e?"mine":"all"}})]},t.Dict.id),t.TaskDict.View]},t.id)},Ih=function(t,e){var n=new ia;return n.ModelItem=t,n.Dict=e,n},ph=function(t){var e=new Fr;return e.ToggleType="manual",e.Title="X\xe1c nh\u1eadn x\xf3a?",e.OnRun=function(){t.Delete()},e},vh=function(t){if(!t.IsGet_Plan){t.IsGet_Plan=!0;var e=function(e){t.Plan=lh(e,t),t.IsGet_Plan=!1},n=t.ModelItem;n.Plan?e(n.Plan):V(n.OnSet_Plan_Func,(function(){return e(n.Plan)}))}},kh=function(t){if(!t.IsGet_Task){t.IsGet_Task=!0;var e=function(e){t.Task=lh(e,t),t.IsGet_Task=!1},n=t.ModelItem;n.Task?e(n.Task):V(n.OnSet_Task_Func,(function(){return e(n.Task)}))}},bh=function(t){var e,n;return Object(i.jsxs)("div",{children:[Object(i.jsx)(dh.a,{className:"mb-2",checkedChildren:"plan",unCheckedChildren:"task",checked:"plan"===t.ViewMode,onChange:function(e){return t.ViewMode=e?"plan":"task"}}),"task"!==t.ViewMode?null===(e=t.Plan)||void 0===e?void 0:e.View:null===(n=t.Task)||void 0===n?void 0:n.View]},t.id)},_h=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,this.AddItem=function(){var t=e.ModelItem.AddItem(),n=Ih(t,e);return e.Items.push(n),n},this.OnSet_CurrentItem_Func=[],this.currentItem=void 0,Object(l.k)(this,{items:l.l,currentItem:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"Items",get:function(){return this.items||jh(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"CurrentItem",get:function(){return this.currentItem||Oh(this),this.currentItem},set:function(t){var e=this;this.currentItem=t,F(this.OnSet_CurrentItem_Func,(function(t){return e.OnSet_CurrentItem_Func=t}))}},{key:"Test",get:function(){return this.ModelItem.Test}},{key:"Select",get:function(){return this.select||(this.select=gh(this)),this.select}},{key:"TableView",get:function(){return Object(i.jsx)(na,{store:this})}},{key:"View",get:function(){return Object(i.jsxs)("div",{className:"mt__wrapper",children:[Object(i.jsx)("div",{className:"flex justify-center mb-3",children:Object(i.jsx)("span",{className:"text-xl font-normal",children:"CHIA S\u1eba B\xc0I VI\u1ebeT"})}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"mt-2 mr-2",children:Object(i.jsx)(mn.a,{type:"primary",size:"small",className:"btn-success",onClick:this.AddItem,children:"+"})}),Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)(na,{store:this})})]})]})}}]),t}(),jh=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return Ih(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Oh=function(t){if(!t.IsGet_CurrentItem){t.IsGet_CurrentItem=!0;var e=function(e){t.CurrentItem=0!==e.length?e[0]:void 0,t.IsGet_CurrentItem=!1},n=t;n.Items?e(n.Items):V(n.OnSet_Items_Func,(function(){return e(n.Items)}))}},gh=function(t){var e=new kr;e.Placeholder="ch\u1ecdn d\u1ef1 \xe1n",e.TitleRender=function(t){return t.Name},e.OnSelectedItemChanged=function(e){t.CurrentItem=e};var n=function(t){e.Items=t},i=function(t){e.InitialItem=t},s=t;return s.Items?n(s.Items):V(s.OnSet_Items_Func,(function(){return n(s.Items)})),s.CurrentItem?i(s.CurrentItem):V(s.OnSet_CurrentItem_Func,(function(){return i(s.CurrentItem)})),e},Dh=function(){function t(){var e=this;Object(u.a)(this,t),this.Update=function(t){Vh(e,t)}}return Object(o.a)(t,[{key:"DraftDict",get:function(){return this.draftDict||(this.draftDict=yh(this)),this.draftDict}},{key:"TaskApproveDict",get:function(){return this.taskApproveDict||(this.taskApproveDict=wh(this)),this.taskApproveDict}},{key:"ProjectApproveDict",get:function(){return this.projectApproveDict||(this.projectApproveDict=Sh(this)),this.projectApproveDict}},{key:"SentDict",get:function(){return this.sentDict||(this.sentDict=xh(this)),this.sentDict}},{key:"View",get:function(){return Ch(this)}}]),t}(),yh=function(t){return Qu(t.ModelItem.DraftDict,t)},wh=function(t){return Qu(t.ModelItem.TaskApproveDict,t)},Sh=function(t){return Qu(t.ModelItem.ProjectApproveDict,t)},xh=function(t){return Qu(t.ModelItem.SentDict,t)},Ch=function(t){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"text-lg font-medium my-3",children:"Drafts"}),t.DraftDict.View,Object(i.jsxs)("div",{className:"mt-16",children:[Object(i.jsx)("div",{className:"text-lg font-medium my-3",children:"Leaders"}),t.TaskApproveDict.View]}),Object(i.jsxs)("div",{className:"mt-16",children:[Object(i.jsx)("div",{className:"text-lg font-medium my-3",children:"Projects"}),t.ProjectApproveDict.View]}),Object(i.jsxs)("div",{className:"mt-16",children:[Object(i.jsx)("div",{className:"text-lg font-medium my-3",children:"Sent"}),t.SentDict.View]})]})},Vh=function(t,e){var n=e.level,i=e.report,s=i.ModelItem,r=i.Dict.Items,c=s.Dict.Items;r.splice(i.Index,1),c.splice(s.Index,1);var a=s.Status.State;if("done"!==a&&("draft"===a?s.ownerId:s.currentApproveOwnerId)===Is.Instance.UserDict.loginId){var u="draft"===a?t.DraftDict:"task"===n?t.TaskApproveDict:t.ProjectApproveDict,o=u.ModelItem;i.Dict=u,u.Items.push(i),s.Dict=o,o.Items.push(s),0===s.currentApproveStep&&t.SentDict.ModelItem.RefreshItems()}},Fh=function(){function t(){Object(u.a)(this,t),Object(l.k)(this,{})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"View",get:function(){return Bh(this)}}]),t}(),Mh="taskname",Rh="planwork",Th="submitwork",Nh="actualwork",Ph="assessment",Gh=function(){return[Mh,Rh,Th,Nh,Ph]},Ah=function(t){var e;switch(t){case Mh:e="TaskName";break;case Rh:e="Planwork";break;case Th:e="SubmitWork";break;case Nh:e="ActualWork";break;case Ph:e="Assessment"}return e},Wh=function(t){var e;switch(t){case Mh:e="Name";break;case Rh:e="Planwork";break;case Th:e="Submit Work";break;case Nh:e="Actual Work";break;case Ph:e="Assessment"}return e},Bh=function(t){return Object(i.jsx)("tr",{children:Gh().map((function(e){return Object(i.jsx)("td",{className:"non-input",children:t.ModelItem[Ah(e)]},e)}))},t.id)},Lh=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Uh,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsx)("tr",{children:Gh().map((function(t){return Object(i.jsx)("th",{className:"".concat("w-16"),children:Wh(t)},t)}))})}),Object(i.jsx)("tbody",{children:null===(t=e.Items)||void 0===t?void 0:t.map((function(t){return t.View}))})]})})}}]),n}(s.Component),Eh=Object(fe.a)(Lh),Uh=function(){function t(){Object(u.a)(this,t),this.OnSet_Items_Func=[],this.items=void 0,Object(l.k)(this,{items:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"ColSpan",get:function(){return this.Dict.Dict.Parameters.length+2}},{key:"Items",get:function(){return this.items||Kh(this),this.items},set:function(t){var e=this;this.items=t,F(this.OnSet_Items_Func,(function(t){return e.OnSet_Items_Func=t}))}},{key:"ItemsView",get:function(){var t,e=this;return null===(t=this.Items)||void 0===t?void 0:t.map((function(t){return Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:e.ColSpan,children:t.View})},t.id)}))}},{key:"View",get:function(){return Object(i.jsx)(Eh,{store:this})}}]),t}(),Kh=function(t){if(!t.IsGet_Items){t.IsGet_Items=!0;var e=function(e){t.Items=e.map((function(e){return function(t,e){var n=new Fh;return n.ModelItem=t,n.Dict=e,n}(e,t)})),t.IsGet_Items=!1},n=t.ModelItem;n.Items&&e(n.Items),V(n.OnSet_Items_Func,(function(){return e(n.Items)}),!1)}},Hh=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new qh,i}return Object(o.a)(n,[{key:"render",value:function(){var t,e,n=this.state;return 0===(null===(t=n.DataRows)||void 0===t?void 0:t.filter((function(t){return!t.IsFinish})).length)?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("table",{className:"table table-bordered table-fixed",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[n.HeaderColumns.map((function(t){return t.View})),n.WeekColumns.map((function(t){return Object(i.jsx)("th",{children:"W".concat(t.Week)},t.id)}))]})}),Object(i.jsx)("tbody",{children:null===(e=n.Rows)||void 0===e?void 0:e.map((function(t){return t.View}))})]})}):""}}]),n}(s.Component),Yh=Object(fe.a)(Hh),zh=n(428),qh=function(){function t(){Object(u.a)(this,t),this.GroupField=Ei,Object(l.k)(this,{GroupField:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.ModelItem.id}},{key:"AssignTable",get:function(){return this.assignTable||(this.assignTable=bd(this)),this.assignTable}},{key:"ProjectTable",get:function(){return this.projectTable||(this.projectTable=_d(this)),this.projectTable}},{key:"View",get:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsxs)(zh.a.Group,{onChange:function(e){t.GroupField=e.target.value},value:this.GroupField,children:[Object(i.jsx)(zh.a,{value:Ei,children:"User"}),Object(i.jsx)(zh.a,{value:Ki,children:"Project"})]}),Object(i.jsx)("div",{className:"mt-2",children:this.GroupField===Ei?this.AssignTable.View:this.ProjectTable.View})]})}}]),t}(),Xh=function(){function t(){Object(u.a)(this,t)}return Object(o.a)(t,[{key:"id",get:function(){return this.Week}},{key:"Table",get:function(){return this.Dict}}]),t}(),$h=function(t){var e=new Xh;return e.Dict=t,e},Qh=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.Raw_WeekColumns=[],this.GetWeekColumn=function(t){var n=e.Raw_WeekColumns,i=n.find((function(e){return e.Week===t}));return i||(i=function(t,e){var n=$h(e);return n.Week=t.week,n}({week:t},e),n.push(i)),i},this.OnSet_DataRows_Func=[],this.dataRows=void 0,this.Row_GroupField=Ei,Object(l.k)(this,{dataRows:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"WeekColumns",get:function(){return this.Raw_WeekColumns.sort((function(t,e){return t.Week-e.Week}))}},{key:"HeaderFields",get:function(){return function(t){var e;switch(t){case Ei:e=[Ui];break;case Ki:e=[Hi,Yi]}return e}(this.Row_GroupField)}},{key:"HeaderColumns",get:function(){return this.headerColumns||(this.headerColumns=Id(this)),this.headerColumns}},{key:"DataRows",get:function(){return this.dataRows||pd(this),this.dataRows},set:function(t){var e=this;this.dataRows=t,F(this.OnSet_DataRows_Func,(function(t){return e.OnSet_DataRows_Func=t}))}},{key:"Filter_DataRows",get:function(){return vd(this)}},{key:"SummaryRow",get:function(){return this.summaryRow||(this.summaryRow=kd(this)),this.summaryRow}},{key:"Rows",get:function(){var t=[this.SummaryRow];return t.push.apply(t,this.Filter_DataRows),t}},{key:"View",get:function(){return Object(i.jsx)(Yh,{store:this},this.id)}}]),t}(),Jh=function(){function t(){Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.Items=[],Object(l.k)(this,{})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"IsSummary",get:function(){return this.Row.IsSummary}},{key:"DataPlanwork",get:function(){return void 0===this.dataPlanwork&&(this.dataPlanwork=td(this)),this.dataPlanwork},set:function(t){this.dataPlanwork=t}},{key:"Planwork",get:function(){return ed(this)}},{key:"View",get:function(){return nd(this)}}]),t}(),Zh=function(t){var e=new Jh;return e.Dict=t,e},td=function(t){return t.Items.reduce((function(t,e){return t+e.Planwork}),0)},ed=function(t){if(!t.IsSummary)return t.DataPlanwork;var e=t.Column;return e.Table.Filter_DataRows.map((function(t){return t.GetWeekCell(e).Planwork})).reduce((function(t,e){return t+e}),0)},nd=function(t){return Object(i.jsx)("td",{className:"non-input",children:t.IsSummary?t.Planwork.toFixed(0):t.Planwork?Object(i.jsx)(gr.a,{trigger:"click",placement:"bottomLeft",content:Object(i.jsxs)("table",{className:"table table-bordered",children:[Object(i.jsx)("thead",{className:"bg-[#e9ecef]",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{className:"non-input",children:"Project"}),Object(i.jsx)("th",{className:"non-input",children:"Task"}),Object(i.jsx)("th",{className:"non-input",children:"Planwork In Week"})]})}),Object(i.jsx)("tbody",{children:t.Items.map((function(t){return t.RowView}))})]}),children:Object(i.jsx)("div",{className:"cursor-pointer",children:t.Planwork.toFixed(2)})}):""},t.id)},id=function(){function t(){var e=this;Object(u.a)(this,t),this.OnSet_id_Func_Dict=[],this.assign=void 0,this.project=void 0,this.Items=[],this.Raw_WeekCells=[],this.GetWeekCell=function(t){var n=e.Raw_WeekCells,i=n.find((function(e){return e.Column===t}));return i||(i=function(t){var e=Zh();return e.Row=t.row,e.Column=t.column,e}({row:e,column:t}),n.push(i)),i},this.OnSet_Result_WeekCells_Func=[],this.result_WeekCells=void 0,Object(l.k)(this,{assign:l.l,project:l.l})}return Object(o.a)(t,[{key:"_id",get:function(){return this.__id},set:function(t){var e=this;this.__id=t,F(this.OnSet_id_Func_Dict,(function(t){return e.OnSet_id_Func_Dict=t}))}},{key:"TempId",get:function(){return this.tempId||(this.tempId=S()),this.tempId}},{key:"id",get:function(){return this._id?this._id:this.TempId}},{key:"Table",get:function(){return this.Dict}},{key:"Assign",get:function(){return this.assign||cd(this),this.assign},set:function(t){this.assign=t}},{key:"Project",get:function(){return this.project||ad(this),this.project},set:function(t){this.project=t}},{key:"Result_WeekCells",get:function(){return this.result_WeekCells||ud(this),this.result_WeekCells},set:function(t){var e=this;this.result_WeekCells=t,F(this.OnSet_Result_WeekCells_Func,(function(t){return e.OnSet_Result_WeekCells_Func=t}))}},{key:"WeekCells",get:function(){var t=this;return this.Table.WeekColumns.map((function(e){return t.GetWeekCell(e)}))}},{key:"IsFinish",get:function(){return void 0!==this.Result_WeekCells}},{key:"View",get:function(){var t,e=this;return Object(i.jsxs)("tr",{children:[this.IsSummary?Object(i.jsx)("td",{className:"non-input font-medium text-[#1890ff]",colSpan:this.Table.HeaderFields.length,children:"SUMMARY"}):this.Table.HeaderFields.map((function(t){return Object(i.jsx)("td",{className:"non-input",children:qi(t)(e)},t)})),null===(t=this.WeekCells)||void 0===t?void 0:t.map((function(t){return t.View}))]},this.id)}}]),t}(),sd=function(){return Is.Instance},rd=function(t){var e=new id;return e.Dict=t,e},cd=function(t){if(!t.IsGet_Assign){t.IsGet_Assign=!0;sd().UserDict.GetItem(t.assignId,(function(e){return function(e){t.Assign=e,t.IsGet_Assign=!1}(e)}))}},ad=function(t){if(!t.IsGet_Project){t.IsGet_Project=!0;sd().ProjectDict.GetItem(t.projectId,(function(e){return function(e){t.Project=e,t.IsGet_Project=!1}(e)}))}},ud=function(t){if(!t.IsGet_Result_WeekCells){t.IsGet_Result_WeekCells=!0;var e=t.Dict;!function(n){var i=[];n.forEach((function(t){return i.push.apply(i,t.WeekItems)})),t.Result_WeekCells=x(i,"Week",(function(n){var i=e.GetWeekColumn(n);return t.GetWeekCell(i)})),t.IsGet_Result_WeekCells=!1}(t.Items)}},od=function(){function t(){Object(u.a)(this,t),this.filterValue=void 0,Object(l.k)(this,{filterValue:l.l})}return Object(o.a)(t,[{key:"id",get:function(){return this.Field}},{key:"Table",get:function(){return this.Dict}},{key:"FilterValue",get:function(){return this.filterValue},set:function(t){this.filterValue=t}},{key:"FilterValueVM",get:function(){return this.filterValueVM||(this.filterValueVM=dd(this)),this.filterValueVM}},{key:"View",get:function(){return ld(this)}},{key:"FilterView",get:function(){return fd(this)}}]),t}(),hd=function(t){var e=new od;return e.Dict=t,e},dd=function(t){var e=new ws;return e.Placeholder="t\xecm ki\u1ebfm ...",e.Content=t.TempFilterValue,e.OnSetContent=function(e){t.TempFilterValue=e},e},ld=function(t){return Object(i.jsx)("th",{children:Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("div",{className:"text-center items-center flex-1",children:zi(t.Field)}),t.FilterView]})},t.id)},fd=function(t){return Object(i.jsx)("div",{className:"mr-2",children:Object(i.jsx)(gr.a,{trigger:"click",placement:"bottomLeft",content:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("div",{className:"flex-1 w-36",children:Object(i.jsx)(Hs,{store:t.FilterValueVM})}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)(mn.a,{type:"primary",size:"small",onClick:function(){return t.FilterValue=t.FilterValueVM.Content},children:"ok"}),Object(i.jsx)(mn.a,{type:"primary",size:"small",className:"btn-danger",onClick:function(){return t.FilterValue=t.FilterValueVM.Content=void 0},children:"x"})]})]}),children:Object(i.jsx)(ra.a,{})})})},md=function(t){var e=new Qh;return e.Dict=t,e},Id=function(t){return t.HeaderFields.map((function(e){return function(t,e){var n=hd(e);return n.Field=t.field,n}({field:e},t)}))},pd=function(t){if(!t.IsGet_DataRows){t.IsGet_DataRows=!0;var e=function(e){var n=t.Row_GroupField;t.DataRows=x(e,n,(function(e){var i=rd(t);return i[n]=e,i})),t.IsGet_DataRows=!1},n=t.Dict.ModelItem;n.Tasks?e(n.Tasks):V(n.OnSet_Tasks_Func,(function(){return e(n.Tasks)}))}},vd=function(t){var e=t.DataRows;if(!e)return e;var n=t.HeaderColumns.filter((function(t){return void 0!==t.FilterValue}));return 0!==n.length&&(e=e.filter((function(t){var e=!0;return n.forEach((function(n){if(e){var i=n.Field,s=qi(i)(t);e=s&&s.toLowerCase().includes(n.FilterValue)}})),e}))),e},kd=function(t){var e=rd(t);return e.IsSummary=!0,e},bd=function(t){var e=md(t);return e.Row_GroupField=Ei,e},_d=function(t){var e=md(t);return e.IsDebug=!0,e.Row_GroupField=Ki,e},jd=function(){return Is.Instance},Od=function(t){return new ps},gd=function(t){return function(t,e){var n=new Ic;return n.ModelItem=t,n.Dict=e,n}(jd().DisciplineGroup)},Dd=function(t){return function(t,e){var n=new _h;return n.ModelItem=t,n.Dict=e,n}(jd().ProjectDict)},yd=function(t){return function(t,e){var n=new Dh;return n.ModelItem=t,n.Dict=e,n}(jd().ReportGroup,t)},wd=function(t){return function(t,e){var n=new Uh;return n.ModelItem=t,n.Dict=e,n}(jd().ReportData_Dict,t)},Sd=function(t){return function(t,e){var n=new qh;return n.ModelItem=t,n.Dict=e,n}(jd().TaskweekData_Dict,t)},xd=n(70),Cd=n(23),Vd=(n(415),n(416),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new js,i}return Object(o.a)(n,[{key:"render",value:function(){this.state;return Object(i.jsx)(i.Fragment,{})}}]),n}(s.Component)),Fd=(Object(fe.a)(Vd),n(417),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new Os,i}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"body__wrapper",children:t.MainView})})}}]),n}(s.Component)),Md=Object(fe.a)(Fd),Rd=(n(418),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new dc,i}return Object(o.a)(n,[{key:"render",value:function(){this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"footer__wrapper",children:"Footer"})})}}]),n}(s.Component)),Td=(Object(fe.a)(Rd),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;Object(u.a)(this,n);var s=(i=e.call(this,t)).props.store;return i.state=s||new ps,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.state;var t=this.props.match.params,e=t.type,n=(t.meta,t.type2);rc(e,0,n)}},{key:"componentDidUpdate",value:function(){this.state;var t=this.props.match.params,e=t.type,n=(t.meta,t.type2);rc(e,0,n)}},{key:"render",value:function(){var t=this.state;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"layout__wrapper",children:Object(i.jsx)(Md,{store:t.Body})})})}}]),n}(s.Component)),Nd=Object(Cd.f)(Object(fe.a)(Td)),Pd=(n(420),function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){this.data;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(xd.b,{basename:"/BIMPlan",children:Object(i.jsx)(Cd.a,{path:"/:type?/:meta?/:type2?",exact:!0,component:Nd})})})}}]),n}(s.Component)),Gd=Object(fe.a)(Pd),Ad=function(){function t(){Object(u.a)(this,t),this.OnSet_IsAdmin_Func_Dict=[],this.isAdmin=void 0,this.routeData=void 0,this.UnAuthorized_View=Object(i.jsx)("span",{className:"text-[#ff4d4f] font-medium text-sm",children:"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp View hi\u1ec7n t\u1ea1i!"}),Object(l.k)(this,{isAdmin:l.l,routeData:l.l})}return Object(o.a)(t,[{key:"pmData",get:function(){return Is.Instance}},{key:"UpdatedDate",get:function(){return this.pmData.UpdatedDate}},{key:"Layout",get:function(){return this.layout||(this.layout=Od()),this.layout}},{key:"IsAdmin",get:function(){return this.isAdmin},set:function(t){var e=this;this.isAdmin=t,F(this.OnSet_IsAdmin_Func_Dict,(function(t){return e.OnSet_IsAdmin_Func_Dict=t}))}},{key:"RouteData",get:function(){return this.routeData||(this.routeData=["plan"]),this.routeData},set:function(t){this.routeData=t}},{key:"MainView",get:function(){return Object(i.jsx)(Gd,{store:this})}},{key:"WrapperView",get:function(){return this.pmData.IsDeploy?Object(i.jsx)(xd.b,{basename:"/BIMPlan",children:Object(i.jsx)(Cd.c,{children:this.MainView})}):Object(i.jsx)(xd.a,{children:Object(i.jsx)(Cd.c,{children:this.MainView})})}},{key:"DisciplineGroup",get:function(){return this.disciplineGroup||(this.disciplineGroup=gd()),this.disciplineGroup}},{key:"DisciplineDict",get:function(){return this.disciplineDict||(this.disciplineDict=oi(jd().DisciplineDict)),this.disciplineDict}},{key:"ProjectDict",get:function(){return this.projectDict||(this.projectDict=Dd()),this.projectDict}},{key:"ReportGroup",get:function(){return this.reportGroup||(this.reportGroup=yd(this)),this.reportGroup}},{key:"ReportData_Dict",get:function(){return this.reportData_Dict||(this.reportData_Dict=wd(this)),this.reportData_Dict}},{key:"TaskweekData_Dict",get:function(){return this.taskweekData_Dict||(this.taskweekData_Dict=Sd(this)),this.taskweekData_Dict}}],[{key:"Instance",get:function(){return this.instance||(this.instance=new Ad),this.instance},set:function(t){this.instance=t}}]),t}(),Wd=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(i.jsx)(i.Fragment,{children:Ad.Instance.WrapperView})}}]),n}(s.Component),Bd=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,444)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),i(t),s(t),r(t),c(t)}))};a.a.render(Object(i.jsx)(Wd,{}),document.getElementById("root")),Bd()}},[[421,1,2]]]);
//# sourceMappingURL=main.98a0fc13.chunk.js.map